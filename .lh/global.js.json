{
    "sourceFile": "global.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 50,
            "patches": [
                {
                    "date": 1763060335402,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1763060647088,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,143 +1,109 @@\n-// ========== AUTH + POSTS + DARK MODE ==========\n+// ---------- Auth Area ----------\n const authArea = document.getElementById('authArea');\n const user = JSON.parse(localStorage.getItem('currentUser'));\n \n-// Render Auth UI\n-function renderAuth(){\n-  if(!authArea) return;\n-  if(user){\n+function renderAuth() {\n+  if (!authArea) return;\n+  if (user) {\n     authArea.innerHTML = `<span>${user.name}</span> <button onclick=\"logout()\">Logout</button>`;\n   } else {\n     authArea.innerHTML = `<a href='signin.html'>Sign In</a>`;\n   }\n }\n-function logout(){\n+\n+function logout() {\n   localStorage.removeItem('currentUser');\n-  location.href='signin.html';\n+  location.href = 'signin.html';\n }\n+\n renderAuth();\n \n-// ========== SIGNUP ==========\n-const signupForm = document.getElementById('signupForm');\n-if(signupForm){\n-  signupForm.addEventListener('submit', e=>{\n-    e.preventDefault();\n-    const name = document.getElementById('suName').value;\n-    const email = document.getElementById('suEmail').value;\n-    const pass = document.getElementById('suPass').value;\n+// ---------- Upload Logic ----------\n+const uploadForm = document.getElementById('uploadForm');\n \n-    let users = JSON.parse(localStorage.getItem('users') || '[]');\n-    if(users.find(u=>u.email === email)) return alert('Email already exists');\n-\n-    const newUser = {name,email,pass};\n-    users.push(newUser);\n-    localStorage.setItem('users', JSON.stringify(users));\n-    localStorage.setItem('currentUser', JSON.stringify(newUser));\n-    location.href = 'index.html';\n-  });\n-}\n-\n-// ========== SIGNIN ==========\n-const signinForm = document.getElementById('signinForm');\n-if(signinForm){\n-  signinForm.addEventListener('submit', e=>{\n+if (uploadForm) {\n+  uploadForm.addEventListener('submit', e => {\n     e.preventDefault();\n-    const email = document.getElementById('siEmail').value;\n-    const pass = document.getElementById('siPass').value;\n+    if (!user) return alert('Please login first.');\n \n-    let users = JSON.parse(localStorage.getItem('users') || '[]');\n-    const found = users.find(u=>u.email === email && u.pass === pass);\n-    if(!found) return alert('Invalid credentials');\n-\n-    localStorage.setItem('currentUser', JSON.stringify(found));\n-    location.href = 'index.html';\n-  });\n-}\n-\n-// ========== UPLOAD ==========\n-const uploadForm = document.getElementById('uploadForm');\n-if(uploadForm){\n-  uploadForm.addEventListener('submit', e=>{\n-    e.preventDefault();\n-    if(!user) return alert('Login required to upload.');\n-\n     const file = document.getElementById('fileInput').files[0];\n     const caption = document.getElementById('caption').value.trim();\n \n-    if(!file) return alert('Please select a file.');\n+    if (!file) return alert('Please select a file');\n+\n     const reader = new FileReader();\n-    reader.onload = ()=>{\n-      let posts = JSON.parse(localStorage.getItem('posts') || '[]');\n+    reader.onload = () => {\n+      const posts = JSON.parse(localStorage.getItem('posts') || '[]');\n       const newPost = {\n         src: reader.result,\n         type: file.type,\n         caption,\n         user: user.name,\n         likes: 0,\n-        date: new Date().toLocaleString()\n+        time: new Date().toLocaleString()\n       };\n       posts.unshift(newPost);\n       localStorage.setItem('posts', JSON.stringify(posts));\n-      alert('Upload successful!');\n-      location.href='index.html';\n+      alert('Upload successful ‚úÖ');\n+      location.href = 'index.html';\n     };\n     reader.readAsDataURL(file);\n   });\n }\n \n-// ========== RENDER POSTS ==========\n-function renderPosts(targetId, onlyUser=false){\n+// ---------- Feed Rendering ----------\n+function renderPosts(targetId, onlyUser = false) {\n   const el = document.getElementById(targetId);\n-  if(!el) return;\n+  if (!el) return;\n+\n   let posts = JSON.parse(localStorage.getItem('posts') || '[]');\n-  if(onlyUser && user){ posts = posts.filter(p => p.user === user.name); }\n+  if (onlyUser && user) posts = posts.filter(p => p.user === user.name);\n \n-  el.innerHTML = posts.length === 0 ? \n-    \"<p style='text-align:center;opacity:0.6;'>No posts yet.</p>\" :\n-    posts.map((p,i)=>`\n+  el.innerHTML = posts\n+    .map(\n+      (p, i) => `\n       <div class='card'>\n-        ${p.type.startsWith('image') \n-          ? `<img src='${p.src}' alt='post'/>`\n-          : `<video controls src='${p.src}'></video>`}\n+        ${\n+          p.type.startsWith('image')\n+            ? `<img src='${p.src}' alt='post'/>`\n+            : `<video controls src='${p.src}'></video>`\n+        }\n         <p><b>${p.user}</b> ‚Äî ${p.caption || ''}</p>\n-        <small style=\"color:#777; padding:0 1rem;\">${p.date}</small>\n         <div class='actions'>\n           <button onclick='likePost(${i})'>‚ù§Ô∏è ${p.likes || 0}</button>\n           <button onclick='sharePost(${i})'>üîó Share</button>\n         </div>\n-      </div>`).join('');\n+      </div>`\n+    )\n+    .join('');\n }\n \n-// Like Post\n-function likePost(i){\n-  let posts = JSON.parse(localStorage.getItem('posts') || '[]');\n+function likePost(i) {\n+  const posts = JSON.parse(localStorage.getItem('posts') || '[]');\n   posts[i].likes = (posts[i].likes || 0) + 1;\n   localStorage.setItem('posts', JSON.stringify(posts));\n   renderPosts('gallery');\n   renderPosts('userGallery', true);\n }\n \n-// Share Post\n-function sharePost(i){\n+function sharePost(i) {\n   const posts = JSON.parse(localStorage.getItem('posts') || '[]');\n   navigator.clipboard.writeText(posts[i].src);\n-  alert('Post link copied!');\n+  alert('Post link copied ‚úÖ');\n }\n \n-// Initialize render on page load\n-renderPosts('gallery');\n-renderPosts('userGallery', true);\n+// ---------- Dark Mode ----------\n+const toggleBtn = document.getElementById('modeToggle');\n+if (toggleBtn) {\n+  if (localStorage.getItem('dark') === 'true') document.body.classList.add('dark');\n \n-// ========== DARK MODE ==========\n-const toggleBtn = document.getElementById('modeToggle');\n-if(toggleBtn){\n-  if(localStorage.getItem('dark') === 'true'){\n-    document.body.classList.add('dark');\n-    toggleBtn.textContent = '‚òÄÔ∏è';\n-  }\n-  toggleBtn.addEventListener('click', ()=>{\n+  toggleBtn.addEventListener('click', () => {\n     document.body.classList.toggle('dark');\n     localStorage.setItem('dark', document.body.classList.contains('dark'));\n     toggleBtn.textContent = document.body.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';\n   });\n }\n+\n+// Render posts on home and dashboard\n+renderPosts('gallery');\n+renderPosts('userGallery', true);\n"
                },
                {
                    "date": 1763060835580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,1 @@\n+// Auth + LocalStorage + Posts + Dark Mode const authArea = document.getElementById('authArea'); const user = JSON.parse(localStorage.getItem('currentUser')); // Render Auth function renderAuth(){ if(!authArea) return; if(user){ authArea.innerHTML = <span>${user.name}</span> <button onclick=\"logout()\">Logout</button>; } else { authArea.innerHTML = <a href='signin.html'>Sign In</a>; } } function logout(){ localStorage.removeItem('currentUser'); location.href='signin.html'; } renderAuth(); // Signup const signupForm = document.getElementById('signupForm'); if(signupForm){ signupForm.addEventListener('submit', e=>{ e.preventDefault(); const name = document.getElementById('suName').value; const email = document.getElementById('suEmail').value; const pass = document.getElementById('suPass').value; let users = JSON.parse(localStorage.getItem('users')||'[]'); if(users.find(u=>u.email===email)) return alert('Email already exists'); const newUser = {name,email,pass}; users.push(newUser); localStorage.setItem('users',JSON.stringify(users)); localStorage.setItem('currentUser',JSON.stringify(newUser)); location.href='index.html'; }); } // Signin const signinForm = document.getElementById('signinForm'); if(signinForm){ signinForm.addEventListener('submit', e=>{ e.preventDefault(); const email = document.getElementById('siEmail').value; const pass = document.getElementById('siPass').value; let users = JSON.parse(localStorage.getItem('users')||'[]'); const found = users.find(u=>u.email===email && u.pass===pass); if(!found) return alert('Invalid login'); localStorage.setItem('currentUser',JSON.stringify(found)); location.href='index.html'; }); } // Upload const uploadForm = document.getElementById('uploadForm'); if(uploadForm){ uploadForm.addEventListener('submit', e=>{ e.preventDefault(); if(!user) return alert('Login required'); const file = document.getElementById('fileInput').files[0]; const caption = document.getElementById('caption').value; if(!file) return; const reader = new FileReader(); reader.onload = ()=>{ let posts = JSON.parse(localStorage.getItem('posts')||'[]'); const newPost = {src:reader.result,type:file.type,caption,user:user.name,likes:0}; posts.unshift(newPost); localStorage.setItem('posts',JSON.stringify(posts)); location.href='index.html'; }; reader.readAsDataURL(file); }); } // Render Feed function renderPosts(targetId, onlyUser=false){ const el = document.getElementById(targetId); if(!el) return; let posts = JSON.parse(localStorage.getItem('posts')||'[]'); if(onlyUser && user){ posts = posts.filter(p=>p.user===user.name); } el.innerHTML = posts.map((p,i)=> <div class='card'> ${p.type.startsWith('image')?<img src='${p.src}'/>:<video controls src='${p.src}'></video>} <p><b>${p.user}</b> ‚Äî ${p.caption||''}</p> <div class='actions'> <button onclick='likePost(${i})'>‚ù§Ô∏è ${p.likes||0}</button> <button onclick='sharePost(${i})'>üîó Share</button> </div> </div>).join(''); } function likePost(i){ let posts = JSON.parse(localStorage.getItem('posts')||'[]'); posts[i].likes = (posts[i].likes||0)+1; localStorage.setItem('posts',JSON.stringify(posts)); renderPosts('gallery');renderPosts('userGallery',true); } function sharePost(i){ const posts = JSON.parse(localStorage.getItem('posts')||'[]'); navigator.clipboard.writeText(posts[i].src); alert('Post link copied!'); } renderPosts('gallery'); renderPosts('userGallery',true); // Dark mode toggle const toggleBtn = document.getElementById('modeToggle'); if(toggleBtn){ if(localStorage.getItem('dark')==='true'){document.body.classList.add('dark');} toggleBtn.addEventListener('click',()=>{ document.body.classList.toggle('dark'); localStorage.setItem('dark',document.body.classList.contains('dark')); toggleBtn.textContent=document.body.classList.contains('dark')?'‚òÄÔ∏è':'üåô'; }); }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763060898554,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,110 +1,193 @@\n-// Auth + LocalStorage + Posts + Dark Mode const authArea = document.getElementById('authArea'); const user = JSON.parse(localStorage.getItem('currentUser')); // Render Auth function renderAuth(){ if(!authArea) return; if(user){ authArea.innerHTML = <span>${user.name}</span> <button onclick=\"logout()\">Logout</button>; } else { authArea.innerHTML = <a href='signin.html'>Sign In</a>; } } function logout(){ localStorage.removeItem('currentUser'); location.href='signin.html'; } renderAuth(); // Signup const signupForm = document.getElementById('signupForm'); if(signupForm){ signupForm.addEventListener('submit', e=>{ e.preventDefault(); const name = document.getElementById('suName').value; const email = document.getElementById('suEmail').value; const pass = document.getElementById('suPass').value; let users = JSON.parse(localStorage.getItem('users')||'[]'); if(users.find(u=>u.email===email)) return alert('Email already exists'); const newUser = {name,email,pass}; users.push(newUser); localStorage.setItem('users',JSON.stringify(users)); localStorage.setItem('currentUser',JSON.stringify(newUser)); location.href='index.html'; }); } // Signin const signinForm = document.getElementById('signinForm'); if(signinForm){ signinForm.addEventListener('submit', e=>{ e.preventDefault(); const email = document.getElementById('siEmail').value; const pass = document.getElementById('siPass').value; let users = JSON.parse(localStorage.getItem('users')||'[]'); const found = users.find(u=>u.email===email && u.pass===pass); if(!found) return alert('Invalid login'); localStorage.setItem('currentUser',JSON.stringify(found)); location.href='index.html'; }); } // Upload const uploadForm = document.getElementById('uploadForm'); if(uploadForm){ uploadForm.addEventListener('submit', e=>{ e.preventDefault(); if(!user) return alert('Login required'); const file = document.getElementById('fileInput').files[0]; const caption = document.getElementById('caption').value; if(!file) return; const reader = new FileReader(); reader.onload = ()=>{ let posts = JSON.parse(localStorage.getItem('posts')||'[]'); const newPost = {src:reader.result,type:file.type,caption,user:user.name,likes:0}; posts.unshift(newPost); localStorage.setItem('posts',JSON.stringify(posts)); location.href='index.html'; }; reader.readAsDataURL(file); }); } // Render Feed function renderPosts(targetId, onlyUser=false){ const el = document.getElementById(targetId); if(!el) return; let posts = JSON.parse(localStorage.getItem('posts')||'[]'); if(onlyUser && user){ posts = posts.filter(p=>p.user===user.name); } el.innerHTML = posts.map((p,i)=> <div class='card'> ${p.type.startsWith('image')?<img src='${p.src}'/>:<video controls src='${p.src}'></video>} <p><b>${p.user}</b> ‚Äî ${p.caption||''}</p> <div class='actions'> <button onclick='likePost(${i})'>‚ù§Ô∏è ${p.likes||0}</button> <button onclick='sharePost(${i})'>üîó Share</button> </div> </div>).join(''); } function likePost(i){ let posts = JSON.parse(localStorage.getItem('posts')||'[]'); posts[i].likes = (posts[i].likes||0)+1; localStorage.setItem('posts',JSON.stringify(posts)); renderPosts('gallery');renderPosts('userGallery',true); } function sharePost(i){ const posts = JSON.parse(localStorage.getItem('posts')||'[]'); navigator.clipboard.writeText(posts[i].src); alert('Post link copied!'); } renderPosts('gallery'); renderPosts('userGallery',true); // Dark mode toggle const toggleBtn = document.getElementById('modeToggle'); if(toggleBtn){ if(localStorage.getItem('dark')==='true'){document.body.classList.add('dark');} toggleBtn.addEventListener('click',()=>{ document.body.classList.toggle('dark'); localStorage.setItem('dark',document.body.classList.contains('dark')); toggleBtn.textContent=document.body.classList.contains('dark')?'‚òÄÔ∏è':'üåô'; }); }\n-// ---------- Auth Area ----------\n-const authArea = document.getElementById('authArea');\n-const user = JSON.parse(localStorage.getItem('currentUser'));\n+// ==========================\n+// Global Script: global.js\n+// ==========================\n \n+// Auth Area Setup\n+const authArea = document.getElementById(\"authArea\");\n+let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n+\n+// Render Authentication Area\n function renderAuth() {\n   if (!authArea) return;\n+\n   if (user) {\n-    authArea.innerHTML = `<span>${user.name}</span> <button onclick=\"logout()\">Logout</button>`;\n+    authArea.innerHTML = `\n+      <span class=\"username\">üë§ ${user.name}</span>\n+      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n+    `;\n   } else {\n-    authArea.innerHTML = `<a href='signin.html'>Sign In</a>`;\n+    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n   }\n }\n \n+// Logout Function\n function logout() {\n-  localStorage.removeItem('currentUser');\n-  location.href = 'signin.html';\n+  localStorage.removeItem(\"currentUser\");\n+  location.href = \"signin.html\";\n }\n \n renderAuth();\n \n-// ---------- Upload Logic ----------\n-const uploadForm = document.getElementById('uploadForm');\n+// ==========================\n+// SIGN UP\n+// ==========================\n+const signupForm = document.getElementById(\"signupForm\");\n+if (signupForm) {\n+  signupForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n \n+    const name = document.getElementById(\"suName\").value.trim();\n+    const email = document.getElementById(\"suEmail\").value.trim();\n+    const pass = document.getElementById(\"suPass\").value.trim();\n+\n+    if (!name || !email || !pass) return alert(\"All fields are required!\");\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+\n+    if (users.find((u) => u.email === email))\n+      return alert(\"Email already exists!\");\n+\n+    const newUser = { name, email, pass };\n+    users.push(newUser);\n+\n+    localStorage.setItem(\"users\", JSON.stringify(users));\n+    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n+\n+    alert(\"Signup successful!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n+// SIGN IN\n+// ==========================\n+const signinForm = document.getElementById(\"signinForm\");\n+if (signinForm) {\n+  signinForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+\n+    const email = document.getElementById(\"siEmail\").value.trim();\n+    const pass = document.getElementById(\"siPass\").value.trim();\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    const found = users.find((u) => u.email === email && u.pass === pass);\n+\n+    if (!found) return alert(\"Invalid login credentials!\");\n+\n+    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n+    alert(\"Welcome back!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n+// UPLOAD POST\n+// ==========================\n+const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n-  uploadForm.addEventListener('submit', e => {\n+  uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n-    if (!user) return alert('Please login first.');\n \n-    const file = document.getElementById('fileInput').files[0];\n-    const caption = document.getElementById('caption').value.trim();\n+    if (!user) return alert(\"Please login first!\");\n \n-    if (!file) return alert('Please select a file');\n+    const file = document.getElementById(\"fileInput\").files[0];\n+    const caption = document.getElementById(\"caption\").value.trim();\n \n\\ No newline at end of file\n+    if (!file) return alert(\"Please select a file!\");\n+\n     const reader = new FileReader();\n     reader.onload = () => {\n-      const posts = JSON.parse(localStorage.getItem('posts') || '[]');\n+      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n       const newPost = {\n         src: reader.result,\n         type: file.type,\n         caption,\n         user: user.name,\n         likes: 0,\n-        time: new Date().toLocaleString()\n+        time: new Date().toLocaleString(),\n       };\n       posts.unshift(newPost);\n-      localStorage.setItem('posts', JSON.stringify(posts));\n-      alert('Upload successful ‚úÖ');\n-      location.href = 'index.html';\n+      localStorage.setItem(\"posts\", JSON.stringify(posts));\n+      alert(\"Post uploaded successfully!\");\n+      location.href = \"index.html\";\n     };\n     reader.readAsDataURL(file);\n   });\n }\n \n-// ---------- Feed Rendering ----------\n+// ==========================\n+// RENDER POSTS\n+// ==========================\n function renderPosts(targetId, onlyUser = false) {\n   const el = document.getElementById(targetId);\n   if (!el) return;\n \n-  let posts = JSON.parse(localStorage.getItem('posts') || '[]');\n-  if (onlyUser && user) posts = posts.filter(p => p.user === user.name);\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n \n+  if (posts.length === 0) {\n+    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n+    return;\n+  }\n+\n   el.innerHTML = posts\n     .map(\n       (p, i) => `\n-      <div class='card'>\n-        ${\n-          p.type.startsWith('image')\n-            ? `<img src='${p.src}' alt='post'/>`\n-            : `<video controls src='${p.src}'></video>`\n-        }\n-        <p><b>${p.user}</b> ‚Äî ${p.caption || ''}</p>\n-        <div class='actions'>\n-          <button onclick='likePost(${i})'>‚ù§Ô∏è ${p.likes || 0}</button>\n-          <button onclick='sharePost(${i})'>üîó Share</button>\n-        </div>\n-      </div>`\n+    <div class=\"card\">\n+      ${\n+        p.type.startsWith(\"image\")\n+          ? `<img src=\"${p.src}\" alt=\"post\" />`\n+          : `<video controls src=\"${p.src}\"></video>`\n+      }\n+      <div class=\"post-info\">\n+        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+        <small>${p.time}</small>\n+      </div>\n+      <div class=\"actions\">\n+        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+        <button onclick=\"sharePost(${i})\">üîó Share</button>\n+      </div>\n+    </div>\n+  `\n     )\n-    .join('');\n+    .join(\"\");\n }\n \n+// LIKE\n function likePost(i) {\n-  const posts = JSON.parse(localStorage.getItem('posts') || '[]');\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   posts[i].likes = (posts[i].likes || 0) + 1;\n-  localStorage.setItem('posts', JSON.stringify(posts));\n-  renderPosts('gallery');\n-  renderPosts('userGallery', true);\n+  localStorage.setItem(\"posts\", JSON.stringify(posts));\n+  renderPosts(\"gallery\");\n+  renderPosts(\"userGallery\", true);\n }\n \n+// SHARE\n function sharePost(i) {\n-  const posts = JSON.parse(localStorage.getItem('posts') || '[]');\n+  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n-  alert('Post link copied ‚úÖ');\n+  alert(\"Post link copied!\");\n }\n \n-// ---------- Dark Mode ----------\n-const toggleBtn = document.getElementById('modeToggle');\n+// Initial Renders\n+renderPosts(\"gallery\");\n+renderPosts(\"userGallery\", true);\n+\n+// ==========================\n+// DARK MODE\n+// ==========================\n+const toggleBtn = document.getElementById(\"modeToggle\");\n if (toggleBtn) {\n-  if (localStorage.getItem('dark') === 'true') document.body.classList.add('dark');\n+  const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n+  if (darkEnabled) {\n+    document.body.classList.add(\"dark\");\n+    toggleBtn.textContent = \"‚òÄÔ∏è\";\n+  }\n \n-  toggleBtn.addEventListener('click', () => {\n-    document.body.classList.toggle('dark');\n-    localStorage.setItem('dark', document.body.classList.contains('dark'));\n-    toggleBtn.textContent = document.body.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';\n+  toggleBtn.addEventListener(\"click\", () => {\n+    document.body.classList.toggle(\"dark\");\n+    const isDark = document.body.classList.contains(\"dark\");\n+    localStorage.setItem(\"dark\", isDark);\n+    toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n   });\n }\n-\n-// Render posts on home and dashboard\n-renderPosts('gallery');\n-renderPosts('userGallery', true);\n"
                },
                {
                    "date": 1763061024360,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,12 +5,11 @@\n // Auth Area Setup\n const authArea = document.getElementById(\"authArea\");\n let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n \n-// Render Authentication Area\n+// Render Authentication\n function renderAuth() {\n   if (!authArea) return;\n-\n   if (user) {\n     authArea.innerHTML = `\n       <span class=\"username\">üë§ ${user.name}</span>\n       <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n@@ -18,15 +17,12 @@\n   } else {\n     authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n   }\n }\n-\n-// Logout Function\n function logout() {\n   localStorage.removeItem(\"currentUser\");\n   location.href = \"signin.html\";\n }\n-\n renderAuth();\n \n // ==========================\n // SIGN UP\n@@ -42,12 +38,10 @@\n \n     if (!name || !email || !pass) return alert(\"All fields are required!\");\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    if (users.find((u) => u.email === email)) return alert(\"Email already exists!\");\n \n-    if (users.find((u) => u.email === email))\n-      return alert(\"Email already exists!\");\n-\n     const newUser = { name, email, pass };\n     users.push(newUser);\n \n     localStorage.setItem(\"users\", JSON.stringify(users));\n@@ -71,18 +65,18 @@\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n     const found = users.find((u) => u.email === email && u.pass === pass);\n \n-    if (!found) return alert(\"Invalid login credentials!\");\n+    if (!found) return alert(\"Invalid email or password!\");\n \n     localStorage.setItem(\"currentUser\", JSON.stringify(found));\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n \n // ==========================\n-// UPLOAD POST\n+// UPLOAD POST (Image / Video)\n // ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n@@ -92,24 +86,34 @@\n \n     const file = document.getElementById(\"fileInput\").files[0];\n     const caption = document.getElementById(\"caption\").value.trim();\n \n-    if (!file) return alert(\"Please select a file!\");\n+    if (!file) return alert(\"Please select an image or video file!\");\n \n+    // Supported Types\n+    const allowedTypes = [\n+      \"image/jpeg\", \"image/png\", \"image/gif\", \"image/webp\", \"image/jpg\",\n+      \"video/mp4\", \"video/webm\", \"video/ogg\", \"video/mov\", \"video/avi\"\n+    ];\n+\n+    if (!allowedTypes.includes(file.type)) {\n+      return alert(\"Unsupported file type! Please upload a valid image or video.\");\n+    }\n+\n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n       const newPost = {\n         src: reader.result,\n-        type: file.type,\n+        type: file.type.startsWith(\"image\") ? \"image\" : \"video\",\n         caption,\n         user: user.name,\n         likes: 0,\n-        time: new Date().toLocaleString(),\n+        time: new Date().toLocaleString()\n       };\n       posts.unshift(newPost);\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Post uploaded successfully!\");\n+      alert(\"Upload successful!\");\n       location.href = \"index.html\";\n     };\n     reader.readAsDataURL(file);\n   });\n@@ -132,38 +136,35 @@\n \n   el.innerHTML = posts\n     .map(\n       (p, i) => `\n-    <div class=\"card\">\n-      ${\n-        p.type.startsWith(\"image\")\n-          ? `<img src=\"${p.src}\" alt=\"post\" />`\n-          : `<video controls src=\"${p.src}\"></video>`\n-      }\n-      <div class=\"post-info\">\n-        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-        <small>${p.time}</small>\n-      </div>\n-      <div class=\"actions\">\n-        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-        <button onclick=\"sharePost(${i})\">üîó Share</button>\n-      </div>\n-    </div>\n-  `\n+      <div class=\"card\">\n+        ${\n+          p.type === \"image\"\n+            ? `<img src=\"${p.src}\" alt=\"post\" />`\n+            : `<video controls src=\"${p.src}\"></video>`\n+        }\n+        <div class=\"post-info\">\n+          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+          <small>${p.time}</small>\n+        </div>\n+        <div class=\"actions\">\n+          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+          <button onclick=\"sharePost(${i})\">üîó Share</button>\n+        </div>\n+      </div>`\n     )\n     .join(\"\");\n }\n \n-// LIKE\n function likePost(i) {\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   posts[i].likes = (posts[i].likes || 0) + 1;\n   localStorage.setItem(\"posts\", JSON.stringify(posts));\n   renderPosts(\"gallery\");\n   renderPosts(\"userGallery\", true);\n }\n \n-// SHARE\n function sharePost(i) {\n   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n   alert(\"Post link copied!\");\n@@ -182,12 +183,11 @@\n   if (darkEnabled) {\n     document.body.classList.add(\"dark\");\n     toggleBtn.textContent = \"‚òÄÔ∏è\";\n   }\n-\n   toggleBtn.addEventListener(\"click\", () => {\n     document.body.classList.toggle(\"dark\");\n     const isDark = document.body.classList.contains(\"dark\");\n     localStorage.setItem(\"dark\", isDark);\n     toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n   });\n-}\n\\ No newline at end of file\n+}\n"
                },
                {
                    "date": 1763061060273,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,11 +5,12 @@\n // Auth Area Setup\n const authArea = document.getElementById(\"authArea\");\n let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n \n-// Render Authentication\n+// Render Authentication Area\n function renderAuth() {\n   if (!authArea) return;\n+\n   if (user) {\n     authArea.innerHTML = `\n       <span class=\"username\">üë§ ${user.name}</span>\n       <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n@@ -17,12 +18,15 @@\n   } else {\n     authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n   }\n }\n+\n+// Logout Function\n function logout() {\n   localStorage.removeItem(\"currentUser\");\n   location.href = \"signin.html\";\n }\n+\n renderAuth();\n \n // ==========================\n // SIGN UP\n@@ -38,10 +42,12 @@\n \n     if (!name || !email || !pass) return alert(\"All fields are required!\");\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    if (users.find((u) => u.email === email)) return alert(\"Email already exists!\");\n \n+    if (users.find((u) => u.email === email))\n+      return alert(\"Email already exists!\");\n+\n     const newUser = { name, email, pass };\n     users.push(newUser);\n \n     localStorage.setItem(\"users\", JSON.stringify(users));\n@@ -65,18 +71,18 @@\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n     const found = users.find((u) => u.email === email && u.pass === pass);\n \n-    if (!found) return alert(\"Invalid email or password!\");\n+    if (!found) return alert(\"Invalid login credentials!\");\n \n     localStorage.setItem(\"currentUser\", JSON.stringify(found));\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n \n // ==========================\n-// UPLOAD POST (Image / Video)\n+// UPLOAD POST\n // ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n@@ -86,34 +92,24 @@\n \n     const file = document.getElementById(\"fileInput\").files[0];\n     const caption = document.getElementById(\"caption\").value.trim();\n \n-    if (!file) return alert(\"Please select an image or video file!\");\n+    if (!file) return alert(\"Please select a file!\");\n \n-    // Supported Types\n-    const allowedTypes = [\n-      \"image/jpeg\", \"image/png\", \"image/gif\", \"image/webp\", \"image/jpg\",\n-      \"video/mp4\", \"video/webm\", \"video/ogg\", \"video/mov\", \"video/avi\"\n-    ];\n-\n-    if (!allowedTypes.includes(file.type)) {\n-      return alert(\"Unsupported file type! Please upload a valid image or video.\");\n-    }\n-\n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n       const newPost = {\n         src: reader.result,\n-        type: file.type.startsWith(\"image\") ? \"image\" : \"video\",\n+        type: file.type,\n         caption,\n         user: user.name,\n         likes: 0,\n-        time: new Date().toLocaleString()\n+        time: new Date().toLocaleString(),\n       };\n       posts.unshift(newPost);\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Upload successful!\");\n+      alert(\"Post uploaded successfully!\");\n       location.href = \"index.html\";\n     };\n     reader.readAsDataURL(file);\n   });\n@@ -136,35 +132,38 @@\n \n   el.innerHTML = posts\n     .map(\n       (p, i) => `\n-      <div class=\"card\">\n-        ${\n-          p.type === \"image\"\n-            ? `<img src=\"${p.src}\" alt=\"post\" />`\n-            : `<video controls src=\"${p.src}\"></video>`\n-        }\n-        <div class=\"post-info\">\n-          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-          <small>${p.time}</small>\n-        </div>\n-        <div class=\"actions\">\n-          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-          <button onclick=\"sharePost(${i})\">üîó Share</button>\n-        </div>\n-      </div>`\n+    <div class=\"card\">\n+      ${\n+        p.type.startsWith(\"image\")\n+          ? `<img src=\"${p.src}\" alt=\"post\" />`\n+          : `<video controls src=\"${p.src}\"></video>`\n+      }\n+      <div class=\"post-info\">\n+        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+        <small>${p.time}</small>\n+      </div>\n+      <div class=\"actions\">\n+        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+        <button onclick=\"sharePost(${i})\">üîó Share</button>\n+      </div>\n+    </div>\n+  `\n     )\n     .join(\"\");\n }\n \n+// LIKE\n function likePost(i) {\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   posts[i].likes = (posts[i].likes || 0) + 1;\n   localStorage.setItem(\"posts\", JSON.stringify(posts));\n   renderPosts(\"gallery\");\n   renderPosts(\"userGallery\", true);\n }\n \n+// SHARE\n function sharePost(i) {\n   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n   alert(\"Post link copied!\");\n@@ -183,8 +182,9 @@\n   if (darkEnabled) {\n     document.body.classList.add(\"dark\");\n     toggleBtn.textContent = \"‚òÄÔ∏è\";\n   }\n+\n   toggleBtn.addEventListener(\"click\", () => {\n     document.body.classList.toggle(\"dark\");\n     const isDark = document.body.classList.contains(\"dark\");\n     localStorage.setItem(\"dark\", isDark);\n"
                },
                {
                    "date": 1763061107603,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,12 +5,11 @@\n // Auth Area Setup\n const authArea = document.getElementById(\"authArea\");\n let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n \n-// Render Authentication Area\n+// Render Authentication\n function renderAuth() {\n   if (!authArea) return;\n-\n   if (user) {\n     authArea.innerHTML = `\n       <span class=\"username\">üë§ ${user.name}</span>\n       <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n@@ -18,15 +17,12 @@\n   } else {\n     authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n   }\n }\n-\n-// Logout Function\n function logout() {\n   localStorage.removeItem(\"currentUser\");\n   location.href = \"signin.html\";\n }\n-\n renderAuth();\n \n // ==========================\n // SIGN UP\n@@ -42,12 +38,10 @@\n \n     if (!name || !email || !pass) return alert(\"All fields are required!\");\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    if (users.find((u) => u.email === email)) return alert(\"Email already exists!\");\n \n-    if (users.find((u) => u.email === email))\n-      return alert(\"Email already exists!\");\n-\n     const newUser = { name, email, pass };\n     users.push(newUser);\n \n     localStorage.setItem(\"users\", JSON.stringify(users));\n@@ -71,18 +65,18 @@\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n     const found = users.find((u) => u.email === email && u.pass === pass);\n \n-    if (!found) return alert(\"Invalid login credentials!\");\n+    if (!found) return alert(\"Invalid email or password!\");\n \n     localStorage.setItem(\"currentUser\", JSON.stringify(found));\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n \n // ==========================\n-// UPLOAD POST\n+// UPLOAD POST (Image / Video)\n // ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n@@ -92,24 +86,34 @@\n \n     const file = document.getElementById(\"fileInput\").files[0];\n     const caption = document.getElementById(\"caption\").value.trim();\n \n-    if (!file) return alert(\"Please select a file!\");\n+    if (!file) return alert(\"Please select an image or video file!\");\n \n+    // Supported Types\n+    const allowedTypes = [\n+      \"image/jpeg\", \"image/png\", \"image/gif\", \"image/webp\", \"image/jpg\",\n+      \"video/mp4\", \"video/webm\", \"video/ogg\", \"video/mov\", \"video/avi\"\n+    ];\n+\n+    if (!allowedTypes.includes(file.type)) {\n+      return alert(\"Unsupported file type! Please upload a valid image or video.\");\n+    }\n+\n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n       const newPost = {\n         src: reader.result,\n-        type: file.type,\n+        type: file.type.startsWith(\"image\") ? \"image\" : \"video\",\n         caption,\n         user: user.name,\n         likes: 0,\n-        time: new Date().toLocaleString(),\n+        time: new Date().toLocaleString()\n       };\n       posts.unshift(newPost);\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Post uploaded successfully!\");\n+      alert(\"Upload successful!\");\n       location.href = \"index.html\";\n     };\n     reader.readAsDataURL(file);\n   });\n@@ -132,38 +136,35 @@\n \n   el.innerHTML = posts\n     .map(\n       (p, i) => `\n-    <div class=\"card\">\n-      ${\n-        p.type.startsWith(\"image\")\n-          ? `<img src=\"${p.src}\" alt=\"post\" />`\n-          : `<video controls src=\"${p.src}\"></video>`\n-      }\n-      <div class=\"post-info\">\n-        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-        <small>${p.time}</small>\n-      </div>\n-      <div class=\"actions\">\n-        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-        <button onclick=\"sharePost(${i})\">üîó Share</button>\n-      </div>\n-    </div>\n-  `\n+      <div class=\"card\">\n+        ${\n+          p.type === \"image\"\n+            ? `<img src=\"${p.src}\" alt=\"post\" />`\n+            : `<video controls src=\"${p.src}\"></video>`\n+        }\n+        <div class=\"post-info\">\n+          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+          <small>${p.time}</small>\n+        </div>\n+        <div class=\"actions\">\n+          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+          <button onclick=\"sharePost(${i})\">üîó Share</button>\n+        </div>\n+      </div>`\n     )\n     .join(\"\");\n }\n \n-// LIKE\n function likePost(i) {\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   posts[i].likes = (posts[i].likes || 0) + 1;\n   localStorage.setItem(\"posts\", JSON.stringify(posts));\n   renderPosts(\"gallery\");\n   renderPosts(\"userGallery\", true);\n }\n \n-// SHARE\n function sharePost(i) {\n   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n   alert(\"Post link copied!\");\n@@ -182,9 +183,8 @@\n   if (darkEnabled) {\n     document.body.classList.add(\"dark\");\n     toggleBtn.textContent = \"‚òÄÔ∏è\";\n   }\n-\n   toggleBtn.addEventListener(\"click\", () => {\n     document.body.classList.toggle(\"dark\");\n     const isDark = document.body.classList.contains(\"dark\");\n     localStorage.setItem(\"dark\", isDark);\n"
                },
                {
                    "date": 1763061264898,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,12 @@\n // ==========================\n // Global Script: global.js\n // ==========================\n \n-// Auth Area Setup\n+// AUTH SECTION\n const authArea = document.getElementById(\"authArea\");\n let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n \n-// Render Authentication\n function renderAuth() {\n   if (!authArea) return;\n   if (user) {\n     authArea.innerHTML = `\n@@ -24,98 +23,91 @@\n }\n renderAuth();\n \n // ==========================\n-// SIGN UP\n+// SIGNUP\n // ==========================\n const signupForm = document.getElementById(\"signupForm\");\n if (signupForm) {\n   signupForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n-\n     const name = document.getElementById(\"suName\").value.trim();\n     const email = document.getElementById(\"suEmail\").value.trim();\n     const pass = document.getElementById(\"suPass\").value.trim();\n \n     if (!name || !email || !pass) return alert(\"All fields are required!\");\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    if (users.find((u) => u.email === email)) return alert(\"Email already exists!\");\n+    if (users.find((u) => u.email === email))\n+      return alert(\"Email already registered!\");\n \n     const newUser = { name, email, pass };\n     users.push(newUser);\n-\n     localStorage.setItem(\"users\", JSON.stringify(users));\n     localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n-\n     alert(\"Signup successful!\");\n     location.href = \"index.html\";\n   });\n }\n \n // ==========================\n-// SIGN IN\n+// SIGNIN\n // ==========================\n const signinForm = document.getElementById(\"signinForm\");\n if (signinForm) {\n   signinForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n-\n     const email = document.getElementById(\"siEmail\").value.trim();\n     const pass = document.getElementById(\"siPass\").value.trim();\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n     const found = users.find((u) => u.email === email && u.pass === pass);\n-\n     if (!found) return alert(\"Invalid email or password!\");\n-\n     localStorage.setItem(\"currentUser\", JSON.stringify(found));\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n \n // ==========================\n-// UPLOAD POST (Image / Video)\n+// UPLOAD (Images + Videos)\n // ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n-\n     if (!user) return alert(\"Please login first!\");\n \n-    const file = document.getElementById(\"fileInput\").files[0];\n+    const fileInput = document.getElementById(\"fileInput\");\n     const caption = document.getElementById(\"caption\").value.trim();\n+    const file = fileInput.files[0];\n \n     if (!file) return alert(\"Please select an image or video file!\");\n \n-    // Supported Types\n-    const allowedTypes = [\n-      \"image/jpeg\", \"image/png\", \"image/gif\", \"image/webp\", \"image/jpg\",\n-      \"video/mp4\", \"video/webm\", \"video/ogg\", \"video/mov\", \"video/avi\"\n-    ];\n-\n-    if (!allowedTypes.includes(file.type)) {\n-      return alert(\"Unsupported file type! Please upload a valid image or video.\");\n-    }\n-\n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+\n+      // Automatically detect type based on MIME\n+      const isImage = file.type.startsWith(\"image\");\n+      const isVideo = file.type.startsWith(\"video\");\n+\n       const newPost = {\n         src: reader.result,\n-        type: file.type.startsWith(\"image\") ? \"image\" : \"video\",\n+        type: isImage ? \"image\" : isVideo ? \"video\" : \"unknown\",\n         caption,\n         user: user.name,\n         likes: 0,\n-        time: new Date().toLocaleString()\n+        uploadedAt: new Date().toLocaleString()\n       };\n+\n       posts.unshift(newPost);\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Upload successful!\");\n+      alert(\"Your post has been uploaded successfully!\");\n       location.href = \"index.html\";\n     };\n+\n+    // Always read file, no type restriction\n     reader.readAsDataURL(file);\n   });\n }\n \n@@ -129,9 +121,9 @@\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n \n   if (posts.length === 0) {\n-    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n+    el.innerHTML = `<p class=\"no-posts\">No posts yet!</p>`;\n     return;\n   }\n \n   el.innerHTML = posts\n@@ -139,36 +131,41 @@\n       (p, i) => `\n       <div class=\"card\">\n         ${\n           p.type === \"image\"\n-            ? `<img src=\"${p.src}\" alt=\"post\" />`\n-            : `<video controls src=\"${p.src}\"></video>`\n+            ? `<img src=\"${p.src}\" alt=\"Uploaded image\" />`\n+            : p.type === \"video\"\n+            ? `<video controls src=\"${p.src}\"></video>`\n+            : `<p>Unsupported file type.</p>`\n         }\n         <div class=\"post-info\">\n           <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-          <small>${p.time}</small>\n+          <small>${p.uploadedAt}</small>\n         </div>\n         <div class=\"actions\">\n           <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n           <button onclick=\"sharePost(${i})\">üîó Share</button>\n         </div>\n-      </div>`\n+      </div>\n+    `\n     )\n     .join(\"\");\n }\n \n+// ==========================\n+// LIKE + SHARE\n+// ==========================\n function likePost(i) {\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   posts[i].likes = (posts[i].likes || 0) + 1;\n   localStorage.setItem(\"posts\", JSON.stringify(posts));\n   renderPosts(\"gallery\");\n   renderPosts(\"userGallery\", true);\n }\n-\n function sharePost(i) {\n   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n-  alert(\"Post link copied!\");\n+  alert(\"Post link copied to clipboard!\");\n }\n \n // Initial Renders\n renderPosts(\"gallery\");\n"
                },
                {
                    "date": 1763061340193,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,10 +66,79 @@\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n+// ==========================\n+// Global Script: global.js\n+// ==========================\n \n+// AUTH SECTION\n+const authArea = document.getElementById(\"authArea\");\n+let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n+\n+function renderAuth() {\n+  if (!authArea) return;\n+  if (user) {\n+    authArea.innerHTML = `\n+      <span class=\"username\">üë§ ${user.name}</span>\n+      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n+    `;\n+  } else {\n+    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n+  }\n+}\n+function logout() {\n+  localStorage.removeItem(\"currentUser\");\n+  location.href = \"signin.html\";\n+}\n+renderAuth();\n+\n // ==========================\n+// SIGNUP\n+// ==========================\n+const signupForm = document.getElementById(\"signupForm\");\n+if (signupForm) {\n+  signupForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+    const name = document.getElementById(\"suName\").value.trim();\n+    const email = document.getElementById(\"suEmail\").value.trim();\n+    const pass = document.getElementById(\"suPass\").value.trim();\n+\n+    if (!name || !email || !pass) return alert(\"All fields are required!\");\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    if (users.find((u) => u.email === email))\n+      return alert(\"Email already registered!\");\n+\n+    const newUser = { name, email, pass };\n+    users.push(newUser);\n+    localStorage.setItem(\"users\", JSON.stringify(users));\n+    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n+    alert(\"Signup successful!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n+// SIGNIN\n+// ==========================\n+const signinForm = document.getElementById(\"signinForm\");\n+if (signinForm) {\n+  signinForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+    const email = document.getElementById(\"siEmail\").value.trim();\n+    const pass = document.getElementById(\"siPass\").value.trim();\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    const found = users.find((u) => u.email === email && u.pass === pass);\n+    if (!found) return alert(\"Invalid email or password!\");\n+    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n+    alert(\"Welcome back!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n // UPLOAD (Images + Videos)\n // ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n@@ -187,4 +256,82 @@\n     localStorage.setItem(\"dark\", isDark);\n     toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n   });\n }\n+\n+// ==========================\n+// RENDER POSTS\n+// ==========================\n+function renderPosts(targetId, onlyUser = false) {\n+  const el = document.getElementById(targetId);\n+  if (!el) return;\n+\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n+\n+  if (posts.length === 0) {\n+    el.innerHTML = `<p class=\"no-posts\">No posts yet!</p>`;\n+    return;\n+  }\n+\n+  el.innerHTML = posts\n+    .map(\n+      (p, i) => `\n+      <div class=\"card\">\n+        ${\n+          p.type === \"image\"\n+            ? `<img src=\"${p.src}\" alt=\"Uploaded image\" />`\n+            : p.type === \"video\"\n+            ? `<video controls src=\"${p.src}\"></video>`\n+            : `<p>Unsupported file type.</p>`\n+        }\n+        <div class=\"post-info\">\n+          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+          <small>${p.uploadedAt}</small>\n+        </div>\n+        <div class=\"actions\">\n+          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+          <button onclick=\"sharePost(${i})\">üîó Share</button>\n+        </div>\n+      </div>\n+    `\n+    )\n+    .join(\"\");\n+}\n+\n+// ==========================\n+// LIKE + SHARE\n+// ==========================\n+function likePost(i) {\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  posts[i].likes = (posts[i].likes || 0) + 1;\n+  localStorage.setItem(\"posts\", JSON.stringify(posts));\n+  renderPosts(\"gallery\");\n+  renderPosts(\"userGallery\", true);\n+}\n+function sharePost(i) {\n+  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  navigator.clipboard.writeText(posts[i].src);\n+  alert(\"Post link copied to clipboard!\");\n+}\n+\n+// Initial Renders\n+renderPosts(\"gallery\");\n+renderPosts(\"userGallery\", true);\n+\n+// ==========================\n+// DARK MODE\n+// ==========================\n+const toggleBtn = document.getElementById(\"modeToggle\");\n+if (toggleBtn) {\n+  const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n+  if (darkEnabled) {\n+    document.body.classList.add(\"dark\");\n+    toggleBtn.textContent = \"‚òÄÔ∏è\";\n+  }\n+  toggleBtn.addEventListener(\"click\", () => {\n+    document.body.classList.toggle(\"dark\");\n+    const isDark = document.body.classList.contains(\"dark\");\n+    localStorage.setItem(\"dark\", isDark);\n+    toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n+  });\n+}\n"
                },
                {
                    "date": 1763061357156,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,190 @@\n+// ==========================\n+// Global Script: global.js\n+// ==========================\n+\n+// AUTH SECTION\n+const authArea = document.getElementById(\"authArea\");\n+let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n+\n+function renderAuth() {\n+  if (!authArea) return;\n+  if (user) {\n+    authArea.innerHTML = `\n+      <span class=\"username\">üë§ ${user.name}</span>\n+      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n+    `;\n+  } else {\n+    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n+  }\n+}\n+function logout() {\n+  localStorage.removeItem(\"currentUser\");\n+  location.href = \"signin.html\";\n+}\n+renderAuth();\n+\n+// ==========================\n+// SIGNUP\n+// ==========================\n+const signupForm = document.getElementById(\"signupForm\");\n+if (signupForm) {\n+  signupForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+    const name = document.getElementById(\"suName\").value.trim();\n+    const email = document.getElementById(\"suEmail\").value.trim();\n+    const pass = document.getElementById(\"suPass\").value.trim();\n+\n+    if (!name || !email || !pass) return alert(\"All fields are required!\");\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    if (users.find((u) => u.email === email))\n+      return alert(\"Email already registered!\");\n+\n+    const newUser = { name, email, pass };\n+    users.push(newUser);\n+    localStorage.setItem(\"users\", JSON.stringify(users));\n+    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n+    alert(\"Signup successful!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n+// SIGNIN\n+// ==========================\n+const signinForm = document.getElementById(\"signinForm\");\n+if (signinForm) {\n+  signinForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+    const email = document.getElementById(\"siEmail\").value.trim();\n+    const pass = document.getElementById(\"siPass\").value.trim();\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    const found = users.find((u) => u.email === email && u.pass === pass);\n+    if (!found) return alert(\"Invalid email or password!\");\n+    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n+    alert(\"Welcome back!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n+// UPLOAD (Images + Videos)\n+// ==========================\n+const uploadForm = document.getElementById(\"uploadForm\");\n+if (uploadForm) {\n+  uploadForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+    if (!user) return alert(\"Please login first!\");\n+\n+    const fileInput = document.getElementById(\"fileInput\");\n+    const caption = document.getElementById(\"caption\").value.trim();\n+    const file = fileInput.files[0];\n+\n+    if (!file) return alert(\"Please select an image or video file!\");\n+\n+    const reader = new FileReader();\n+    reader.onload = () => {\n+      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+\n+      // Automatically detect type based on MIME\n+      const isImage = file.type.startsWith(\"image\");\n+      const isVideo = file.type.startsWith(\"video\");\n+\n+      const newPost = {\n+        src: reader.result,\n+        type: isImage ? \"image\" : isVideo ? \"video\" : \"unknown\",\n+        caption,\n+        user: user.name,\n+        likes: 0,\n+        uploadedAt: new Date().toLocaleString()\n+      };\n+\n+      posts.unshift(newPost);\n+      localStorage.setItem(\"posts\", JSON.stringify(posts));\n+      alert(\"Your post has been uploaded successfully!\");\n+      location.href = \"index.html\";\n+    };\n+\n+    // Always read file, no type restriction\n+    reader.readAsDataURL(file);\n+  });\n+}\n+\n+// ==========================\n+// RENDER POSTS\n+// ==========================\n+function renderPosts(targetId, onlyUser = false) {\n+  const el = document.getElementById(targetId);\n+  if (!el) return;\n+\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n+\n+  if (posts.length === 0) {\n+    el.innerHTML = `<p class=\"no-posts\">No posts yet!</p>`;\n+    return;\n+  }\n+\n+  el.innerHTML = posts\n+    .map(\n+      (p, i) => `\n+      <div class=\"card\">\n+        ${\n+          p.type === \"image\"\n+            ? `<img src=\"${p.src}\" alt=\"Uploaded image\" />`\n+            : p.type === \"video\"\n+            ? `<video controls src=\"${p.src}\"></video>`\n+            : `<p>Unsupported file type.</p>`\n+        }\n+        <div class=\"post-info\">\n+          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+          <small>${p.uploadedAt}</small>\n+        </div>\n+        <div class=\"actions\">\n+          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+          <button onclick=\"sharePost(${i})\">üîó Share</button>\n+        </div>\n+      </div>\n+    `\n+    )\n+    .join(\"\");\n+}\n+\n+// ==========================\n+// LIKE + SHARE\n+// ==========================\n+function likePost(i) {\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  posts[i].likes = (posts[i].likes || 0) + 1;\n+  localStorage.setItem(\"posts\", JSON.stringify(posts));\n+  renderPosts(\"gallery\");\n+  renderPosts(\"userGallery\", true);\n+}\n+function sharePost(i) {\n+  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  navigator.clipboard.writeText(posts[i].src);\n+  alert(\"Post link copied to clipboard!\");\n+}\n+\n+// Initial Renders\n+renderPosts(\"gallery\");\n+renderPosts(\"userGallery\", true);\n+\n+// ==========================\n+// DARK MODE\n+// ==========================\n+const toggleBtn = document.getElementById(\"modeToggle\");\n+if (toggleBtn) {\n+  const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n+  if (darkEnabled) {\n+    document.body.classList.add(\"dark\");\n+    toggleBtn.textContent = \"‚òÄÔ∏è\";\n+  }\n+  toggleBtn.addEventListener(\"click\", () => {\n+    document.body.classList.toggle(\"dark\");\n+    const isDark = document.body.classList.contains(\"dark\");\n+    localStorage.setItem(\"dark\", isDark);\n+    toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n+  });\n+}\n"
                },
                {
                    "date": 1763061466719,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,7 @@\n // ==========================\n-// Global Script: global.js\n+// AUTH SECTION\n // ==========================\n-\n-// AUTH SECTION\n const authArea = document.getElementById(\"authArea\");\n let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n \n function renderAuth() {\n@@ -16,12 +14,14 @@\n   } else {\n     authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n   }\n }\n+\n function logout() {\n   localStorage.removeItem(\"currentUser\");\n   location.href = \"signin.html\";\n }\n+\n renderAuth();\n \n // ==========================\n // SIGNUP\n@@ -80,293 +80,44 @@\n     const fileInput = document.getElementById(\"fileInput\");\n     const caption = document.getElementById(\"caption\").value.trim();\n     const file = fileInput.files[0];\n \n-    if (!file) return alert(\"Please select an image or video file!\");\n+    if (!file) return alert(\"Please select a file!\");\n \n-    const reader = new FileReader();\n-    reader.onload = () => {\n-      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+    // Detect type\n+    let type = file.type.startsWith(\"image\")\n+      ? \"image\"\n+      : file.type.startsWith(\"video\")\n+      ? \"video\"\n+      : null;\n \n-      // Automatically detect type based on MIME\n-      const isImage = file.type.startsWith(\"image\");\n-      const isVideo = file.type.startsWith(\"video\");\n+    if (!type) {\n+      // fallback using extension\n+      const ext = file.name.split(\".\").pop().toLowerCase();\n+      const imgExts = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"webp\"];\n+      const vidExts = [\"mp4\", \"mov\", \"webm\", \"ogg\"];\n+      if (imgExts.includes(ext)) type = \"image\";\n+      else if (vidExts.includes(ext)) type = \"video\";\n+      else return alert(\"Unsupported file type!\");\n+    }\n \n-      const newPost = {\n-        src: reader.result,\n-        type: isImage ? \"image\" : isVideo ? \"video\" : \"unknown\",\n-        caption,\n-        user: user.name,\n-        likes: 0,\n-        uploadedAt: new Date().toLocaleString()\n-      };\n-\n-      posts.unshift(newPost);\n-      localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Your post has been uploaded successfully!\");\n-      location.href = \"index.html\";\n-    };\n-\n-    // Always read file, no type restriction\n-    reader.readAsDataURL(file);\n-  });\n-}\n-\n-// ==========================\n-// RENDER POSTS\n-// ==========================\n-function renderPosts(targetId, onlyUser = false) {\n-  const el = document.getElementById(targetId);\n-  if (!el) return;\n-\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n-\n-  if (posts.length === 0) {\n-    el.innerHTML = `<p class=\"no-posts\">No posts yet!</p>`;\n-    return;\n-  }\n-\n-  el.innerHTML = posts\n-    .map(\n-      (p, i) => `\n-      <div class=\"card\">\n-        ${\n-          p.type === \"image\"\n-            ? `<img src=\"${p.src}\" alt=\"Uploaded image\" />`\n-            : p.type === \"video\"\n-            ? `<video controls src=\"${p.src}\"></video>`\n-            : `<p>Unsupported file type.</p>`\n-        }\n-        <div class=\"post-info\">\n-          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-          <small>${p.uploadedAt}</small>\n-        </div>\n-        <div class=\"actions\">\n-          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-          <button onclick=\"sharePost(${i})\">üîó Share</button>\n-        </div>\n-      </div>\n-    `\n-    )\n-    .join(\"\");\n-}\n-\n-// ==========================\n-// LIKE + SHARE\n-// ==========================\n-function likePost(i) {\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  posts[i].likes = (posts[i].likes || 0) + 1;\n-  localStorage.setItem(\"posts\", JSON.stringify(posts));\n-  renderPosts(\"gallery\");\n-  renderPosts(\"userGallery\", true);\n-}\n-function sharePost(i) {\n-  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  navigator.clipboard.writeText(posts[i].src);\n-  alert(\"Post link copied to clipboard!\");\n-}\n-\n-// Initial Renders\n-renderPosts(\"gallery\");\n-renderPosts(\"userGallery\", true);\n-\n-// ==========================\n-// DARK MODE\n-// ==========================\n-const toggleBtn = document.getElementById(\"modeToggle\");\n-if (toggleBtn) {\n-  const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n-  if (darkEnabled) {\n-    document.body.classList.add(\"dark\");\n-    toggleBtn.textContent = \"‚òÄÔ∏è\";\n-  }\n-  toggleBtn.addEventListener(\"click\", () => {\n-    document.body.classList.toggle(\"dark\");\n-    const isDark = document.body.classList.contains(\"dark\");\n-    localStorage.setItem(\"dark\", isDark);\n-    toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n-  });\n-}\n-// ==========================\n-// Global Script: global.js\n-// ==========================\n-\n-// AUTH SECTION\n-const authArea = document.getElementById(\"authArea\");\n-let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n-\n-function renderAuth() {\n-  if (!authArea) return;\n-  if (user) {\n-    authArea.innerHTML = `\n-      <span class=\"username\">üë§ ${user.name}</span>\n-      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n-    `;\n-  } else {\n-    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n-  }\n-}\n-function logout() {\n-  localStorage.removeItem(\"currentUser\");\n-  location.href = \"signin.html\";\n-}\n-renderAuth();\n-\n-// ==========================\n-// SIGNUP\n-// ==========================\n-const signupForm = document.getElementById(\"signupForm\");\n-if (signupForm) {\n-  signupForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-    const name = document.getElementById(\"suName\").value.trim();\n-    const email = document.getElementById(\"suEmail\").value.trim();\n-    const pass = document.getElementById(\"suPass\").value.trim();\n-\n-    if (!name || !email || !pass) return alert(\"All fields are required!\");\n-\n-    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    if (users.find((u) => u.email === email))\n-      return alert(\"Email already registered!\");\n-\n-    const newUser = { name, email, pass };\n-    users.push(newUser);\n-    localStorage.setItem(\"users\", JSON.stringify(users));\n-    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n-    alert(\"Signup successful!\");\n-    location.href = \"index.html\";\n-  });\n-}\n-\n-// ==========================\n-// SIGNIN\n-// ==========================\n-const signinForm = document.getElementById(\"signinForm\");\n-if (signinForm) {\n-  signinForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-    const email = document.getElementById(\"siEmail\").value.trim();\n-    const pass = document.getElementById(\"siPass\").value.trim();\n-\n-    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    const found = users.find((u) => u.email === email && u.pass === pass);\n-    if (!found) return alert(\"Invalid email or password!\");\n-    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n-    alert(\"Welcome back!\");\n-    location.href = \"index.html\";\n-  });\n-}\n-// ==========================\n-// Global Script: global.js\n-// ==========================\n-\n-// AUTH SECTION\n-const authArea = document.getElementById(\"authArea\");\n-let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n-\n-function renderAuth() {\n-  if (!authArea) return;\n-  if (user) {\n-    authArea.innerHTML = `\n-      <span class=\"username\">üë§ ${user.name}</span>\n-      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n-    `;\n-  } else {\n-    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n-  }\n-}\n-function logout() {\n-  localStorage.removeItem(\"currentUser\");\n-  location.href = \"signin.html\";\n-}\n-renderAuth();\n-\n-// ==========================\n-// SIGNUP\n-// ==========================\n-const signupForm = document.getElementById(\"signupForm\");\n-if (signupForm) {\n-  signupForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-    const name = document.getElementById(\"suName\").value.trim();\n-    const email = document.getElementById(\"suEmail\").value.trim();\n-    const pass = document.getElementById(\"suPass\").value.trim();\n-\n-    if (!name || !email || !pass) return alert(\"All fields are required!\");\n-\n-    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    if (users.find((u) => u.email === email))\n-      return alert(\"Email already registered!\");\n-\n-    const newUser = { name, email, pass };\n-    users.push(newUser);\n-    localStorage.setItem(\"users\", JSON.stringify(users));\n-    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n-    alert(\"Signup successful!\");\n-    location.href = \"index.html\";\n-  });\n-}\n-\n-// ==========================\n-// SIGNIN\n-// ==========================\n-const signinForm = document.getElementById(\"signinForm\");\n-if (signinForm) {\n-  signinForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-    const email = document.getElementById(\"siEmail\").value.trim();\n-    const pass = document.getElementById(\"siPass\").value.trim();\n-\n-    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    const found = users.find((u) => u.email === email && u.pass === pass);\n-    if (!found) return alert(\"Invalid email or password!\");\n-    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n-    alert(\"Welcome back!\");\n-    location.href = \"index.html\";\n-  });\n-}\n-\n-// ==========================\n-// UPLOAD (Images + Videos)\n-// ==========================\n-const uploadForm = document.getElementById(\"uploadForm\");\n-if (uploadForm) {\n-  uploadForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-    if (!user) return alert(\"Please login first!\");\n-\n-    const fileInput = document.getElementById(\"fileInput\");\n-    const caption = document.getElementById(\"caption\").value.trim();\n-    const file = fileInput.files[0];\n-\n-    if (!file) return alert(\"Please select an image or video file!\");\n-\n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-\n-      // Automatically detect type based on MIME\n-      const isImage = file.type.startsWith(\"image\");\n-      const isVideo = file.type.startsWith(\"video\");\n-\n       const newPost = {\n         src: reader.result,\n-        type: isImage ? \"image\" : isVideo ? \"video\" : \"unknown\",\n+        type,\n         caption,\n         user: user.name,\n         likes: 0,\n-        uploadedAt: new Date().toLocaleString()\n+        uploadedAt: new Date().toLocaleString(),\n       };\n-\n       posts.unshift(newPost);\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Your post has been uploaded successfully!\");\n+      alert(\"Uploaded successfully!\");\n       location.href = \"index.html\";\n     };\n \n-    // Always read file, no type restriction\n     reader.readAsDataURL(file);\n   });\n }\n \n@@ -380,111 +131,31 @@\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n \n   if (posts.length === 0) {\n-    el.innerHTML = `<p class=\"no-posts\">No posts yet!</p>`;\n+    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n     return;\n   }\n \n   el.innerHTML = posts\n     .map(\n       (p, i) => `\n-      <div class=\"card\">\n-        ${\n-          p.type === \"image\"\n-            ? `<img src=\"${p.src}\" alt=\"Uploaded image\" />`\n-            : p.type === \"video\"\n-            ? `<video controls src=\"${p.src}\"></video>`\n-            : `<p>Unsupported file type.</p>`\n-        }\n-        <div class=\"post-info\">\n-          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-          <small>${p.uploadedAt}</small>\n-        </div>\n-        <div class=\"actions\">\n-          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-          <button onclick=\"sharePost(${i})\">üîó Share</button>\n-        </div>\n+    <div class=\"card\">\n+      ${\n+        p.type === \"image\"\n+          ? `<img src=\"${p.src}\" alt=\"Uploaded image\" />`\n+          : `<video controls src=\"${p.src}\"></video>`\n+      }\n+      <div class=\"post-info\">\n+        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+        <small>${p.uploadedAt}</small>\n       </div>\n-    `\n-    )\n-    .join(\"\");\n-}\n-\n-// ==========================\n-// LIKE + SHARE\n-// ==========================\n-function likePost(i) {\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  posts[i].likes = (posts[i].likes || 0) + 1;\n-  localStorage.setItem(\"posts\", JSON.stringify(posts));\n-  renderPosts(\"gallery\");\n-  renderPosts(\"userGallery\", true);\n-}\n-function sharePost(i) {\n-  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  navigator.clipboard.writeText(posts[i].src);\n-  alert(\"Post link copied to clipboard!\");\n-}\n-\n-// Initial Renders\n-renderPosts(\"gallery\");\n-renderPosts(\"userGallery\", true);\n-\n-// ==========================\n-// DARK MODE\n-// ==========================\n-const toggleBtn = document.getElementById(\"modeToggle\");\n-if (toggleBtn) {\n-  const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n-  if (darkEnabled) {\n-    document.body.classList.add(\"dark\");\n-    toggleBtn.textContent = \"‚òÄÔ∏è\";\n-  }\n-  toggleBtn.addEventListener(\"click\", () => {\n-    document.body.classList.toggle(\"dark\");\n-    const isDark = document.body.classList.contains(\"dark\");\n-    localStorage.setItem(\"dark\", isDark);\n-    toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n-  });\n-}\n-\n-// ==========================\n-// RENDER POSTS\n-// ==========================\n-function renderPosts(targetId, onlyUser = false) {\n-  const el = document.getElementById(targetId);\n-  if (!el) return;\n-\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n-\n-  if (posts.length === 0) {\n-    el.innerHTML = `<p class=\"no-posts\">No posts yet!</p>`;\n-    return;\n-  }\n-\n-  el.innerHTML = posts\n-    .map(\n-      (p, i) => `\n-      <div class=\"card\">\n-        ${\n-          p.type === \"image\"\n-            ? `<img src=\"${p.src}\" alt=\"Uploaded image\" />`\n-            : p.type === \"video\"\n-            ? `<video controls src=\"${p.src}\"></video>`\n-            : `<p>Unsupported file type.</p>`\n-        }\n-        <div class=\"post-info\">\n-          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-          <small>${p.uploadedAt}</small>\n-        </div>\n-        <div class=\"actions\">\n-          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-          <button onclick=\"sharePost(${i})\">üîó Share</button>\n-        </div>\n+      <div class=\"actions\">\n+        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+        <button onclick=\"sharePost(${i})\">üîó Share</button>\n       </div>\n-    `\n+    </div>\n+  `\n     )\n     .join(\"\");\n }\n \n@@ -500,12 +171,12 @@\n }\n function sharePost(i) {\n   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n-  alert(\"Post link copied to clipboard!\");\n+  alert(\"Link copied!\");\n }\n \n-// Initial Renders\n+// Initial render\n renderPosts(\"gallery\");\n renderPosts(\"userGallery\", true);\n \n // ==========================\n"
                },
                {
                    "date": 1763061656362,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,164 @@\n+// ==========================\n+// Global Script: global.js\n+// ==========================\n+\n+// AUTH\n+const authArea = document.getElementById(\"authArea\");\n+let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n+\n+function renderAuth() {\n+  if (!authArea) return;\n+  if (user) {\n+    authArea.innerHTML = `\n+      <span class=\"username\">üë§ ${user.name}</span>\n+      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n+    `;\n+  } else {\n+    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n+  }\n+}\n+function logout() {\n+  localStorage.removeItem(\"currentUser\");\n+  user = null;\n+  location.href = \"signin.html\";\n+}\n+renderAuth();\n+\n+// ==========================\n+// SIGNUP\n+const signupForm = document.getElementById(\"signupForm\");\n+if (signupForm) {\n+  signupForm.addEventListener(\"submit\", e => {\n+    e.preventDefault();\n+    const name = document.getElementById(\"suName\").value.trim();\n+    const email = document.getElementById(\"suEmail\").value.trim();\n+    const pass = document.getElementById(\"suPass\").value.trim();\n+\n+    if (!name || !email || !pass) return alert(\"All fields required!\");\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    if (users.find(u => u.email === email)) return alert(\"Email already exists!\");\n+\n+    const newUser = {name,email,pass};\n+    users.push(newUser);\n+    localStorage.setItem(\"users\", JSON.stringify(users));\n+    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n+    alert(\"Signup successful!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n+// SIGNIN\n+const signinForm = document.getElementById(\"signinForm\");\n+if (signinForm) {\n+  signinForm.addEventListener(\"submit\", e => {\n+    e.preventDefault();\n+    const email = document.getElementById(\"siEmail\").value.trim();\n+    const pass = document.getElementById(\"siPass\").value.trim();\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    const found = users.find(u => u.email===email && u.pass===pass);\n+    if (!found) return alert(\"Invalid login!\");\n+    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n+    alert(\"Welcome back!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n+// UPLOAD (Images + Videos)\n+const uploadForm = document.getElementById(\"uploadForm\");\n+if (uploadForm) {\n+  uploadForm.addEventListener(\"submit\", e => {\n+    e.preventDefault();\n+    user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n+    if (!user) return alert(\"Please login first!\");\n+\n+    const fileInput = document.getElementById(\"fileInput\");\n+    const caption = document.getElementById(\"caption\").value.trim();\n+    const file = fileInput.files[0];\n+    if (!file) return alert(\"Select an image or video!\");\n+\n+    const reader = new FileReader();\n+    reader.onload = () => {\n+      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+      const type = file.type.startsWith(\"image\") ? \"image\" : file.type.startsWith(\"video\") ? \"video\" : \"unknown\";\n+\n+      const newPost = {\n+        src: reader.result,\n+        type,\n+        caption,\n+        user: user.name,\n+        likes: 0,\n+        uploadedAt: new Date().toLocaleString()\n+      };\n+\n+      posts.unshift(newPost);\n+      localStorage.setItem(\"posts\", JSON.stringify(posts));\n+      alert(\"Uploaded successfully!\");\n+      fileInput.value = \"\"; // reset file input\n+      document.getElementById(\"caption\").value = \"\";\n+      location.href = \"index.html\";\n+    };\n+    reader.readAsDataURL(file);\n+  });\n+}\n+\n+// ==========================\n+// RENDER POSTS\n+function renderPosts(targetId, onlyUser=false) {\n+  const el = document.getElementById(targetId);\n+  if (!el) return;\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  if (onlyUser && user) posts = posts.filter(p => p.user===user.name);\n+\n+  if (posts.length===0) { el.innerHTML=\"<p>No posts yet!</p>\"; return; }\n+\n+  el.innerHTML = posts.map((p,i)=>`\n+    <div class=\"card\">\n+      ${p.type===\"image\"? `<img src=\"${p.src}\" class=\"post-media\"/>`\n+      : p.type===\"video\"? `<video src=\"${p.src}\" controls class=\"post-media\"></video>`\n+      : `<p>Unsupported file type</p>`}\n+      <div class=\"post-info\">\n+        <p><b>${p.user}</b> ‚Äî ${p.caption||\"\"}</p>\n+        <small>${p.uploadedAt}</small>\n+      </div>\n+      <div class=\"actions\">\n+        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes||0}</button>\n+        <button onclick=\"sharePost(${i})\">üîó Share</button>\n+      </div>\n+    </div>\n+  `).join(\"\");\n+}\n+\n+// LIKE + SHARE\n+function likePost(i){\n+  let posts = JSON.parse(localStorage.getItem(\"posts\")||\"[]\");\n+  posts[i].likes = (posts[i].likes||0)+1;\n+  localStorage.setItem(\"posts\",JSON.stringify(posts));\n+  renderPosts(\"gallery\");\n+  renderPosts(\"userGallery\",true);\n+}\n+function sharePost(i){\n+  const posts = JSON.parse(localStorage.getItem(\"posts\")||\"[]\");\n+  navigator.clipboard.writeText(posts[i].src);\n+  alert(\"Post link copied!\");\n+}\n+\n+// Initial render\n+user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n+renderPosts(\"gallery\");\n+renderPosts(\"userGallery\",true);\n+\n+// DARK MODE\n+const toggleBtn = document.getElementById(\"modeToggle\");\n+if(toggleBtn){\n+  const darkEnabled = localStorage.getItem(\"dark\")===\"true\";\n+  if(darkEnabled){ document.body.classList.add(\"dark\"); toggleBtn.textContent=\"‚òÄÔ∏è\"; }\n+  toggleBtn.addEventListener(\"click\", ()=>{\n+    document.body.classList.toggle(\"dark\");\n+    const isDark = document.body.classList.contains(\"dark\");\n+    localStorage.setItem(\"dark\",isDark);\n+    toggleBtn.textContent = isDark?\"‚òÄÔ∏è\":\"üåô\";\n+  });\n+}\n"
                },
                {
                    "date": 1763061675487,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,362 +1,113 @@\n-// ==========================\n-// Global Script: global.js\n-// ==========================\n+// Auth + LocalStorage + Posts + Dark Mode\n+const authArea = document.getElementById('authArea');\n+const user = JSON.parse(localStorage.getItem('currentUser'));\n \n-// AUTH\n-const authArea = document.getElementById(\"authArea\");\n-let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n-\n-function renderAuth() {\n-  if (!authArea) return;\n-  if (user) {\n-    authArea.innerHTML = `\n-      <span class=\"username\">üë§ ${user.name}</span>\n-      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n-    `;\n+// Render Auth\n+function renderAuth(){\n+  if(!authArea) return;\n+  if(user){\n+    authArea.innerHTML = `<span>${user.name}</span> <button onclick=\"logout()\">Logout</button>`;\n   } else {\n-    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n+    authArea.innerHTML = `<a href='signin.html'>Sign In</a>`;\n   }\n }\n-function logout() {\n-  localStorage.removeItem(\"currentUser\");\n-  user = null;\n-  location.href = \"signin.html\";\n+function logout(){\n+  localStorage.removeItem('currentUser');\n+  location.href='signin.html';\n }\n renderAuth();\n \n-// ==========================\n-// SIGNUP\n-const signupForm = document.getElementById(\"signupForm\");\n-if (signupForm) {\n-  signupForm.addEventListener(\"submit\", e => {\n+// Signup\n+const signupForm = document.getElementById('signupForm');\n+if(signupForm){\n+  signupForm.addEventListener('submit', e=>{\n     e.preventDefault();\n-    const name = document.getElementById(\"suName\").value.trim();\n-    const email = document.getElementById(\"suEmail\").value.trim();\n-    const pass = document.getElementById(\"suPass\").value.trim();\n-\n-    if (!name || !email || !pass) return alert(\"All fields required!\");\n-    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    if (users.find(u => u.email === email)) return alert(\"Email already exists!\");\n-\n+    const name = document.getElementById('suName').value;\n+    const email = document.getElementById('suEmail').value;\n+    const pass = document.getElementById('suPass').value;\n+    let users = JSON.parse(localStorage.getItem('users')||'[]');\n+    if(users.find(u=>u.email===email)) return alert('Email already exists');\n     const newUser = {name,email,pass};\n     users.push(newUser);\n-    localStorage.setItem(\"users\", JSON.stringify(users));\n-    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n-    alert(\"Signup successful!\");\n-    location.href = \"index.html\";\n+    localStorage.setItem('users',JSON.stringify(users));\n+    localStorage.setItem('currentUser',JSON.stringify(newUser));\n+    location.href='index.html';\n   });\n }\n \n-// ==========================\n-// SIGNIN\n-const signinForm = document.getElementById(\"signinForm\");\n-if (signinForm) {\n-  signinForm.addEventListener(\"submit\", e => {\n+// Signin\n+const signinForm = document.getElementById('signinForm');\n+if(signinForm){\n+  signinForm.addEventListener('submit', e=>{\n     e.preventDefault();\n-    const email = document.getElementById(\"siEmail\").value.trim();\n-    const pass = document.getElementById(\"siPass\").value.trim();\n-\n-    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    const found = users.find(u => u.email===email && u.pass===pass);\n-    if (!found) return alert(\"Invalid login!\");\n-    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n-    alert(\"Welcome back!\");\n-    location.href = \"index.html\";\n+    const email = document.getElementById('siEmail').value;\n+    const pass = document.getElementById('siPass').value;\n+    let users = JSON.parse(localStorage.getItem('users')||'[]');\n+    const found = users.find(u=>u.email===email && u.pass===pass);\n+    if(!found) return alert('Invalid login');\n+    localStorage.setItem('currentUser',JSON.stringify(found));\n+    location.href='index.html';\n   });\n }\n \n-// ==========================\n-// UPLOAD (Images + Videos)\n-const uploadForm = document.getElementById(\"uploadForm\");\n-if (uploadForm) {\n-  uploadForm.addEventListener(\"submit\", e => {\n+// Upload\n+const uploadForm = document.getElementById('uploadForm');\n+if(uploadForm){\n+  uploadForm.addEventListener('submit', e=>{\n     e.preventDefault();\n-    user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n-    if (!user) return alert(\"Please login first!\");\n-\n-    const fileInput = document.getElementById(\"fileInput\");\n-    const caption = document.getElementById(\"caption\").value.trim();\n-    const file = fileInput.files[0];\n-    if (!file) return alert(\"Select an image or video!\");\n-\n+    if(!user) return alert('Login required');\n+    const file = document.getElementById('fileInput').files[0];\n+    const caption = document.getElementById('caption').value;\n+    if(!file) return;\n     const reader = new FileReader();\n-    reader.onload = () => {\n-      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-      const type = file.type.startsWith(\"image\") ? \"image\" : file.type.startsWith(\"video\") ? \"video\" : \"unknown\";\n-\n-      const newPost = {\n-        src: reader.result,\n-        type,\n-        caption,\n-        user: user.name,\n-        likes: 0,\n-        uploadedAt: new Date().toLocaleString()\n-      };\n-\n+    reader.onload = ()=>{\n+      let posts = JSON.parse(localStorage.getItem('posts')||'[]');\n+      const newPost = {src:reader.result,type:file.type,caption,user:user.name,likes:0};\n       posts.unshift(newPost);\n-      localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Uploaded successfully!\");\n-      fileInput.value = \"\"; // reset file input\n-      document.getElementById(\"caption\").value = \"\";\n-      location.href = \"index.html\";\n+      localStorage.setItem('posts',JSON.stringify(posts));\n+      location.href='index.html';\n     };\n     reader.readAsDataURL(file);\n   });\n }\n \n-// ==========================\n-// RENDER POSTS\n-function renderPosts(targetId, onlyUser=false) {\n+// Render Feed\n+function renderPosts(targetId, onlyUser=false){\n   const el = document.getElementById(targetId);\n-  if (!el) return;\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  if (onlyUser && user) posts = posts.filter(p => p.user===user.name);\n-\n-  if (posts.length===0) { el.innerHTML=\"<p>No posts yet!</p>\"; return; }\n-\n+  if(!el) return;\n+  let posts = JSON.parse(localStorage.getItem('posts')||'[]');\n+  if(onlyUser && user){ posts = posts.filter(p=>p.user===user.name); }\n   el.innerHTML = posts.map((p,i)=>`\n-    <div class=\"card\">\n-      ${p.type===\"image\"? `<img src=\"${p.src}\" class=\"post-media\"/>`\n-      : p.type===\"video\"? `<video src=\"${p.src}\" controls class=\"post-media\"></video>`\n-      : `<p>Unsupported file type</p>`}\n-      <div class=\"post-info\">\n-        <p><b>${p.user}</b> ‚Äî ${p.caption||\"\"}</p>\n-        <small>${p.uploadedAt}</small>\n+    <div class='card'>\n+      ${p.type.startsWith('image')?`<img src='${p.src}'/>`:`<video controls src='${p.src}'></video>`}\n+      <p><b>${p.user}</b> ‚Äî ${p.caption||''}</p>\n+      <div class='actions'>\n+        <button onclick='likePost(${i})'>‚ù§Ô∏è ${p.likes||0}</button>\n+        <button onclick='sharePost(${i})'>üîó Share</button>\n       </div>\n-      <div class=\"actions\">\n-        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes||0}</button>\n-        <button onclick=\"sharePost(${i})\">üîó Share</button>\n-      </div>\n-    </div>\n-  `).join(\"\");\n+    </div>`).join('');\n }\n-\n-// LIKE + SHARE\n function likePost(i){\n-  let posts = JSON.parse(localStorage.getItem(\"posts\")||\"[]\");\n+  let posts = JSON.parse(localStorage.getItem('posts')||'[]');\n   posts[i].likes = (posts[i].likes||0)+1;\n-  localStorage.setItem(\"posts\",JSON.stringify(posts));\n-  renderPosts(\"gallery\");\n-  renderPosts(\"userGallery\",true);\n+  localStorage.setItem('posts',JSON.stringify(posts));\n+  renderPosts('gallery');renderPosts('userGallery',true);\n }\n function sharePost(i){\n-  const posts = JSON.parse(localStorage.getItem(\"posts\")||\"[]\");\n+  const posts = JSON.parse(localStorage.getItem('posts')||'[]');\n   navigator.clipboard.writeText(posts[i].src);\n-  alert(\"Post link copied!\");\n+  alert('Post link copied!');\n }\n+renderPosts('gallery');\n+renderPosts('userGallery',true);\n \n-// Initial render\n-user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n-renderPosts(\"gallery\");\n-renderPosts(\"userGallery\",true);\n-\n-// DARK MODE\n-const toggleBtn = document.getElementById(\"modeToggle\");\n+// Dark mode toggle\n+const toggleBtn = document.getElementById('modeToggle');\n if(toggleBtn){\n-  const darkEnabled = localStorage.getItem(\"dark\")===\"true\";\n-  if(darkEnabled){ document.body.classList.add(\"dark\"); toggleBtn.textContent=\"‚òÄÔ∏è\"; }\n-  toggleBtn.addEventListener(\"click\", ()=>{\n-    document.body.classList.toggle(\"dark\");\n-    const isDark = document.body.classList.contains(\"dark\");\n-    localStorage.setItem(\"dark\",isDark);\n-    toggleBtn.textContent = isDark?\"‚òÄÔ∏è\":\"üåô\";\n+  if(localStorage.getItem('dark')==='true'){document.body.classList.add('dark');}\n+  toggleBtn.addEventListener('click',()=>{\n+    document.body.classList.toggle('dark');\n+    localStorage.setItem('dark',document.body.classList.contains('dark'));\n+    toggleBtn.textContent=document.body.classList.contains('dark')?'‚òÄÔ∏è':'üåô';\n   });\n }\n-// ==========================\n-// AUTH SECTION\n-// ==========================\n-const authArea = document.getElementById(\"authArea\");\n-let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n-\n-function renderAuth() {\n-  if (!authArea) return;\n-  if (user) {\n-    authArea.innerHTML = `\n-      <span class=\"username\">üë§ ${user.name}</span>\n-      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n-    `;\n-  } else {\n-    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n-  }\n-}\n-\n-function logout() {\n-  localStorage.removeItem(\"currentUser\");\n-  location.href = \"signin.html\";\n-}\n-\n-renderAuth();\n-\n-// ==========================\n-// SIGNUP\n-// ==========================\n-const signupForm = document.getElementById(\"signupForm\");\n-if (signupForm) {\n-  signupForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-    const name = document.getElementById(\"suName\").value.trim();\n-    const email = document.getElementById(\"suEmail\").value.trim();\n-    const pass = document.getElementById(\"suPass\").value.trim();\n-\n-    if (!name || !email || !pass) return alert(\"All fields are required!\");\n-\n-    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    if (users.find((u) => u.email === email))\n-      return alert(\"Email already registered!\");\n-\n-    const newUser = { name, email, pass };\n-    users.push(newUser);\n-    localStorage.setItem(\"users\", JSON.stringify(users));\n-    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n-    alert(\"Signup successful!\");\n-    location.href = \"index.html\";\n-  });\n-}\n-\n-// ==========================\n-// SIGNIN\n-// ==========================\n-const signinForm = document.getElementById(\"signinForm\");\n-if (signinForm) {\n-  signinForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-    const email = document.getElementById(\"siEmail\").value.trim();\n-    const pass = document.getElementById(\"siPass\").value.trim();\n-\n-    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    const found = users.find((u) => u.email === email && u.pass === pass);\n-    if (!found) return alert(\"Invalid email or password!\");\n-    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n-    alert(\"Welcome back!\");\n-    location.href = \"index.html\";\n-  });\n-}\n-\n-// ==========================\n-// UPLOAD (Images + Videos)\n-// ==========================\n-const uploadForm = document.getElementById(\"uploadForm\");\n-if (uploadForm) {\n-  uploadForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-    if (!user) return alert(\"Please login first!\");\n-\n-    const fileInput = document.getElementById(\"fileInput\");\n-    const caption = document.getElementById(\"caption\").value.trim();\n-    const file = fileInput.files[0];\n-\n-    if (!file) return alert(\"Please select a file!\");\n-\n-    // Detect type\n-    let type = file.type.startsWith(\"image\")\n-      ? \"image\"\n-      : file.type.startsWith(\"video\")\n-      ? \"video\"\n-      : null;\n-\n-    if (!type) {\n-      // fallback using extension\n-      const ext = file.name.split(\".\").pop().toLowerCase();\n-      const imgExts = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"webp\"];\n-      const vidExts = [\"mp4\", \"mov\", \"webm\", \"ogg\"];\n-      if (imgExts.includes(ext)) type = \"image\";\n-      else if (vidExts.includes(ext)) type = \"video\";\n-      else return alert(\"Unsupported file type!\");\n-    }\n-\n-    const reader = new FileReader();\n-    reader.onload = () => {\n-      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-      const newPost = {\n-        src: reader.result,\n-        type,\n-        caption,\n-        user: user.name,\n-        likes: 0,\n-        uploadedAt: new Date().toLocaleString(),\n-      };\n-      posts.unshift(newPost);\n-      localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Uploaded successfully!\");\n-      location.href = \"index.html\";\n-    };\n-\n-    reader.readAsDataURL(file);\n-  });\n-}\n-\n-// ==========================\n-// RENDER POSTS\n-// ==========================\n-function renderPosts(targetId, onlyUser = false) {\n-  const el = document.getElementById(targetId);\n-  if (!el) return;\n-\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n-\n-  if (posts.length === 0) {\n-    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n-    return;\n-  }\n-\n-  el.innerHTML = posts\n-    .map(\n-      (p, i) => `\n-    <div class=\"card\">\n-      ${\n-        p.type === \"image\"\n-          ? `<img src=\"${p.src}\" alt=\"Uploaded image\" />`\n-          : `<video controls src=\"${p.src}\"></video>`\n-      }\n-      <div class=\"post-info\">\n-        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-        <small>${p.uploadedAt}</small>\n-      </div>\n-      <div class=\"actions\">\n-        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-        <button onclick=\"sharePost(${i})\">üîó Share</button>\n-      </div>\n-    </div>\n-  `\n-    )\n-    .join(\"\");\n-}\n-\n-// ==========================\n-// LIKE + SHARE\n-// ==========================\n-function likePost(i) {\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  posts[i].likes = (posts[i].likes || 0) + 1;\n-  localStorage.setItem(\"posts\", JSON.stringify(posts));\n-  renderPosts(\"gallery\");\n-  renderPosts(\"userGallery\", true);\n-}\n-function sharePost(i) {\n-  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  navigator.clipboard.writeText(posts[i].src);\n-  alert(\"Link copied!\");\n-}\n-\n-// Initial render\n-renderPosts(\"gallery\");\n-renderPosts(\"userGallery\", true);\n-\n-// ==========================\n-// DARK MODE\n-// ==========================\n-const toggleBtn = document.getElementById(\"modeToggle\");\n-if (toggleBtn) {\n-  const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n-  if (darkEnabled) {\n-    document.body.classList.add(\"dark\");\n-    toggleBtn.textContent = \"‚òÄÔ∏è\";\n-  }\n-  toggleBtn.addEventListener(\"click\", () => {\n-    document.body.classList.toggle(\"dark\");\n-    const isDark = document.body.classList.contains(\"dark\");\n-    localStorage.setItem(\"dark\", isDark);\n-    toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n-  });\n-}\n"
                },
                {
                    "date": 1763061683903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,113 +1,109 @@\n-// Auth + LocalStorage + Posts + Dark Mode\n+// ---------- Auth Area ----------\n const authArea = document.getElementById('authArea');\n const user = JSON.parse(localStorage.getItem('currentUser'));\n \n-// Render Auth\n-function renderAuth(){\n-  if(!authArea) return;\n-  if(user){\n+function renderAuth() {\n+  if (!authArea) return;\n+  if (user) {\n     authArea.innerHTML = `<span>${user.name}</span> <button onclick=\"logout()\">Logout</button>`;\n   } else {\n     authArea.innerHTML = `<a href='signin.html'>Sign In</a>`;\n   }\n }\n-function logout(){\n+\n+function logout() {\n   localStorage.removeItem('currentUser');\n-  location.href='signin.html';\n+  location.href = 'signin.html';\n }\n+\n renderAuth();\n \n-// Signup\n-const signupForm = document.getElementById('signupForm');\n-if(signupForm){\n-  signupForm.addEventListener('submit', e=>{\n-    e.preventDefault();\n-    const name = document.getElementById('suName').value;\n-    const email = document.getElementById('suEmail').value;\n-    const pass = document.getElementById('suPass').value;\n-    let users = JSON.parse(localStorage.getItem('users')||'[]');\n-    if(users.find(u=>u.email===email)) return alert('Email already exists');\n-    const newUser = {name,email,pass};\n-    users.push(newUser);\n-    localStorage.setItem('users',JSON.stringify(users));\n-    localStorage.setItem('currentUser',JSON.stringify(newUser));\n-    location.href='index.html';\n-  });\n-}\n+// ---------- Upload Logic ----------\n+const uploadForm = document.getElementById('uploadForm');\n \n-// Signin\n-const signinForm = document.getElementById('signinForm');\n-if(signinForm){\n-  signinForm.addEventListener('submit', e=>{\n+if (uploadForm) {\n+  uploadForm.addEventListener('submit', e => {\n     e.preventDefault();\n-    const email = document.getElementById('siEmail').value;\n-    const pass = document.getElementById('siPass').value;\n-    let users = JSON.parse(localStorage.getItem('users')||'[]');\n-    const found = users.find(u=>u.email===email && u.pass===pass);\n-    if(!found) return alert('Invalid login');\n-    localStorage.setItem('currentUser',JSON.stringify(found));\n-    location.href='index.html';\n-  });\n-}\n+    if (!user) return alert('Please login first.');\n \n-// Upload\n-const uploadForm = document.getElementById('uploadForm');\n-if(uploadForm){\n-  uploadForm.addEventListener('submit', e=>{\n-    e.preventDefault();\n-    if(!user) return alert('Login required');\n     const file = document.getElementById('fileInput').files[0];\n-    const caption = document.getElementById('caption').value;\n-    if(!file) return;\n+    const caption = document.getElementById('caption').value.trim();\n+\n+    if (!file) return alert('Please select a file');\n+\n     const reader = new FileReader();\n-    reader.onload = ()=>{\n-      let posts = JSON.parse(localStorage.getItem('posts')||'[]');\n-      const newPost = {src:reader.result,type:file.type,caption,user:user.name,likes:0};\n+    reader.onload = () => {\n+      const posts = JSON.parse(localStorage.getItem('posts') || '[]');\n+      const newPost = {\n+        src: reader.result,\n+        type: file.type,\n+        caption,\n+        user: user.name,\n+        likes: 0,\n+        time: new Date().toLocaleString()\n+      };\n       posts.unshift(newPost);\n-      localStorage.setItem('posts',JSON.stringify(posts));\n-      location.href='index.html';\n+      localStorage.setItem('posts', JSON.stringify(posts));\n+      alert('Upload successful ‚úÖ');\n+      location.href = 'index.html';\n     };\n     reader.readAsDataURL(file);\n   });\n }\n \n-// Render Feed\n-function renderPosts(targetId, onlyUser=false){\n+// ---------- Feed Rendering ----------\n+function renderPosts(targetId, onlyUser = false) {\n   const el = document.getElementById(targetId);\n-  if(!el) return;\n-  let posts = JSON.parse(localStorage.getItem('posts')||'[]');\n-  if(onlyUser && user){ posts = posts.filter(p=>p.user===user.name); }\n-  el.innerHTML = posts.map((p,i)=>`\n-    <div class='card'>\n-      ${p.type.startsWith('image')?`<img src='${p.src}'/>`:`<video controls src='${p.src}'></video>`}\n-      <p><b>${p.user}</b> ‚Äî ${p.caption||''}</p>\n-      <div class='actions'>\n-        <button onclick='likePost(${i})'>‚ù§Ô∏è ${p.likes||0}</button>\n-        <button onclick='sharePost(${i})'>üîó Share</button>\n-      </div>\n-    </div>`).join('');\n+  if (!el) return;\n+\n+  let posts = JSON.parse(localStorage.getItem('posts') || '[]');\n+  if (onlyUser && user) posts = posts.filter(p => p.user === user.name);\n+\n+  el.innerHTML = posts\n+    .map(\n+      (p, i) => `\n+      <div class='card'>\n+        ${\n+          p.type.startsWith('image')\n+            ? `<img src='${p.src}' alt='post'/>`\n+            : `<video controls src='${p.src}'></video>`\n+        }\n+        <p><b>${p.user}</b> ‚Äî ${p.caption || ''}</p>\n+        <div class='actions'>\n+          <button onclick='likePost(${i})'>‚ù§Ô∏è ${p.likes || 0}</button>\n+          <button onclick='sharePost(${i})'>üîó Share</button>\n+        </div>\n+      </div>`\n+    )\n+    .join('');\n }\n-function likePost(i){\n-  let posts = JSON.parse(localStorage.getItem('posts')||'[]');\n-  posts[i].likes = (posts[i].likes||0)+1;\n-  localStorage.setItem('posts',JSON.stringify(posts));\n-  renderPosts('gallery');renderPosts('userGallery',true);\n+\n+function likePost(i) {\n+  const posts = JSON.parse(localStorage.getItem('posts') || '[]');\n+  posts[i].likes = (posts[i].likes || 0) + 1;\n+  localStorage.setItem('posts', JSON.stringify(posts));\n+  renderPosts('gallery');\n+  renderPosts('userGallery', true);\n }\n-function sharePost(i){\n-  const posts = JSON.parse(localStorage.getItem('posts')||'[]');\n+\n+function sharePost(i) {\n+  const posts = JSON.parse(localStorage.getItem('posts') || '[]');\n   navigator.clipboard.writeText(posts[i].src);\n-  alert('Post link copied!');\n+  alert('Post link copied ‚úÖ');\n }\n-renderPosts('gallery');\n-renderPosts('userGallery',true);\n \n-// Dark mode toggle\n+// ---------- Dark Mode ----------\n const toggleBtn = document.getElementById('modeToggle');\n-if(toggleBtn){\n-  if(localStorage.getItem('dark')==='true'){document.body.classList.add('dark');}\n-  toggleBtn.addEventListener('click',()=>{\n+if (toggleBtn) {\n+  if (localStorage.getItem('dark') === 'true') document.body.classList.add('dark');\n+\n+  toggleBtn.addEventListener('click', () => {\n     document.body.classList.toggle('dark');\n-    localStorage.setItem('dark',document.body.classList.contains('dark'));\n-    toggleBtn.textContent=document.body.classList.contains('dark')?'‚òÄÔ∏è':'üåô';\n+    localStorage.setItem('dark', document.body.classList.contains('dark'));\n+    toggleBtn.textContent = document.body.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';\n   });\n }\n+\n+// Render posts on home and dashboard\n+renderPosts('gallery');\n+renderPosts('userGallery', true);\n"
                },
                {
                    "date": 1763061738549,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,109 +1,193 @@\n-// ---------- Auth Area ----------\n-const authArea = document.getElementById('authArea');\n-const user = JSON.parse(localStorage.getItem('currentUser'));\n+// ==========================\n+// Global Script: global.js\n+// ==========================\n \n+// Auth Area Setup\n+const authArea = document.getElementById(\"authArea\");\n+let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n+\n+// Render Authentication Area\n function renderAuth() {\n   if (!authArea) return;\n+\n   if (user) {\n-    authArea.innerHTML = `<span>${user.name}</span> <button onclick=\"logout()\">Logout</button>`;\n+    authArea.innerHTML = `\n+      <span class=\"username\">üë§ ${user.name}</span>\n+      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n+    `;\n   } else {\n-    authArea.innerHTML = `<a href='signin.html'>Sign In</a>`;\n+    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n   }\n }\n \n+// Logout Function\n function logout() {\n-  localStorage.removeItem('currentUser');\n-  location.href = 'signin.html';\n+  localStorage.removeItem(\"currentUser\");\n+  location.href = \"signin.html\";\n }\n \n renderAuth();\n \n-// ---------- Upload Logic ----------\n-const uploadForm = document.getElementById('uploadForm');\n+// ==========================\n+// SIGN UP\n+// ==========================\n+const signupForm = document.getElementById(\"signupForm\");\n+if (signupForm) {\n+  signupForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n \n+    const name = document.getElementById(\"suName\").value.trim();\n+    const email = document.getElementById(\"suEmail\").value.trim();\n+    const pass = document.getElementById(\"suPass\").value.trim();\n+\n+    if (!name || !email || !pass) return alert(\"All fields are required!\");\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+\n+    if (users.find((u) => u.email === email))\n+      return alert(\"Email already exists!\");\n+\n+    const newUser = { name, email, pass };\n+    users.push(newUser);\n+\n+    localStorage.setItem(\"users\", JSON.stringify(users));\n+    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n+\n+    alert(\"Signup successful!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n+// SIGN IN\n+// ==========================\n+const signinForm = document.getElementById(\"signinForm\");\n+if (signinForm) {\n+  signinForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+\n+    const email = document.getElementById(\"siEmail\").value.trim();\n+    const pass = document.getElementById(\"siPass\").value.trim();\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    const found = users.find((u) => u.email === email && u.pass === pass);\n+\n+    if (!found) return alert(\"Invalid login credentials!\");\n+\n+    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n+    alert(\"Welcome back!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n+// UPLOAD POST\n+// ==========================\n+const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n-  uploadForm.addEventListener('submit', e => {\n+  uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n-    if (!user) return alert('Please login first.');\n \n-    const file = document.getElementById('fileInput').files[0];\n-    const caption = document.getElementById('caption').value.trim();\n+    if (!user) return alert(\"Please login first!\");\n \n-    if (!file) return alert('Please select a file');\n+    const file = document.getElementById(\"fileInput\").files[0];\n+    const caption = document.getElementById(\"caption\").value.trim();\n \n+    if (!file) return alert(\"Please select a file!\");\n+\n     const reader = new FileReader();\n     reader.onload = () => {\n-      const posts = JSON.parse(localStorage.getItem('posts') || '[]');\n+      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n       const newPost = {\n         src: reader.result,\n         type: file.type,\n         caption,\n         user: user.name,\n         likes: 0,\n-        time: new Date().toLocaleString()\n+        time: new Date().toLocaleString(),\n       };\n       posts.unshift(newPost);\n-      localStorage.setItem('posts', JSON.stringify(posts));\n-      alert('Upload successful ‚úÖ');\n-      location.href = 'index.html';\n+      localStorage.setItem(\"posts\", JSON.stringify(posts));\n+      alert(\"Post uploaded successfully!\");\n+      location.href = \"index.html\";\n     };\n     reader.readAsDataURL(file);\n   });\n }\n \n-// ---------- Feed Rendering ----------\n+// ==========================\n+// RENDER POSTS\n+// ==========================\n function renderPosts(targetId, onlyUser = false) {\n   const el = document.getElementById(targetId);\n   if (!el) return;\n \n-  let posts = JSON.parse(localStorage.getItem('posts') || '[]');\n-  if (onlyUser && user) posts = posts.filter(p => p.user === user.name);\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n \n+  if (posts.length === 0) {\n+    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n+    return;\n+  }\n+\n   el.innerHTML = posts\n     .map(\n       (p, i) => `\n-      <div class='card'>\n-        ${\n-          p.type.startsWith('image')\n-            ? `<img src='${p.src}' alt='post'/>`\n-            : `<video controls src='${p.src}'></video>`\n-        }\n-        <p><b>${p.user}</b> ‚Äî ${p.caption || ''}</p>\n-        <div class='actions'>\n-          <button onclick='likePost(${i})'>‚ù§Ô∏è ${p.likes || 0}</button>\n-          <button onclick='sharePost(${i})'>üîó Share</button>\n-        </div>\n-      </div>`\n+    <div class=\"card\">\n+      ${\n+        p.type.startsWith(\"image\")\n+          ? `<img src=\"${p.src}\" alt=\"post\" />`\n+          : `<video controls src=\"${p.src}\"></video>`\n+      }\n+      <div class=\"post-info\">\n+        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+        <small>${p.time}</small>\n+      </div>\n+      <div class=\"actions\">\n+        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+        <button onclick=\"sharePost(${i})\">üîó Share</button>\n+      </div>\n+    </div>\n+  `\n     )\n-    .join('');\n+    .join(\"\");\n }\n \n+// LIKE\n function likePost(i) {\n-  const posts = JSON.parse(localStorage.getItem('posts') || '[]');\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   posts[i].likes = (posts[i].likes || 0) + 1;\n-  localStorage.setItem('posts', JSON.stringify(posts));\n-  renderPosts('gallery');\n-  renderPosts('userGallery', true);\n+  localStorage.setItem(\"posts\", JSON.stringify(posts));\n+  renderPosts(\"gallery\");\n+  renderPosts(\"userGallery\", true);\n }\n \n+// SHARE\n function sharePost(i) {\n-  const posts = JSON.parse(localStorage.getItem('posts') || '[]');\n+  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n-  alert('Post link copied ‚úÖ');\n+  alert(\"Post link copied!\");\n }\n \n-// ---------- Dark Mode ----------\n-const toggleBtn = document.getElementById('modeToggle');\n+// Initial Renders\n+renderPosts(\"gallery\");\n+renderPosts(\"userGallery\", true);\n+\n+// ==========================\n+// DARK MODE\n+// ==========================\n+const toggleBtn = document.getElementById(\"modeToggle\");\n if (toggleBtn) {\n-  if (localStorage.getItem('dark') === 'true') document.body.classList.add('dark');\n+  const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n+  if (darkEnabled) {\n+    document.body.classList.add(\"dark\");\n+    toggleBtn.textContent = \"‚òÄÔ∏è\";\n+  }\n \n-  toggleBtn.addEventListener('click', () => {\n-    document.body.classList.toggle('dark');\n-    localStorage.setItem('dark', document.body.classList.contains('dark'));\n-    toggleBtn.textContent = document.body.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';\n+  toggleBtn.addEventListener(\"click\", () => {\n+    document.body.classList.toggle(\"dark\");\n+    const isDark = document.body.classList.contains(\"dark\");\n+    localStorage.setItem(\"dark\", isDark);\n+    toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n   });\n }\n-\n-// Render posts on home and dashboard\n-renderPosts('gallery');\n-renderPosts('userGallery', true);\n"
                },
                {
                    "date": 1763061769688,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,12 +5,11 @@\n // Auth Area Setup\n const authArea = document.getElementById(\"authArea\");\n let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n \n-// Render Authentication Area\n+// Render Authentication\n function renderAuth() {\n   if (!authArea) return;\n-\n   if (user) {\n     authArea.innerHTML = `\n       <span class=\"username\">üë§ ${user.name}</span>\n       <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n@@ -18,15 +17,12 @@\n   } else {\n     authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n   }\n }\n-\n-// Logout Function\n function logout() {\n   localStorage.removeItem(\"currentUser\");\n   location.href = \"signin.html\";\n }\n-\n renderAuth();\n \n // ==========================\n // SIGN UP\n@@ -42,12 +38,10 @@\n \n     if (!name || !email || !pass) return alert(\"All fields are required!\");\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    if (users.find((u) => u.email === email)) return alert(\"Email already exists!\");\n \n-    if (users.find((u) => u.email === email))\n-      return alert(\"Email already exists!\");\n-\n     const newUser = { name, email, pass };\n     users.push(newUser);\n \n     localStorage.setItem(\"users\", JSON.stringify(users));\n@@ -71,18 +65,18 @@\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n     const found = users.find((u) => u.email === email && u.pass === pass);\n \n-    if (!found) return alert(\"Invalid login credentials!\");\n+    if (!found) return alert(\"Invalid email or password!\");\n \n     localStorage.setItem(\"currentUser\", JSON.stringify(found));\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n \n // ==========================\n-// UPLOAD POST\n+// UPLOAD POST (Image / Video)\n // ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n@@ -92,24 +86,34 @@\n \n     const file = document.getElementById(\"fileInput\").files[0];\n     const caption = document.getElementById(\"caption\").value.trim();\n \n-    if (!file) return alert(\"Please select a file!\");\n+    if (!file) return alert(\"Please select an image or video file!\");\n \n+    // Supported Types\n+    const allowedTypes = [\n+      \"image/jpeg\", \"image/png\", \"image/gif\", \"image/webp\", \"image/jpg\",\n+      \"video/mp4\", \"video/webm\", \"video/ogg\", \"video/mov\", \"video/avi\"\n+    ];\n+\n+    if (!allowedTypes.includes(file.type)) {\n+      return alert(\"Unsupported file type! Please upload a valid image or video.\");\n+    }\n+\n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n       const newPost = {\n         src: reader.result,\n-        type: file.type,\n+        type: file.type.startsWith(\"image\") ? \"image\" : \"video\",\n         caption,\n         user: user.name,\n         likes: 0,\n-        time: new Date().toLocaleString(),\n+        time: new Date().toLocaleString()\n       };\n       posts.unshift(newPost);\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Post uploaded successfully!\");\n+      alert(\"Upload successful!\");\n       location.href = \"index.html\";\n     };\n     reader.readAsDataURL(file);\n   });\n@@ -132,38 +136,35 @@\n \n   el.innerHTML = posts\n     .map(\n       (p, i) => `\n-    <div class=\"card\">\n-      ${\n-        p.type.startsWith(\"image\")\n-          ? `<img src=\"${p.src}\" alt=\"post\" />`\n-          : `<video controls src=\"${p.src}\"></video>`\n-      }\n-      <div class=\"post-info\">\n-        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-        <small>${p.time}</small>\n-      </div>\n-      <div class=\"actions\">\n-        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-        <button onclick=\"sharePost(${i})\">üîó Share</button>\n-      </div>\n-    </div>\n-  `\n+      <div class=\"card\">\n+        ${\n+          p.type === \"image\"\n+            ? `<img src=\"${p.src}\" alt=\"post\" />`\n+            : `<video controls src=\"${p.src}\"></video>`\n+        }\n+        <div class=\"post-info\">\n+          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+          <small>${p.time}</small>\n+        </div>\n+        <div class=\"actions\">\n+          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+          <button onclick=\"sharePost(${i})\">üîó Share</button>\n+        </div>\n+      </div>`\n     )\n     .join(\"\");\n }\n \n-// LIKE\n function likePost(i) {\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   posts[i].likes = (posts[i].likes || 0) + 1;\n   localStorage.setItem(\"posts\", JSON.stringify(posts));\n   renderPosts(\"gallery\");\n   renderPosts(\"userGallery\", true);\n }\n \n-// SHARE\n function sharePost(i) {\n   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n   alert(\"Post link copied!\");\n@@ -182,9 +183,8 @@\n   if (darkEnabled) {\n     document.body.classList.add(\"dark\");\n     toggleBtn.textContent = \"‚òÄÔ∏è\";\n   }\n-\n   toggleBtn.addEventListener(\"click\", () => {\n     document.body.classList.toggle(\"dark\");\n     const isDark = document.body.classList.contains(\"dark\");\n     localStorage.setItem(\"dark\", isDark);\n"
                },
                {
                    "date": 1763061780915,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,12 @@\n // ==========================\n // Global Script: global.js\n // ==========================\n \n-// Auth Area Setup\n+// AUTH SECTION\n const authArea = document.getElementById(\"authArea\");\n let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n \n-// Render Authentication\n function renderAuth() {\n   if (!authArea) return;\n   if (user) {\n     authArea.innerHTML = `\n@@ -24,98 +23,91 @@\n }\n renderAuth();\n \n // ==========================\n-// SIGN UP\n+// SIGNUP\n // ==========================\n const signupForm = document.getElementById(\"signupForm\");\n if (signupForm) {\n   signupForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n-\n     const name = document.getElementById(\"suName\").value.trim();\n     const email = document.getElementById(\"suEmail\").value.trim();\n     const pass = document.getElementById(\"suPass\").value.trim();\n \n     if (!name || !email || !pass) return alert(\"All fields are required!\");\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    if (users.find((u) => u.email === email)) return alert(\"Email already exists!\");\n+    if (users.find((u) => u.email === email))\n+      return alert(\"Email already registered!\");\n \n     const newUser = { name, email, pass };\n     users.push(newUser);\n-\n     localStorage.setItem(\"users\", JSON.stringify(users));\n     localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n-\n     alert(\"Signup successful!\");\n     location.href = \"index.html\";\n   });\n }\n \n // ==========================\n-// SIGN IN\n+// SIGNIN\n // ==========================\n const signinForm = document.getElementById(\"signinForm\");\n if (signinForm) {\n   signinForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n-\n     const email = document.getElementById(\"siEmail\").value.trim();\n     const pass = document.getElementById(\"siPass\").value.trim();\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n     const found = users.find((u) => u.email === email && u.pass === pass);\n-\n     if (!found) return alert(\"Invalid email or password!\");\n-\n     localStorage.setItem(\"currentUser\", JSON.stringify(found));\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n \n // ==========================\n-// UPLOAD POST (Image / Video)\n+// UPLOAD (Images + Videos)\n // ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n-\n     if (!user) return alert(\"Please login first!\");\n \n-    const file = document.getElementById(\"fileInput\").files[0];\n+    const fileInput = document.getElementById(\"fileInput\");\n     const caption = document.getElementById(\"caption\").value.trim();\n+    const file = fileInput.files[0];\n \n     if (!file) return alert(\"Please select an image or video file!\");\n \n-    // Supported Types\n-    const allowedTypes = [\n-      \"image/jpeg\", \"image/png\", \"image/gif\", \"image/webp\", \"image/jpg\",\n-      \"video/mp4\", \"video/webm\", \"video/ogg\", \"video/mov\", \"video/avi\"\n-    ];\n-\n-    if (!allowedTypes.includes(file.type)) {\n-      return alert(\"Unsupported file type! Please upload a valid image or video.\");\n-    }\n-\n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+\n+      // Automatically detect type based on MIME\n+      const isImage = file.type.startsWith(\"image\");\n+      const isVideo = file.type.startsWith(\"video\");\n+\n       const newPost = {\n         src: reader.result,\n-        type: file.type.startsWith(\"image\") ? \"image\" : \"video\",\n+        type: isImage ? \"image\" : isVideo ? \"video\" : \"unknown\",\n         caption,\n         user: user.name,\n         likes: 0,\n-        time: new Date().toLocaleString()\n+        uploadedAt: new Date().toLocaleString()\n       };\n+\n       posts.unshift(newPost);\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Upload successful!\");\n+      alert(\"Your post has been uploaded successfully!\");\n       location.href = \"index.html\";\n     };\n+\n+    // Always read file, no type restriction\n     reader.readAsDataURL(file);\n   });\n }\n \n@@ -129,9 +121,9 @@\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n \n   if (posts.length === 0) {\n-    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n+    el.innerHTML = `<p class=\"no-posts\">No posts yet!</p>`;\n     return;\n   }\n \n   el.innerHTML = posts\n@@ -139,36 +131,41 @@\n       (p, i) => `\n       <div class=\"card\">\n         ${\n           p.type === \"image\"\n-            ? `<img src=\"${p.src}\" alt=\"post\" />`\n-            : `<video controls src=\"${p.src}\"></video>`\n+            ? `<img src=\"${p.src}\" alt=\"Uploaded image\" />`\n+            : p.type === \"video\"\n+            ? `<video controls src=\"${p.src}\"></video>`\n+            : `<p>Unsupported file type.</p>`\n         }\n         <div class=\"post-info\">\n           <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-          <small>${p.time}</small>\n+          <small>${p.uploadedAt}</small>\n         </div>\n         <div class=\"actions\">\n           <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n           <button onclick=\"sharePost(${i})\">üîó Share</button>\n         </div>\n-      </div>`\n+      </div>\n+    `\n     )\n     .join(\"\");\n }\n \n+// ==========================\n+// LIKE + SHARE\n+// ==========================\n function likePost(i) {\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   posts[i].likes = (posts[i].likes || 0) + 1;\n   localStorage.setItem(\"posts\", JSON.stringify(posts));\n   renderPosts(\"gallery\");\n   renderPosts(\"userGallery\", true);\n }\n-\n function sharePost(i) {\n   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n-  alert(\"Post link copied!\");\n+  alert(\"Post link copied to clipboard!\");\n }\n \n // Initial Renders\n renderPosts(\"gallery\");\n"
                },
                {
                    "date": 1763061799328,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,7 @@\n // ==========================\n-// Global Script: global.js\n+// AUTH SECTION\n // ==========================\n-\n-// AUTH SECTION\n const authArea = document.getElementById(\"authArea\");\n let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n \n function renderAuth() {\n@@ -16,12 +14,14 @@\n   } else {\n     authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n   }\n }\n+\n function logout() {\n   localStorage.removeItem(\"currentUser\");\n   location.href = \"signin.html\";\n }\n+\n renderAuth();\n \n // ==========================\n // SIGNUP\n@@ -80,34 +80,44 @@\n     const fileInput = document.getElementById(\"fileInput\");\n     const caption = document.getElementById(\"caption\").value.trim();\n     const file = fileInput.files[0];\n \n-    if (!file) return alert(\"Please select an image or video file!\");\n+    if (!file) return alert(\"Please select a file!\");\n \n+    // Detect type\n+    let type = file.type.startsWith(\"image\")\n+      ? \"image\"\n+      : file.type.startsWith(\"video\")\n+      ? \"video\"\n+      : null;\n+\n+    if (!type) {\n+      // fallback using extension\n+      const ext = file.name.split(\".\").pop().toLowerCase();\n+      const imgExts = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"webp\"];\n+      const vidExts = [\"mp4\", \"mov\", \"webm\", \"ogg\"];\n+      if (imgExts.includes(ext)) type = \"image\";\n+      else if (vidExts.includes(ext)) type = \"video\";\n+      else return alert(\"Unsupported file type!\");\n+    }\n+\n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-\n-      // Automatically detect type based on MIME\n-      const isImage = file.type.startsWith(\"image\");\n-      const isVideo = file.type.startsWith(\"video\");\n-\n       const newPost = {\n         src: reader.result,\n-        type: isImage ? \"image\" : isVideo ? \"video\" : \"unknown\",\n+        type,\n         caption,\n         user: user.name,\n         likes: 0,\n-        uploadedAt: new Date().toLocaleString()\n+        uploadedAt: new Date().toLocaleString(),\n       };\n-\n       posts.unshift(newPost);\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Your post has been uploaded successfully!\");\n+      alert(\"Uploaded successfully!\");\n       location.href = \"index.html\";\n     };\n \n-    // Always read file, no type restriction\n     reader.readAsDataURL(file);\n   });\n }\n \n@@ -121,33 +131,31 @@\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n \n   if (posts.length === 0) {\n-    el.innerHTML = `<p class=\"no-posts\">No posts yet!</p>`;\n+    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n     return;\n   }\n \n   el.innerHTML = posts\n     .map(\n       (p, i) => `\n-      <div class=\"card\">\n-        ${\n-          p.type === \"image\"\n-            ? `<img src=\"${p.src}\" alt=\"Uploaded image\" />`\n-            : p.type === \"video\"\n-            ? `<video controls src=\"${p.src}\"></video>`\n-            : `<p>Unsupported file type.</p>`\n-        }\n-        <div class=\"post-info\">\n-          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-          <small>${p.uploadedAt}</small>\n-        </div>\n-        <div class=\"actions\">\n-          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-          <button onclick=\"sharePost(${i})\">üîó Share</button>\n-        </div>\n+    <div class=\"card\">\n+      ${\n+        p.type === \"image\"\n+          ? `<img src=\"${p.src}\" alt=\"Uploaded image\" />`\n+          : `<video controls src=\"${p.src}\"></video>`\n+      }\n+      <div class=\"post-info\">\n+        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+        <small>${p.uploadedAt}</small>\n       </div>\n-    `\n+      <div class=\"actions\">\n+        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+        <button onclick=\"sharePost(${i})\">üîó Share</button>\n+      </div>\n+    </div>\n+  `\n     )\n     .join(\"\");\n }\n \n@@ -163,12 +171,12 @@\n }\n function sharePost(i) {\n   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n-  alert(\"Post link copied to clipboard!\");\n+  alert(\"Link copied!\");\n }\n \n-// Initial Renders\n+// Initial render\n renderPosts(\"gallery\");\n renderPosts(\"userGallery\", true);\n \n // ==========================\n"
                },
                {
                    "date": 1763061874862,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,9 @@\n // ==========================\n+// Global Script: global.js\n+// ==========================\n+\n // AUTH SECTION\n-// ==========================\n const authArea = document.getElementById(\"authArea\");\n let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n \n function renderAuth() {\n@@ -14,14 +16,12 @@\n   } else {\n     authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n   }\n }\n-\n function logout() {\n   localStorage.removeItem(\"currentUser\");\n   location.href = \"signin.html\";\n }\n-\n renderAuth();\n \n // ==========================\n // SIGNUP\n@@ -80,44 +80,34 @@\n     const fileInput = document.getElementById(\"fileInput\");\n     const caption = document.getElementById(\"caption\").value.trim();\n     const file = fileInput.files[0];\n \n-    if (!file) return alert(\"Please select a file!\");\n+    if (!file) return alert(\"Please select an image or video file!\");\n \n-    // Detect type\n-    let type = file.type.startsWith(\"image\")\n-      ? \"image\"\n-      : file.type.startsWith(\"video\")\n-      ? \"video\"\n-      : null;\n-\n-    if (!type) {\n-      // fallback using extension\n-      const ext = file.name.split(\".\").pop().toLowerCase();\n-      const imgExts = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"webp\"];\n-      const vidExts = [\"mp4\", \"mov\", \"webm\", \"ogg\"];\n-      if (imgExts.includes(ext)) type = \"image\";\n-      else if (vidExts.includes(ext)) type = \"video\";\n-      else return alert(\"Unsupported file type!\");\n-    }\n-\n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+\n+      // Automatically detect type based on MIME\n+      const isImage = file.type.startsWith(\"image\");\n+      const isVideo = file.type.startsWith(\"video\");\n+\n       const newPost = {\n         src: reader.result,\n-        type,\n+        type: isImage ? \"image\" : isVideo ? \"video\" : \"unknown\",\n         caption,\n         user: user.name,\n         likes: 0,\n-        uploadedAt: new Date().toLocaleString(),\n+        uploadedAt: new Date().toLocaleString()\n       };\n+\n       posts.unshift(newPost);\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Uploaded successfully!\");\n+      alert(\"Your post has been uploaded successfully!\");\n       location.href = \"index.html\";\n     };\n \n+    // Always read file, no type restriction\n     reader.readAsDataURL(file);\n   });\n }\n \n@@ -131,31 +121,33 @@\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n \n   if (posts.length === 0) {\n-    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n+    el.innerHTML = `<p class=\"no-posts\">No posts yet!</p>`;\n     return;\n   }\n \n   el.innerHTML = posts\n     .map(\n       (p, i) => `\n-    <div class=\"card\">\n-      ${\n-        p.type === \"image\"\n-          ? `<img src=\"${p.src}\" alt=\"Uploaded image\" />`\n-          : `<video controls src=\"${p.src}\"></video>`\n-      }\n-      <div class=\"post-info\">\n-        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-        <small>${p.uploadedAt}</small>\n+      <div class=\"card\">\n+        ${\n+          p.type === \"image\"\n+            ? `<img src=\"${p.src}\" alt=\"Uploaded image\" />`\n+            : p.type === \"video\"\n+            ? `<video controls src=\"${p.src}\"></video>`\n+            : `<p>Unsupported file type.</p>`\n+        }\n+        <div class=\"post-info\">\n+          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+          <small>${p.uploadedAt}</small>\n+        </div>\n+        <div class=\"actions\">\n+          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+          <button onclick=\"sharePost(${i})\">üîó Share</button>\n+        </div>\n       </div>\n-      <div class=\"actions\">\n-        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-        <button onclick=\"sharePost(${i})\">üîó Share</button>\n-      </div>\n-    </div>\n-  `\n+    `\n     )\n     .join(\"\");\n }\n \n@@ -171,12 +163,12 @@\n }\n function sharePost(i) {\n   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n-  alert(\"Link copied!\");\n+  alert(\"Post link copied to clipboard!\");\n }\n \n-// Initial render\n+// Initial Renders\n renderPosts(\"gallery\");\n renderPosts(\"userGallery\", true);\n \n // ==========================\n"
                },
                {
                    "date": 1763061884408,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,13 @@\n // ==========================\n // Global Script: global.js\n // ==========================\n \n-// AUTH SECTION\n+// Auth Area Setup\n const authArea = document.getElementById(\"authArea\");\n let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n \n+// Render Authentication\n function renderAuth() {\n   if (!authArea) return;\n   if (user) {\n     authArea.innerHTML = `\n@@ -23,91 +24,98 @@\n }\n renderAuth();\n \n // ==========================\n-// SIGNUP\n+// SIGN UP\n // ==========================\n const signupForm = document.getElementById(\"signupForm\");\n if (signupForm) {\n   signupForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n+\n     const name = document.getElementById(\"suName\").value.trim();\n     const email = document.getElementById(\"suEmail\").value.trim();\n     const pass = document.getElementById(\"suPass\").value.trim();\n \n     if (!name || !email || !pass) return alert(\"All fields are required!\");\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    if (users.find((u) => u.email === email))\n-      return alert(\"Email already registered!\");\n+    if (users.find((u) => u.email === email)) return alert(\"Email already exists!\");\n \n     const newUser = { name, email, pass };\n     users.push(newUser);\n+\n     localStorage.setItem(\"users\", JSON.stringify(users));\n     localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n+\n     alert(\"Signup successful!\");\n     location.href = \"index.html\";\n   });\n }\n \n // ==========================\n-// SIGNIN\n+// SIGN IN\n // ==========================\n const signinForm = document.getElementById(\"signinForm\");\n if (signinForm) {\n   signinForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n+\n     const email = document.getElementById(\"siEmail\").value.trim();\n     const pass = document.getElementById(\"siPass\").value.trim();\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n     const found = users.find((u) => u.email === email && u.pass === pass);\n+\n     if (!found) return alert(\"Invalid email or password!\");\n+\n     localStorage.setItem(\"currentUser\", JSON.stringify(found));\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n \n // ==========================\n-// UPLOAD (Images + Videos)\n+// UPLOAD POST (Image / Video)\n // ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n+\n     if (!user) return alert(\"Please login first!\");\n \n-    const fileInput = document.getElementById(\"fileInput\");\n+    const file = document.getElementById(\"fileInput\").files[0];\n     const caption = document.getElementById(\"caption\").value.trim();\n-    const file = fileInput.files[0];\n \n     if (!file) return alert(\"Please select an image or video file!\");\n \n+    // Supported Types\n+    const allowedTypes = [\n+      \"image/jpeg\", \"image/png\", \"image/gif\", \"image/webp\", \"image/jpg\",\n+      \"video/mp4\", \"video/webm\", \"video/ogg\", \"video/mov\", \"video/avi\"\n+    ];\n+\n+    if (!allowedTypes.includes(file.type)) {\n+      return alert(\"Unsupported file type! Please upload a valid image or video.\");\n+    }\n+\n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-\n-      // Automatically detect type based on MIME\n-      const isImage = file.type.startsWith(\"image\");\n-      const isVideo = file.type.startsWith(\"video\");\n-\n       const newPost = {\n         src: reader.result,\n-        type: isImage ? \"image\" : isVideo ? \"video\" : \"unknown\",\n+        type: file.type.startsWith(\"image\") ? \"image\" : \"video\",\n         caption,\n         user: user.name,\n         likes: 0,\n-        uploadedAt: new Date().toLocaleString()\n+        time: new Date().toLocaleString()\n       };\n-\n       posts.unshift(newPost);\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Your post has been uploaded successfully!\");\n+      alert(\"Upload successful!\");\n       location.href = \"index.html\";\n     };\n-\n-    // Always read file, no type restriction\n     reader.readAsDataURL(file);\n   });\n }\n \n@@ -121,9 +129,9 @@\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n \n   if (posts.length === 0) {\n-    el.innerHTML = `<p class=\"no-posts\">No posts yet!</p>`;\n+    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n     return;\n   }\n \n   el.innerHTML = posts\n@@ -131,41 +139,36 @@\n       (p, i) => `\n       <div class=\"card\">\n         ${\n           p.type === \"image\"\n-            ? `<img src=\"${p.src}\" alt=\"Uploaded image\" />`\n-            : p.type === \"video\"\n-            ? `<video controls src=\"${p.src}\"></video>`\n-            : `<p>Unsupported file type.</p>`\n+            ? `<img src=\"${p.src}\" alt=\"post\" />`\n+            : `<video controls src=\"${p.src}\"></video>`\n         }\n         <div class=\"post-info\">\n           <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-          <small>${p.uploadedAt}</small>\n+          <small>${p.time}</small>\n         </div>\n         <div class=\"actions\">\n           <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n           <button onclick=\"sharePost(${i})\">üîó Share</button>\n         </div>\n-      </div>\n-    `\n+      </div>`\n     )\n     .join(\"\");\n }\n \n-// ==========================\n-// LIKE + SHARE\n-// ==========================\n function likePost(i) {\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   posts[i].likes = (posts[i].likes || 0) + 1;\n   localStorage.setItem(\"posts\", JSON.stringify(posts));\n   renderPosts(\"gallery\");\n   renderPosts(\"userGallery\", true);\n }\n+\n function sharePost(i) {\n   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n-  alert(\"Post link copied to clipboard!\");\n+  alert(\"Post link copied!\");\n }\n \n // Initial Renders\n renderPosts(\"gallery\");\n"
                },
                {
                    "date": 1763061892106,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,11 +5,12 @@\n // Auth Area Setup\n const authArea = document.getElementById(\"authArea\");\n let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n \n-// Render Authentication\n+// Render Authentication Area\n function renderAuth() {\n   if (!authArea) return;\n+\n   if (user) {\n     authArea.innerHTML = `\n       <span class=\"username\">üë§ ${user.name}</span>\n       <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n@@ -17,12 +18,15 @@\n   } else {\n     authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n   }\n }\n+\n+// Logout Function\n function logout() {\n   localStorage.removeItem(\"currentUser\");\n   location.href = \"signin.html\";\n }\n+\n renderAuth();\n \n // ==========================\n // SIGN UP\n@@ -38,10 +42,12 @@\n \n     if (!name || !email || !pass) return alert(\"All fields are required!\");\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    if (users.find((u) => u.email === email)) return alert(\"Email already exists!\");\n \n+    if (users.find((u) => u.email === email))\n+      return alert(\"Email already exists!\");\n+\n     const newUser = { name, email, pass };\n     users.push(newUser);\n \n     localStorage.setItem(\"users\", JSON.stringify(users));\n@@ -65,18 +71,18 @@\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n     const found = users.find((u) => u.email === email && u.pass === pass);\n \n-    if (!found) return alert(\"Invalid email or password!\");\n+    if (!found) return alert(\"Invalid login credentials!\");\n \n     localStorage.setItem(\"currentUser\", JSON.stringify(found));\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n \n // ==========================\n-// UPLOAD POST (Image / Video)\n+// UPLOAD POST\n // ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n@@ -86,34 +92,24 @@\n \n     const file = document.getElementById(\"fileInput\").files[0];\n     const caption = document.getElementById(\"caption\").value.trim();\n \n-    if (!file) return alert(\"Please select an image or video file!\");\n+    if (!file) return alert(\"Please select a file!\");\n \n-    // Supported Types\n-    const allowedTypes = [\n-      \"image/jpeg\", \"image/png\", \"image/gif\", \"image/webp\", \"image/jpg\",\n-      \"video/mp4\", \"video/webm\", \"video/ogg\", \"video/mov\", \"video/avi\"\n-    ];\n-\n-    if (!allowedTypes.includes(file.type)) {\n-      return alert(\"Unsupported file type! Please upload a valid image or video.\");\n-    }\n-\n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n       const newPost = {\n         src: reader.result,\n-        type: file.type.startsWith(\"image\") ? \"image\" : \"video\",\n+        type: file.type,\n         caption,\n         user: user.name,\n         likes: 0,\n-        time: new Date().toLocaleString()\n+        time: new Date().toLocaleString(),\n       };\n       posts.unshift(newPost);\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Upload successful!\");\n+      alert(\"Post uploaded successfully!\");\n       location.href = \"index.html\";\n     };\n     reader.readAsDataURL(file);\n   });\n@@ -136,35 +132,38 @@\n \n   el.innerHTML = posts\n     .map(\n       (p, i) => `\n-      <div class=\"card\">\n-        ${\n-          p.type === \"image\"\n-            ? `<img src=\"${p.src}\" alt=\"post\" />`\n-            : `<video controls src=\"${p.src}\"></video>`\n-        }\n-        <div class=\"post-info\">\n-          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-          <small>${p.time}</small>\n-        </div>\n-        <div class=\"actions\">\n-          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-          <button onclick=\"sharePost(${i})\">üîó Share</button>\n-        </div>\n-      </div>`\n+    <div class=\"card\">\n+      ${\n+        p.type.startsWith(\"image\")\n+          ? `<img src=\"${p.src}\" alt=\"post\" />`\n+          : `<video controls src=\"${p.src}\"></video>`\n+      }\n+      <div class=\"post-info\">\n+        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+        <small>${p.time}</small>\n+      </div>\n+      <div class=\"actions\">\n+        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+        <button onclick=\"sharePost(${i})\">üîó Share</button>\n+      </div>\n+    </div>\n+  `\n     )\n     .join(\"\");\n }\n \n+// LIKE\n function likePost(i) {\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   posts[i].likes = (posts[i].likes || 0) + 1;\n   localStorage.setItem(\"posts\", JSON.stringify(posts));\n   renderPosts(\"gallery\");\n   renderPosts(\"userGallery\", true);\n }\n \n+// SHARE\n function sharePost(i) {\n   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n   alert(\"Post link copied!\");\n@@ -183,8 +182,9 @@\n   if (darkEnabled) {\n     document.body.classList.add(\"dark\");\n     toggleBtn.textContent = \"‚òÄÔ∏è\";\n   }\n+\n   toggleBtn.addEventListener(\"click\", () => {\n     document.body.classList.toggle(\"dark\");\n     const isDark = document.body.classList.contains(\"dark\");\n     localStorage.setItem(\"dark\", isDark);\n"
                },
                {
                    "date": 1763061995870,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,35 +87,53 @@\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n \n+    // Always get the current user fresh\n+    const user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n     if (!user) return alert(\"Please login first!\");\n \n-    const file = document.getElementById(\"fileInput\").files[0];\n+    const fileInput = document.getElementById(\"fileInput\");\n+    const file = fileInput.files[0];\n     const caption = document.getElementById(\"caption\").value.trim();\n \n     if (!file) return alert(\"Please select a file!\");\n \n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-      const newPost = {\n+\n+      // Detect type: image or video\n+      let type = file.type.startsWith(\"image\") ? \"image\" :\n+                 file.type.startsWith(\"video\") ? \"video\" : null;\n+      if (!type) {\n+        const ext = file.name.split(\".\").pop().toLowerCase();\n+        const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+        const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+        if (imgExts.includes(ext)) type = \"image\";\n+        else if (vidExts.includes(ext)) type = \"video\";\n+        else return alert(\"Unsupported file type!\");\n+      }\n+\n+      posts.unshift({\n         src: reader.result,\n-        type: file.type,\n+        type,\n         caption,\n         user: user.name,\n         likes: 0,\n         time: new Date().toLocaleString(),\n-      };\n-      posts.unshift(newPost);\n+      });\n+\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n       alert(\"Post uploaded successfully!\");\n+      fileInput.value = \"\";\n+      document.getElementById(\"caption\").value = \"\";\n       location.href = \"index.html\";\n     };\n+\n     reader.readAsDataURL(file);\n   });\n }\n-\n // ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n"
                },
                {
                    "date": 1763062175169,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,13 @@\n // ==========================\n-// Global Script: global.js\n+// GLOBAL SCRIPT\n // ==========================\n \n-// Auth Area Setup\n+// ----------- AUTH -----------\n const authArea = document.getElementById(\"authArea\");\n let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n \n-// Render Authentication Area\n+// Render login/logout\n function renderAuth() {\n   if (!authArea) return;\n \n   if (user) {\n@@ -19,19 +19,17 @@\n     authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n   }\n }\n \n-// Logout Function\n+// Logout function\n function logout() {\n   localStorage.removeItem(\"currentUser\");\n   location.href = \"signin.html\";\n }\n \n renderAuth();\n \n-// ==========================\n-// SIGN UP\n-// ==========================\n+// ----------- SIGNUP -----------\n const signupForm = document.getElementById(\"signupForm\");\n if (signupForm) {\n   signupForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n@@ -42,12 +40,10 @@\n \n     if (!name || !email || !pass) return alert(\"All fields are required!\");\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    if (users.find(u => u.email === email)) return alert(\"Email already exists!\");\n \n-    if (users.find((u) => u.email === email))\n-      return alert(\"Email already exists!\");\n-\n     const newUser = { name, email, pass };\n     users.push(newUser);\n \n     localStorage.setItem(\"users\", JSON.stringify(users));\n@@ -57,11 +53,9 @@\n     location.href = \"index.html\";\n   });\n }\n \n-// ==========================\n-// SIGN IN\n-// ==========================\n+// ----------- SIGNIN -----------\n const signinForm = document.getElementById(\"signinForm\");\n if (signinForm) {\n   signinForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n@@ -69,9 +63,9 @@\n     const email = document.getElementById(\"siEmail\").value.trim();\n     const pass = document.getElementById(\"siPass\").value.trim();\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    const found = users.find((u) => u.email === email && u.pass === pass);\n+    const found = users.find(u => u.email === email && u.pass === pass);\n \n     if (!found) return alert(\"Invalid login credentials!\");\n \n     localStorage.setItem(\"currentUser\", JSON.stringify(found));\n@@ -79,85 +73,72 @@\n     location.href = \"index.html\";\n   });\n }\n \n-// ==========================\n-// UPLOAD POST\n-// ==========================\n+// ----------- UPLOAD POST -----------\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n \n-    // Always get the current user fresh\n-    const user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n+    const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n     if (!user) return alert(\"Please login first!\");\n \n     const fileInput = document.getElementById(\"fileInput\");\n     const file = fileInput.files[0];\n     const caption = document.getElementById(\"caption\").value.trim();\n \n     if (!file) return alert(\"Please select a file!\");\n \n+    let type = file.type.startsWith(\"image\") ? \"image\" :\n+               file.type.startsWith(\"video\") ? \"video\" : null;\n+\n+    if (!type) {\n+      const ext = file.name.split(\".\").pop().toLowerCase();\n+      const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+      const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+      if (imgExts.includes(ext)) type = \"image\";\n+      else if (vidExts.includes(ext)) type = \"video\";\n+      else return alert(\"Unsupported file type!\");\n+    }\n+\n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-\n-      // Detect type: image or video\n-      let type = file.type.startsWith(\"image\") ? \"image\" :\n-                 file.type.startsWith(\"video\") ? \"video\" : null;\n-      if (!type) {\n-        const ext = file.name.split(\".\").pop().toLowerCase();\n-        const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-        const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-        if (imgExts.includes(ext)) type = \"image\";\n-        else if (vidExts.includes(ext)) type = \"video\";\n-        else return alert(\"Unsupported file type!\");\n-      }\n-\n       posts.unshift({\n         src: reader.result,\n         type,\n         caption,\n         user: user.name,\n         likes: 0,\n         time: new Date().toLocaleString(),\n       });\n-\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n       alert(\"Post uploaded successfully!\");\n       fileInput.value = \"\";\n       document.getElementById(\"caption\").value = \"\";\n-      location.href = \"index.html\";\n+      location.href = \"index.html\"; // redirect to feed\n     };\n-\n     reader.readAsDataURL(file);\n   });\n }\n-// ==========================\n-// RENDER POSTS\n-// ==========================\n+\n+// ----------- RENDER POSTS -----------\n function renderPosts(targetId, onlyUser = false) {\n   const el = document.getElementById(targetId);\n   if (!el) return;\n \n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n+  if (onlyUser && user) posts = posts.filter(p => p.user === user.name);\n \n-  if (posts.length === 0) {\n+  if (!posts.length) {\n     el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n     return;\n   }\n \n-  el.innerHTML = posts\n-    .map(\n-      (p, i) => `\n+  el.innerHTML = posts.map((p, i) => `\n     <div class=\"card\">\n-      ${\n-        p.type.startsWith(\"image\")\n-          ? `<img src=\"${p.src}\" alt=\"post\" />`\n-          : `<video controls src=\"${p.src}\"></video>`\n-      }\n+      ${p.type === \"image\" ? `<img src=\"${p.src}\" alt=\"post\" />` : `<video controls src=\"${p.src}\"></video>`}\n       <div class=\"post-info\">\n         <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n         <small>${p.time}</small>\n       </div>\n@@ -165,36 +146,31 @@\n         <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n         <button onclick=\"sharePost(${i})\">üîó Share</button>\n       </div>\n     </div>\n-  `\n-    )\n-    .join(\"\");\n+  `).join(\"\");\n }\n \n-// LIKE\n+// ----------- LIKE & SHARE -----------\n function likePost(i) {\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   posts[i].likes = (posts[i].likes || 0) + 1;\n   localStorage.setItem(\"posts\", JSON.stringify(posts));\n   renderPosts(\"gallery\");\n   renderPosts(\"userGallery\", true);\n }\n \n-// SHARE\n function sharePost(i) {\n   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n   alert(\"Post link copied!\");\n }\n \n-// Initial Renders\n+// Initial render\n renderPosts(\"gallery\");\n renderPosts(\"userGallery\", true);\n \n-// ==========================\n-// DARK MODE\n-// ==========================\n+// ----------- DARK MODE -----------\n const toggleBtn = document.getElementById(\"modeToggle\");\n if (toggleBtn) {\n   const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n   if (darkEnabled) {\n"
                },
                {
                    "date": 1763062290189,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,193 @@\n+// ==========================\n+// Global Script: global.js\n+// ==========================\n+\n+// Auth Area Setup\n+const authArea = document.getElementById(\"authArea\");\n+let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n+\n+// Render Authentication Area\n+function renderAuth() {\n+  if (!authArea) return;\n+\n+  if (user) {\n+    authArea.innerHTML = `\n+      <span class=\"username\">üë§ ${user.name}</span>\n+      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n+    `;\n+  } else {\n+    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n+  }\n+}\n+\n+// Logout Function\n+function logout() {\n+  localStorage.removeItem(\"currentUser\");\n+  location.href = \"signin.html\";\n+}\n+\n+renderAuth();\n+\n+// ==========================\n+// SIGN UP\n+// ==========================\n+const signupForm = document.getElementById(\"signupForm\");\n+if (signupForm) {\n+  signupForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+\n+    const name = document.getElementById(\"suName\").value.trim();\n+    const email = document.getElementById(\"suEmail\").value.trim();\n+    const pass = document.getElementById(\"suPass\").value.trim();\n+\n+    if (!name || !email || !pass) return alert(\"All fields are required!\");\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+\n+    if (users.find((u) => u.email === email))\n+      return alert(\"Email already exists!\");\n+\n+    const newUser = { name, email, pass };\n+    users.push(newUser);\n+\n+    localStorage.setItem(\"users\", JSON.stringify(users));\n+    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n+\n+    alert(\"Signup successful!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n+// SIGN IN\n+// ==========================\n+const signinForm = document.getElementById(\"signinForm\");\n+if (signinForm) {\n+  signinForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+\n+    const email = document.getElementById(\"siEmail\").value.trim();\n+    const pass = document.getElementById(\"siPass\").value.trim();\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    const found = users.find((u) => u.email === email && u.pass === pass);\n+\n+    if (!found) return alert(\"Invalid login credentials!\");\n+\n+    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n+    alert(\"Welcome back!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n+// UPLOAD POST\n+// ==========================\n+const uploadForm = document.getElementById(\"uploadForm\");\n+if (uploadForm) {\n+  uploadForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+\n+    if (!user) return alert(\"Please login first!\");\n+\n+    const file = document.getElementById(\"fileInput\").files[0];\n+    const caption = document.getElementById(\"caption\").value.trim();\n+\n+    if (!file) return alert(\"Please select a file!\");\n+\n+    const reader = new FileReader();\n+    reader.onload = () => {\n+      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+      const newPost = {\n+        src: reader.result,\n+        type: file.type,\n+        caption,\n+        user: user.name,\n+        likes: 0,\n+        time: new Date().toLocaleString(),\n+      };\n+      posts.unshift(newPost);\n+      localStorage.setItem(\"posts\", JSON.stringify(posts));\n+      alert(\"Post uploaded successfully!\");\n+      location.href = \"index.html\";\n+    };\n+    reader.readAsDataURL(file);\n+  });\n+}\n+\n+// ==========================\n+// RENDER POSTS\n+// ==========================\n+function renderPosts(targetId, onlyUser = false) {\n+  const el = document.getElementById(targetId);\n+  if (!el) return;\n+\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n+\n+  if (posts.length === 0) {\n+    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n+    return;\n+  }\n+\n+  el.innerHTML = posts\n+    .map(\n+      (p, i) => `\n+    <div class=\"card\">\n+      ${\n+        p.type.startsWith(\"image\")\n+          ? `<img src=\"${p.src}\" alt=\"post\" />`\n+          : `<video controls src=\"${p.src}\"></video>`\n+      }\n+      <div class=\"post-info\">\n+        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+        <small>${p.time}</small>\n+      </div>\n+      <div class=\"actions\">\n+        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+        <button onclick=\"sharePost(${i})\">üîó Share</button>\n+      </div>\n+    </div>\n+  `\n+    )\n+    .join(\"\");\n+}\n+\n+// LIKE\n+function likePost(i) {\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  posts[i].likes = (posts[i].likes || 0) + 1;\n+  localStorage.setItem(\"posts\", JSON.stringify(posts));\n+  renderPosts(\"gallery\");\n+  renderPosts(\"userGallery\", true);\n+}\n+\n+// SHARE\n+function sharePost(i) {\n+  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  navigator.clipboard.writeText(posts[i].src);\n+  alert(\"Post link copied!\");\n+}\n+\n+// Initial Renders\n+renderPosts(\"gallery\");\n+renderPosts(\"userGallery\", true);\n+\n+// ==========================\n+// DARK MODE\n+// ==========================\n+const toggleBtn = document.getElementById(\"modeToggle\");\n+if (toggleBtn) {\n+  const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n+  if (darkEnabled) {\n+    document.body.classList.add(\"dark\");\n+    toggleBtn.textContent = \"‚òÄÔ∏è\";\n+  }\n+\n+  toggleBtn.addEventListener(\"click\", () => {\n+    document.body.classList.toggle(\"dark\");\n+    const isDark = document.body.classList.contains(\"dark\");\n+    localStorage.setItem(\"dark\", isDark);\n+    toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n+  });\n+}\n"
                },
                {
                    "date": 1763062509115,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,40 +82,66 @@\n \n // ==========================\n // UPLOAD POST\n // ==========================\n+// ==========================\n+// UPLOAD POST\n+// ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n \n+    // Always get the current user fresh from localStorage\n+    const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n     if (!user) return alert(\"Please login first!\");\n \n-    const file = document.getElementById(\"fileInput\").files[0];\n+    const fileInput = document.getElementById(\"fileInput\");\n+    const file = fileInput.files[0];\n     const caption = document.getElementById(\"caption\").value.trim();\n \n     if (!file) return alert(\"Please select a file!\");\n \n+    // Detect type\n+    let type = file.type.startsWith(\"image\") ? \"image\" :\n+               file.type.startsWith(\"video\") ? \"video\" : null;\n+\n+    if (!type) {\n+      const ext = file.name.split(\".\").pop().toLowerCase();\n+      const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+      const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+      if (imgExts.includes(ext)) type = \"image\";\n+      else if (vidExts.includes(ext)) type = \"video\";\n+      else return alert(\"Unsupported file type!\");\n+    }\n+\n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+\n       const newPost = {\n         src: reader.result,\n-        type: file.type,\n+        type,\n         caption,\n         user: user.name,\n         likes: 0,\n-        time: new Date().toLocaleString(),\n+        time: new Date().toLocaleString()\n       };\n+\n       posts.unshift(newPost);\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n+\n       alert(\"Post uploaded successfully!\");\n-      location.href = \"index.html\";\n+      fileInput.value = \"\";          // reset file input\n+      document.getElementById(\"caption\").value = \"\"; // reset caption\n+      location.href = \"index.html\";  // redirect to feed\n     };\n+\n     reader.readAsDataURL(file);\n   });\n }\n \n+\n // ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n@@ -190,191 +216,4 @@\n     localStorage.setItem(\"dark\", isDark);\n     toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n   });\n }\n-// ==========================\n-// GLOBAL SCRIPT\n-// ==========================\n-\n-// ----------- AUTH -----------\n-const authArea = document.getElementById(\"authArea\");\n-let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n-\n-// Render login/logout\n-function renderAuth() {\n-  if (!authArea) return;\n-\n-  if (user) {\n-    authArea.innerHTML = `\n-      <span class=\"username\">üë§ ${user.name}</span>\n-      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n-    `;\n-  } else {\n-    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n-  }\n-}\n-\n-// Logout function\n-function logout() {\n-  localStorage.removeItem(\"currentUser\");\n-  location.href = \"signin.html\";\n-}\n-\n-renderAuth();\n-\n-// ----------- SIGNUP -----------\n-const signupForm = document.getElementById(\"signupForm\");\n-if (signupForm) {\n-  signupForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-\n-    const name = document.getElementById(\"suName\").value.trim();\n-    const email = document.getElementById(\"suEmail\").value.trim();\n-    const pass = document.getElementById(\"suPass\").value.trim();\n-\n-    if (!name || !email || !pass) return alert(\"All fields are required!\");\n-\n-    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    if (users.find(u => u.email === email)) return alert(\"Email already exists!\");\n-\n-    const newUser = { name, email, pass };\n-    users.push(newUser);\n-\n-    localStorage.setItem(\"users\", JSON.stringify(users));\n-    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n-\n-    alert(\"Signup successful!\");\n-    location.href = \"index.html\";\n-  });\n-}\n-\n-// ----------- SIGNIN -----------\n-const signinForm = document.getElementById(\"signinForm\");\n-if (signinForm) {\n-  signinForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-\n-    const email = document.getElementById(\"siEmail\").value.trim();\n-    const pass = document.getElementById(\"siPass\").value.trim();\n-\n-    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    const found = users.find(u => u.email === email && u.pass === pass);\n-\n-    if (!found) return alert(\"Invalid login credentials!\");\n-\n-    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n-    alert(\"Welcome back!\");\n-    location.href = \"index.html\";\n-  });\n-}\n-\n-// ----------- UPLOAD POST -----------\n-const uploadForm = document.getElementById(\"uploadForm\");\n-if (uploadForm) {\n-  uploadForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-\n-    const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n-    if (!user) return alert(\"Please login first!\");\n-\n-    const fileInput = document.getElementById(\"fileInput\");\n-    const file = fileInput.files[0];\n-    const caption = document.getElementById(\"caption\").value.trim();\n-\n-    if (!file) return alert(\"Please select a file!\");\n-\n-    let type = file.type.startsWith(\"image\") ? \"image\" :\n-               file.type.startsWith(\"video\") ? \"video\" : null;\n-\n-    if (!type) {\n-      const ext = file.name.split(\".\").pop().toLowerCase();\n-      const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-      const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-      if (imgExts.includes(ext)) type = \"image\";\n-      else if (vidExts.includes(ext)) type = \"video\";\n-      else return alert(\"Unsupported file type!\");\n-    }\n-\n-    const reader = new FileReader();\n-    reader.onload = () => {\n-      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-      posts.unshift({\n-        src: reader.result,\n-        type,\n-        caption,\n-        user: user.name,\n-        likes: 0,\n-        time: new Date().toLocaleString(),\n-      });\n-      localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Post uploaded successfully!\");\n-      fileInput.value = \"\";\n-      document.getElementById(\"caption\").value = \"\";\n-      location.href = \"index.html\"; // redirect to feed\n-    };\n-    reader.readAsDataURL(file);\n-  });\n-}\n-\n-// ----------- RENDER POSTS -----------\n-function renderPosts(targetId, onlyUser = false) {\n-  const el = document.getElementById(targetId);\n-  if (!el) return;\n-\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  if (onlyUser && user) posts = posts.filter(p => p.user === user.name);\n-\n-  if (!posts.length) {\n-    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n-    return;\n-  }\n-\n-  el.innerHTML = posts.map((p, i) => `\n-    <div class=\"card\">\n-      ${p.type === \"image\" ? `<img src=\"${p.src}\" alt=\"post\" />` : `<video controls src=\"${p.src}\"></video>`}\n-      <div class=\"post-info\">\n-        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-        <small>${p.time}</small>\n-      </div>\n-      <div class=\"actions\">\n-        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-        <button onclick=\"sharePost(${i})\">üîó Share</button>\n-      </div>\n-    </div>\n-  `).join(\"\");\n-}\n-\n-// ----------- LIKE & SHARE -----------\n-function likePost(i) {\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  posts[i].likes = (posts[i].likes || 0) + 1;\n-  localStorage.setItem(\"posts\", JSON.stringify(posts));\n-  renderPosts(\"gallery\");\n-  renderPosts(\"userGallery\", true);\n-}\n-\n-function sharePost(i) {\n-  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  navigator.clipboard.writeText(posts[i].src);\n-  alert(\"Post link copied!\");\n-}\n-\n-// Initial render\n-renderPosts(\"gallery\");\n-renderPosts(\"userGallery\", true);\n-\n-// ----------- DARK MODE -----------\n-const toggleBtn = document.getElementById(\"modeToggle\");\n-if (toggleBtn) {\n-  const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n-  if (darkEnabled) {\n-    document.body.classList.add(\"dark\");\n-    toggleBtn.textContent = \"‚òÄÔ∏è\";\n-  }\n-\n-  toggleBtn.addEventListener(\"click\", () => {\n-    document.body.classList.toggle(\"dark\");\n-    const isDark = document.body.classList.contains(\"dark\");\n-    localStorage.setItem(\"dark\", isDark);\n-    toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n-  });\n-}\n"
                },
                {
                    "date": 1763062545976,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,193 @@\n+// ==========================\n+// Global Script: global.js\n+// ==========================\n+\n+// Auth Area Setup\n+const authArea = document.getElementById(\"authArea\");\n+let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n+\n+// Render Authentication Area\n+function renderAuth() {\n+  if (!authArea) return;\n+\n+  if (user) {\n+    authArea.innerHTML = `\n+      <span class=\"username\">üë§ ${user.name}</span>\n+      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n+    `;\n+  } else {\n+    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n+  }\n+}\n+\n+// Logout Function\n+function logout() {\n+  localStorage.removeItem(\"currentUser\");\n+  location.href = \"signin.html\";\n+}\n+\n+renderAuth();\n+\n+// ==========================\n+// SIGN UP\n+// ==========================\n+const signupForm = document.getElementById(\"signupForm\");\n+if (signupForm) {\n+  signupForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+\n+    const name = document.getElementById(\"suName\").value.trim();\n+    const email = document.getElementById(\"suEmail\").value.trim();\n+    const pass = document.getElementById(\"suPass\").value.trim();\n+\n+    if (!name || !email || !pass) return alert(\"All fields are required!\");\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+\n+    if (users.find((u) => u.email === email))\n+      return alert(\"Email already exists!\");\n+\n+    const newUser = { name, email, pass };\n+    users.push(newUser);\n+\n+    localStorage.setItem(\"users\", JSON.stringify(users));\n+    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n+\n+    alert(\"Signup successful!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n+// SIGN IN\n+// ==========================\n+const signinForm = document.getElementById(\"signinForm\");\n+if (signinForm) {\n+  signinForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+\n+    const email = document.getElementById(\"siEmail\").value.trim();\n+    const pass = document.getElementById(\"siPass\").value.trim();\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    const found = users.find((u) => u.email === email && u.pass === pass);\n+\n+    if (!found) return alert(\"Invalid login credentials!\");\n+\n+    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n+    alert(\"Welcome back!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n+// UPLOAD POST\n+// ==========================\n+const uploadForm = document.getElementById(\"uploadForm\");\n+if (uploadForm) {\n+  uploadForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+\n+    if (!user) return alert(\"Please login first!\");\n+\n+    const file = document.getElementById(\"fileInput\").files[0];\n+    const caption = document.getElementById(\"caption\").value.trim();\n+\n+    if (!file) return alert(\"Please select a file!\");\n+\n+    const reader = new FileReader();\n+    reader.onload = () => {\n+      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+      const newPost = {\n+        src: reader.result,\n+        type: file.type,\n+        caption,\n+        user: user.name,\n+        likes: 0,\n+        time: new Date().toLocaleString(),\n+      };\n+      posts.unshift(newPost);\n+      localStorage.setItem(\"posts\", JSON.stringify(posts));\n+      alert(\"Post uploaded successfully!\");\n+      location.href = \"index.html\";\n+    };\n+    reader.readAsDataURL(file);\n+  });\n+}\n+\n+// ==========================\n+// RENDER POSTS\n+// ==========================\n+function renderPosts(targetId, onlyUser = false) {\n+  const el = document.getElementById(targetId);\n+  if (!el) return;\n+\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n+\n+  if (posts.length === 0) {\n+    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n+    return;\n+  }\n+\n+  el.innerHTML = posts\n+    .map(\n+      (p, i) => `\n+    <div class=\"card\">\n+      ${\n+        p.type.startsWith(\"image\")\n+          ? `<img src=\"${p.src}\" alt=\"post\" />`\n+          : `<video controls src=\"${p.src}\"></video>`\n+      }\n+      <div class=\"post-info\">\n+        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+        <small>${p.time}</small>\n+      </div>\n+      <div class=\"actions\">\n+        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+        <button onclick=\"sharePost(${i})\">üîó Share</button>\n+      </div>\n+    </div>\n+  `\n+    )\n+    .join(\"\");\n+}\n+\n+// LIKE\n+function likePost(i) {\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  posts[i].likes = (posts[i].likes || 0) + 1;\n+  localStorage.setItem(\"posts\", JSON.stringify(posts));\n+  renderPosts(\"gallery\");\n+  renderPosts(\"userGallery\", true);\n+}\n+\n+// SHARE\n+function sharePost(i) {\n+  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  navigator.clipboard.writeText(posts[i].src);\n+  alert(\"Post link copied!\");\n+}\n+\n+// Initial Renders\n+renderPosts(\"gallery\");\n+renderPosts(\"userGallery\", true);\n+\n+// ==========================\n+// DARK MODE\n+// ==========================\n+const toggleBtn = document.getElementById(\"modeToggle\");\n+if (toggleBtn) {\n+  const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n+  if (darkEnabled) {\n+    document.body.classList.add(\"dark\");\n+    toggleBtn.textContent = \"‚òÄÔ∏è\";\n+  }\n+\n+  toggleBtn.addEventListener(\"click\", () => {\n+    document.body.classList.toggle(\"dark\");\n+    const isDark = document.body.classList.contains(\"dark\");\n+    localStorage.setItem(\"dark\", isDark);\n+    toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n+  });\n+}\n"
                },
                {
                    "date": 1763062601212,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,210 +82,17 @@\n \n // ==========================\n // UPLOAD POST\n // ==========================\n-const uploadForm = document.getElementById(\"uploadForm\");\n-if (uploadForm) {\n-  uploadForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-\n-    if (!user) return alert(\"Please login first!\");\n-\n-    const file = document.getElementById(\"fileInput\").files[0];\n-    const caption = document.getElementById(\"caption\").value.trim();\n-\n-    if (!file) return alert(\"Please select a file!\");\n-\n-    const reader = new FileReader();\n-    reader.onload = () => {\n-      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-      const newPost = {\n-        src: reader.result,\n-        type: file.type,\n-        caption,\n-        user: user.name,\n-        likes: 0,\n-        time: new Date().toLocaleString(),\n-      };\n-      posts.unshift(newPost);\n-      localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Post uploaded successfully!\");\n-      location.href = \"index.html\";\n-    };\n-    reader.readAsDataURL(file);\n-  });\n-}\n-\n // ==========================\n-// RENDER POSTS\n-// ==========================\n-function renderPosts(targetId, onlyUser = false) {\n-  const el = document.getElementById(targetId);\n-  if (!el) return;\n-\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n-\n-  if (posts.length === 0) {\n-    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n-    return;\n-  }\n-\n-  el.innerHTML = posts\n-    .map(\n-      (p, i) => `\n-    <div class=\"card\">\n-      ${\n-        p.type.startsWith(\"image\")\n-          ? `<img src=\"${p.src}\" alt=\"post\" />`\n-          : `<video controls src=\"${p.src}\"></video>`\n-      }\n-      <div class=\"post-info\">\n-        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-        <small>${p.time}</small>\n-      </div>\n-      <div class=\"actions\">\n-        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-        <button onclick=\"sharePost(${i})\">üîó Share</button>\n-      </div>\n-    </div>\n-  `\n-    )\n-    .join(\"\");\n-}\n-\n-// LIKE\n-function likePost(i) {\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  posts[i].likes = (posts[i].likes || 0) + 1;\n-  localStorage.setItem(\"posts\", JSON.stringify(posts));\n-  renderPosts(\"gallery\");\n-  renderPosts(\"userGallery\", true);\n-}\n-\n-// SHARE\n-function sharePost(i) {\n-  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  navigator.clipboard.writeText(posts[i].src);\n-  alert(\"Post link copied!\");\n-}\n-\n-// Initial Renders\n-renderPosts(\"gallery\");\n-renderPosts(\"userGallery\", true);\n-\n-// ==========================\n-// DARK MODE\n-// ==========================\n-const toggleBtn = document.getElementById(\"modeToggle\");\n-if (toggleBtn) {\n-  const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n-  if (darkEnabled) {\n-    document.body.classList.add(\"dark\");\n-    toggleBtn.textContent = \"‚òÄÔ∏è\";\n-  }\n-\n-  toggleBtn.addEventListener(\"click\", () => {\n-    document.body.classList.toggle(\"dark\");\n-    const isDark = document.body.classList.contains(\"dark\");\n-    localStorage.setItem(\"dark\", isDark);\n-    toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n-  });\n-}\n-// ==========================\n-// Global Script: global.js\n-// ==========================\n-\n-// Auth Area Setup\n-const authArea = document.getElementById(\"authArea\");\n-let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n-\n-// Render Authentication Area\n-function renderAuth() {\n-  if (!authArea) return;\n-\n-  if (user) {\n-    authArea.innerHTML = `\n-      <span class=\"username\">üë§ ${user.name}</span>\n-      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n-    `;\n-  } else {\n-    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n-  }\n-}\n-\n-// Logout Function\n-function logout() {\n-  localStorage.removeItem(\"currentUser\");\n-  location.href = \"signin.html\";\n-}\n-\n-renderAuth();\n-\n-// ==========================\n-// SIGN UP\n-// ==========================\n-const signupForm = document.getElementById(\"signupForm\");\n-if (signupForm) {\n-  signupForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-\n-    const name = document.getElementById(\"suName\").value.trim();\n-    const email = document.getElementById(\"suEmail\").value.trim();\n-    const pass = document.getElementById(\"suPass\").value.trim();\n-\n-    if (!name || !email || !pass) return alert(\"All fields are required!\");\n-\n-    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-\n-    if (users.find((u) => u.email === email))\n-      return alert(\"Email already exists!\");\n-\n-    const newUser = { name, email, pass };\n-    users.push(newUser);\n-\n-    localStorage.setItem(\"users\", JSON.stringify(users));\n-    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n-\n-    alert(\"Signup successful!\");\n-    location.href = \"index.html\";\n-  });\n-}\n-\n-// ==========================\n-// SIGN IN\n-// ==========================\n-const signinForm = document.getElementById(\"signinForm\");\n-if (signinForm) {\n-  signinForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-\n-    const email = document.getElementById(\"siEmail\").value.trim();\n-    const pass = document.getElementById(\"siPass\").value.trim();\n-\n-    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    const found = users.find((u) => u.email === email && u.pass === pass);\n-\n-    if (!found) return alert(\"Invalid login credentials!\");\n-\n-    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n-    alert(\"Welcome back!\");\n-    location.href = \"index.html\";\n-  });\n-}\n-\n-// ==========================\n // UPLOAD POST\n // ==========================\n-// ==========================\n-// UPLOAD POST\n-// ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n \n-    // Always get the current user fresh from localStorage\n+    // Always get current user from localStorage here\n     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n     if (!user) return alert(\"Please login first!\");\n \n     const fileInput = document.getElementById(\"fileInput\");\n@@ -294,10 +101,11 @@\n \n     if (!file) return alert(\"Please select a file!\");\n \n     // Detect type\n-    let type = file.type.startsWith(\"image\") ? \"image\" :\n-               file.type.startsWith(\"video\") ? \"video\" : null;\n+    let type = file.type.startsWith(\"image\") ? \"image\"\n+             : file.type.startsWith(\"video\") ? \"video\"\n+             : null;\n \n     if (!type) {\n       const ext = file.name.split(\".\").pop().toLowerCase();\n       const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n@@ -309,32 +117,28 @@\n \n     const reader = new FileReader();\n     reader.onload = () => {\n       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-\n-      const newPost = {\n+      posts.unshift({\n         src: reader.result,\n         type,\n         caption,\n         user: user.name,\n         likes: 0,\n-        time: new Date().toLocaleString()\n-      };\n-\n-      posts.unshift(newPost);\n+        time: new Date().toLocaleString(),\n+      });\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n \n       alert(\"Post uploaded successfully!\");\n-      fileInput.value = \"\";          // reset file input\n-      document.getElementById(\"caption\").value = \"\"; // reset caption\n-      location.href = \"index.html\";  // redirect to feed\n+      fileInput.value = \"\";\n+      document.getElementById(\"caption\").value = \"\";\n+      location.href = \"index.html\";\n     };\n \n     reader.readAsDataURL(file);\n   });\n }\n \n-\n // ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n"
                },
                {
                    "date": 1763062682470,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,16 +83,14 @@\n // ==========================\n // UPLOAD POST\n // ==========================\n // ==========================\n-// UPLOAD POST\n-// ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n \n-    // Always get current user from localStorage here\n+    // Always fetch current user\n     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n     if (!user) return alert(\"Please login first!\");\n \n     const fileInput = document.getElementById(\"fileInput\");\n@@ -100,45 +98,49 @@\n     const caption = document.getElementById(\"caption\").value.trim();\n \n     if (!file) return alert(\"Please select a file!\");\n \n-    // Detect type\n-    let type = file.type.startsWith(\"image\") ? \"image\"\n-             : file.type.startsWith(\"video\") ? \"video\"\n-             : null;\n+    const reader = new FileReader();\n+    reader.onload = function() {\n+      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n \n-    if (!type) {\n-      const ext = file.name.split(\".\").pop().toLowerCase();\n-      const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-      const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-      if (imgExts.includes(ext)) type = \"image\";\n-      else if (vidExts.includes(ext)) type = \"video\";\n-      else return alert(\"Unsupported file type!\");\n-    }\n+      // Detect type properly\n+      let type = file.type.startsWith(\"image\") ? \"image\"\n+               : file.type.startsWith(\"video\") ? \"video\"\n+               : null;\n \n-    const reader = new FileReader();\n-    reader.onload = () => {\n-      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+      if (!type) {\n+        const ext = file.name.split(\".\").pop().toLowerCase();\n+        const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+        const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+        if (imgExts.includes(ext)) type = \"image\";\n+        else if (vidExts.includes(ext)) type = \"video\";\n+        else return alert(\"Unsupported file type!\");\n+      }\n+\n       posts.unshift({\n         src: reader.result,\n         type,\n         caption,\n         user: user.name,\n         likes: 0,\n         time: new Date().toLocaleString(),\n       });\n+\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n \n+      // Only redirect **after** FileReader finishes\n       alert(\"Post uploaded successfully!\");\n       fileInput.value = \"\";\n       document.getElementById(\"caption\").value = \"\";\n-      location.href = \"index.html\";\n+      window.location.reload(); // safer than location.href\n     };\n \n     reader.readAsDataURL(file);\n   });\n }\n \n+\n // ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n"
                },
                {
                    "date": 1763063156320,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,19 +78,16 @@\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n-\n // ==========================\n-// UPLOAD POST\n+// UPLOAD POST (fixed for videos & images)\n // ==========================\n-// ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n \n-    // Always fetch current user\n     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n     if (!user) return alert(\"Please login first!\");\n \n     const fileInput = document.getElementById(\"fileInput\");\n@@ -98,49 +95,116 @@\n     const caption = document.getElementById(\"caption\").value.trim();\n \n     if (!file) return alert(\"Please select a file!\");\n \n-    const reader = new FileReader();\n-    reader.onload = function() {\n-      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+    let type = file.type.startsWith(\"image\") ? \"image\"\n+             : file.type.startsWith(\"video\") ? \"video\" : null;\n \n-      // Detect type properly\n-      let type = file.type.startsWith(\"image\") ? \"image\"\n-               : file.type.startsWith(\"video\") ? \"video\"\n-               : null;\n+    if (!type) {\n+      const ext = file.name.split(\".\").pop().toLowerCase();\n+      const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+      const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+      if (imgExts.includes(ext)) type = \"image\";\n+      else if (vidExts.includes(ext)) type = \"video\";\n+      else return alert(\"Unsupported file type!\");\n+    }\n \n-      if (!type) {\n-        const ext = file.name.split(\".\").pop().toLowerCase();\n-        const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-        const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-        if (imgExts.includes(ext)) type = \"image\";\n-        else if (vidExts.includes(ext)) type = \"video\";\n-        else return alert(\"Unsupported file type!\");\n-      }\n+    if(type === \"image\") {\n+      // Use FileReader for images\n+      const reader = new FileReader();\n+      reader.onload = () => {\n+        savePost(reader.result, type, caption, user.name);\n+      };\n+      reader.readAsDataURL(file);\n+    } else {\n+      // Use Blob URL for videos\n+      const videoURL = URL.createObjectURL(file);\n+      savePost(videoURL, type, caption, user.name);\n+    }\n \n-      posts.unshift({\n-        src: reader.result,\n-        type,\n-        caption,\n-        user: user.name,\n-        likes: 0,\n-        time: new Date().toLocaleString(),\n-      });\n+    fileInput.value = \"\";\n+    document.getElementById(\"caption\").value = \"\";\n+  });\n+}\n \n-      localStorage.setItem(\"posts\", JSON.stringify(posts));\n-\n-      // Only redirect **after** FileReader finishes\n-      alert(\"Post uploaded successfully!\");\n-      fileInput.value = \"\";\n-      document.getElementById(\"caption\").value = \"\";\n-      window.location.reload(); // safer than location.href\n-    };\n-\n-    reader.readAsDataURL(file);\n+// Save post helper function\n+function savePost(src, type, caption, username) {\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  posts.unshift({\n+    src,\n+    type,\n+    caption,\n+    user: username,\n+    likes: 0,\n+    time: new Date().toLocaleString(),\n   });\n+  localStorage.setItem(\"posts\", JSON.stringify(posts));\n+  alert(\"Post uploaded successfully!\");\n+  renderPosts(\"gallery\");\n+  renderPosts(\"userGallery\", true);\n }\n \n \n+// // ==========================\n+// // UPLOAD POST\n+// // ==========================\n+// // ==========================\n+// const uploadForm = document.getElementById(\"uploadForm\");\n+// if (uploadForm) {\n+//   uploadForm.addEventListener(\"submit\", (e) => {\n+//     e.preventDefault();\n+\n+//     // Always fetch current user\n+//     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n+//     if (!user) return alert(\"Please login first!\");\n+\n+//     const fileInput = document.getElementById(\"fileInput\");\n+//     const file = fileInput.files[0];\n+//     const caption = document.getElementById(\"caption\").value.trim();\n+\n+//     if (!file) return alert(\"Please select a file!\");\n+\n+//     const reader = new FileReader();\n+//     reader.onload = function() {\n+//       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+\n+//       // Detect type properly\n+//       let type = file.type.startsWith(\"image\") ? \"image\"\n+//                : file.type.startsWith(\"video\") ? \"video\"\n+//                : null;\n+\n+//       if (!type) {\n+//         const ext = file.name.split(\".\").pop().toLowerCase();\n+//         const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+//         const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+//         if (imgExts.includes(ext)) type = \"image\";\n+//         else if (vidExts.includes(ext)) type = \"video\";\n+//         else return alert(\"Unsupported file type!\");\n+//       }\n+\n+//       posts.unshift({\n+//         src: reader.result,\n+//         type,\n+//         caption,\n+//         user: user.name,\n+//         likes: 0,\n+//         time: new Date().toLocaleString(),\n+//       });\n+\n+//       localStorage.setItem(\"posts\", JSON.stringify(posts));\n+\n+//       // Only redirect **after** FileReader finishes\n+//       alert(\"Post uploaded successfully!\");\n+//       fileInput.value = \"\";\n+//       document.getElementById(\"caption\").value = \"\";\n+//       window.location.reload(); // safer than location.href\n+//     };\n+\n+//     reader.readAsDataURL(file);\n+//   });\n+// }\n+\n+\n // ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n"
                },
                {
                    "date": 1763063263499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -202,12 +202,8 @@\n //     reader.readAsDataURL(file);\n //   });\n // }\n \n-\n-// ==========================\n-// RENDER POSTS\n-// ==========================\n function renderPosts(targetId, onlyUser = false) {\n   const el = document.getElementById(targetId);\n   if (!el) return;\n \n@@ -219,50 +215,100 @@\n     return;\n   }\n \n   el.innerHTML = posts\n-    .map(\n-      (p, i) => `\n-    <div class=\"card\">\n-      ${\n-        p.type.startsWith(\"image\")\n-          ? `<img src=\"${p.src}\" alt=\"post\" />`\n-          : `<video controls src=\"${p.src}\"></video>`\n+    .map((p, i) => {\n+      if(p.type === \"image\") {\n+        return `\n+          <div class=\"card\">\n+            <img src=\"${p.src}\" alt=\"post\" />\n+            <div class=\"post-info\">\n+              <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+              <small>${p.time}</small>\n+            </div>\n+            <div class=\"actions\">\n+              <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+              <button onclick=\"sharePost(${i})\">üîó Share</button>\n+            </div>\n+          </div>\n+        `;\n+      } else if(p.type === \"video\") {\n+        return `\n+          <div class=\"card\">\n+            <video controls src=\"${p.src}\" type=\"video/mp4\"></video>\n+            <div class=\"post-info\">\n+              <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+              <small>${p.time}</small>\n+            </div>\n+            <div class=\"actions\">\n+              <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+              <button onclick=\"sharePost(${i})\">üîó Share</button>\n+            </div>\n+          </div>\n+        `;\n       }\n-      <div class=\"post-info\">\n-        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-        <small>${p.time}</small>\n-      </div>\n-      <div class=\"actions\">\n-        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-        <button onclick=\"sharePost(${i})\">üîó Share</button>\n-      </div>\n-    </div>\n-  `\n-    )\n-    .join(\"\");\n+    }).join(\"\");\n }\n \n-// LIKE\n-function likePost(i) {\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  posts[i].likes = (posts[i].likes || 0) + 1;\n-  localStorage.setItem(\"posts\", JSON.stringify(posts));\n-  renderPosts(\"gallery\");\n-  renderPosts(\"userGallery\", true);\n-}\n \n-// SHARE\n-function sharePost(i) {\n-  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  navigator.clipboard.writeText(posts[i].src);\n-  alert(\"Post link copied!\");\n-}\n+// // ==========================\n+// // RENDER POSTS\n+// // ==========================\n+// function renderPosts(targetId, onlyUser = false) {\n+//   const el = document.getElementById(targetId);\n+//   if (!el) return;\n \n-// Initial Renders\n-renderPosts(\"gallery\");\n-renderPosts(\"userGallery\", true);\n+//   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+//   if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n \n+//   if (posts.length === 0) {\n+//     el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n+//     return;\n+//   }\n+\n+//   el.innerHTML = posts\n+//     .map(\n+//       (p, i) => `\n+//     <div class=\"card\">\n+//       ${\n+//         p.type.startsWith(\"image\")\n+//           ? `<img src=\"${p.src}\" alt=\"post\" />`\n+//           : `<video controls src=\"${p.src}\"></video>`\n+//       }\n+//       <div class=\"post-info\">\n+//         <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+//         <small>${p.time}</small>\n+//       </div>\n+//       <div class=\"actions\">\n+//         <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+//         <button onclick=\"sharePost(${i})\">üîó Share</button>\n+//       </div>\n+//     </div>\n+//   `\n+//     )\n+//     .join(\"\");\n+// }\n+\n+// // LIKE\n+// function likePost(i) {\n+//   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+//   posts[i].likes = (posts[i].likes || 0) + 1;\n+//   localStorage.setItem(\"posts\", JSON.stringify(posts));\n+//   renderPosts(\"gallery\");\n+//   renderPosts(\"userGallery\", true);\n+// }\n+\n+// // SHARE\n+// function sharePost(i) {\n+//   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+//   navigator.clipboard.writeText(posts[i].src);\n+//   alert(\"Post link copied!\");\n+// }\n+\n+// // Initial Renders\n+// renderPosts(\"gallery\");\n+// renderPosts(\"userGallery\", true);\n+\n // ==========================\n // DARK MODE\n // ==========================\n const toggleBtn = document.getElementById(\"modeToggle\");\n"
                },
                {
                    "date": 1763063375548,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -201,53 +201,117 @@\n \n //     reader.readAsDataURL(file);\n //   });\n // }\n+// ==========================\n+// UPLOAD POST\n+// ==========================\n+const uploadForm = document.getElementById(\"uploadForm\");\n+if (uploadForm) {\n+  uploadForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n \n+    const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n+    if (!user) return alert(\"Please login first!\");\n+\n+    const fileInput = document.getElementById(\"fileInput\");\n+    const file = fileInput.files[0];\n+    const caption = document.getElementById(\"caption\").value.trim();\n+\n+    if (!file) return alert(\"Please select a file!\");\n+\n+    const type = file.type.startsWith(\"image\") ? \"image\"\n+               : file.type.startsWith(\"video\") ? \"video\"\n+               : null;\n+    if (!type) return alert(\"Unsupported file type!\");\n+\n+    let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+\n+    if(type === \"image\") {\n+      const reader = new FileReader();\n+      reader.onload = () => {\n+        posts.unshift({\n+          src: reader.result, // Base64 for image\n+          type,\n+          caption,\n+          user: user.name,\n+          likes: 0,\n+          time: new Date().toLocaleString(),\n+        });\n+        localStorage.setItem(\"posts\", JSON.stringify(posts));\n+        fileInput.value = \"\";\n+        document.getElementById(\"caption\").value = \"\";\n+        renderPosts(\"gallery\");\n+        renderPosts(\"userGallery\", true);\n+        alert(\"Image uploaded!\");\n+      };\n+      reader.readAsDataURL(file);\n+    } else {\n+      // For videos: use object URL\n+      const videoURL = URL.createObjectURL(file);\n+      posts.unshift({\n+        src: videoURL, // Blob URL\n+        type,\n+        caption,\n+        user: user.name,\n+        likes: 0,\n+        time: new Date().toLocaleString(),\n+        isVideoBlob: true, // mark as temporary video\n+      });\n+      localStorage.setItem(\"posts\", JSON.stringify(posts));\n+      fileInput.value = \"\";\n+      document.getElementById(\"caption\").value = \"\";\n+      renderPosts(\"gallery\");\n+      renderPosts(\"userGallery\", true);\n+      alert(\"Video uploaded! Note: Videos won't persist after reload.\");\n+    }\n+  });\n+}\n+\n+// ==========================\n+// RENDER POSTS\n+// ==========================\n function renderPosts(targetId, onlyUser = false) {\n   const el = document.getElementById(targetId);\n   if (!el) return;\n \n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n+  if (onlyUser && user) posts = posts.filter(p => p.user === user.name);\n \n   if (posts.length === 0) {\n     el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n     return;\n   }\n \n-  el.innerHTML = posts\n-    .map((p, i) => {\n-      if(p.type === \"image\") {\n-        return `\n-          <div class=\"card\">\n-            <img src=\"${p.src}\" alt=\"post\" />\n-            <div class=\"post-info\">\n-              <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-              <small>${p.time}</small>\n-            </div>\n-            <div class=\"actions\">\n-              <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-              <button onclick=\"sharePost(${i})\">üîó Share</button>\n-            </div>\n-          </div>\n-        `;\n-      } else if(p.type === \"video\") {\n-        return `\n-          <div class=\"card\">\n-            <video controls src=\"${p.src}\" type=\"video/mp4\"></video>\n-            <div class=\"post-info\">\n-              <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-              <small>${p.time}</small>\n-            </div>\n-            <div class=\"actions\">\n-              <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-              <button onclick=\"sharePost(${i})\">üîó Share</button>\n-            </div>\n-          </div>\n-        `;\n-      }\n-    }).join(\"\");\n+  el.innerHTML = posts.map((p, i) => {\n+    if(p.type === \"image\") {\n+      return `\n+      <div class=\"card\">\n+        <img src=\"${p.src}\" alt=\"post\" />\n+        <div class=\"post-info\">\n+          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+          <small>${p.time}</small>\n+        </div>\n+        <div class=\"actions\">\n+          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+          <button onclick=\"sharePost(${i})\">üîó Share</button>\n+        </div>\n+      </div>`;\n+    } else if(p.type === \"video\") {\n+      return `\n+      <div class=\"card\">\n+        <video controls src=\"${p.src}\" type=\"video/mp4\"></video>\n+        <div class=\"post-info\">\n+          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+          <small>${p.time}</small>\n+        </div>\n+        <div class=\"actions\">\n+          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+          <button onclick=\"sharePost(${i})\">üîó Share</button>\n+        </div>\n+      </div>`;\n+    }\n+  }).join(\"\");\n }\n \n \n // // ==========================\n"
                },
                {
                    "date": 1763063387946,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -201,72 +201,72 @@\n \n //     reader.readAsDataURL(file);\n //   });\n // }\n-// ==========================\n-// UPLOAD POST\n-// ==========================\n-const uploadForm = document.getElementById(\"uploadForm\");\n-if (uploadForm) {\n-  uploadForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n+// // ==========================\n+// // UPLOAD POST\n+// // ==========================\n+// const uploadForm = document.getElementById(\"uploadForm\");\n+// if (uploadForm) {\n+//   uploadForm.addEventListener(\"submit\", (e) => {\n+//     e.preventDefault();\n \n-    const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n-    if (!user) return alert(\"Please login first!\");\n+//     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n+//     if (!user) return alert(\"Please login first!\");\n \n-    const fileInput = document.getElementById(\"fileInput\");\n-    const file = fileInput.files[0];\n-    const caption = document.getElementById(\"caption\").value.trim();\n+//     const fileInput = document.getElementById(\"fileInput\");\n+//     const file = fileInput.files[0];\n+//     const caption = document.getElementById(\"caption\").value.trim();\n \n-    if (!file) return alert(\"Please select a file!\");\n+//     if (!file) return alert(\"Please select a file!\");\n \n-    const type = file.type.startsWith(\"image\") ? \"image\"\n-               : file.type.startsWith(\"video\") ? \"video\"\n-               : null;\n-    if (!type) return alert(\"Unsupported file type!\");\n+//     const type = file.type.startsWith(\"image\") ? \"image\"\n+//                : file.type.startsWith(\"video\") ? \"video\"\n+//                : null;\n+//     if (!type) return alert(\"Unsupported file type!\");\n \n-    let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+//     let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n \n-    if(type === \"image\") {\n-      const reader = new FileReader();\n-      reader.onload = () => {\n-        posts.unshift({\n-          src: reader.result, // Base64 for image\n-          type,\n-          caption,\n-          user: user.name,\n-          likes: 0,\n-          time: new Date().toLocaleString(),\n-        });\n-        localStorage.setItem(\"posts\", JSON.stringify(posts));\n-        fileInput.value = \"\";\n-        document.getElementById(\"caption\").value = \"\";\n-        renderPosts(\"gallery\");\n-        renderPosts(\"userGallery\", true);\n-        alert(\"Image uploaded!\");\n-      };\n-      reader.readAsDataURL(file);\n-    } else {\n-      // For videos: use object URL\n-      const videoURL = URL.createObjectURL(file);\n-      posts.unshift({\n-        src: videoURL, // Blob URL\n-        type,\n-        caption,\n-        user: user.name,\n-        likes: 0,\n-        time: new Date().toLocaleString(),\n-        isVideoBlob: true, // mark as temporary video\n-      });\n-      localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      fileInput.value = \"\";\n-      document.getElementById(\"caption\").value = \"\";\n-      renderPosts(\"gallery\");\n-      renderPosts(\"userGallery\", true);\n-      alert(\"Video uploaded! Note: Videos won't persist after reload.\");\n-    }\n-  });\n-}\n+//     if(type === \"image\") {\n+//       const reader = new FileReader();\n+//       reader.onload = () => {\n+//         posts.unshift({\n+//           src: reader.result, // Base64 for image\n+//           type,\n+//           caption,\n+//           user: user.name,\n+//           likes: 0,\n+//           time: new Date().toLocaleString(),\n+//         });\n+//         localStorage.setItem(\"posts\", JSON.stringify(posts));\n+//         fileInput.value = \"\";\n+//         document.getElementById(\"caption\").value = \"\";\n+//         renderPosts(\"gallery\");\n+//         renderPosts(\"userGallery\", true);\n+//         alert(\"Image uploaded!\");\n+//       };\n+//       reader.readAsDataURL(file);\n+//     } else {\n+//       // For videos: use object URL\n+//       const videoURL = URL.createObjectURL(file);\n+//       posts.unshift({\n+//         src: videoURL, // Blob URL\n+//         type,\n+//         caption,\n+//         user: user.name,\n+//         likes: 0,\n+//         time: new Date().toLocaleString(),\n+//         isVideoBlob: true, // mark as temporary video\n+//       });\n+//       localStorage.setItem(\"posts\", JSON.stringify(posts));\n+//       fileInput.value = \"\";\n+//       document.getElementById(\"caption\").value = \"\";\n+//       renderPosts(\"gallery\");\n+//       renderPosts(\"userGallery\", true);\n+//       alert(\"Video uploaded! Note: Videos won't persist after reload.\");\n+//     }\n+//   });\n+// }\n \n // ==========================\n // RENDER POSTS\n // ==========================\n"
                },
                {
                    "date": 1763063444465,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -201,178 +201,68 @@\n \n //     reader.readAsDataURL(file);\n //   });\n // }\n-// // ==========================\n-// // UPLOAD POST\n-// // ==========================\n-// const uploadForm = document.getElementById(\"uploadForm\");\n-// if (uploadForm) {\n-//   uploadForm.addEventListener(\"submit\", (e) => {\n-//     e.preventDefault();\n \n-//     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n-//     if (!user) return alert(\"Please login first!\");\n \n-//     const fileInput = document.getElementById(\"fileInput\");\n-//     const file = fileInput.files[0];\n-//     const caption = document.getElementById(\"caption\").value.trim();\n-\n-//     if (!file) return alert(\"Please select a file!\");\n-\n-//     const type = file.type.startsWith(\"image\") ? \"image\"\n-//                : file.type.startsWith(\"video\") ? \"video\"\n-//                : null;\n-//     if (!type) return alert(\"Unsupported file type!\");\n-\n-//     let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-\n-//     if(type === \"image\") {\n-//       const reader = new FileReader();\n-//       reader.onload = () => {\n-//         posts.unshift({\n-//           src: reader.result, // Base64 for image\n-//           type,\n-//           caption,\n-//           user: user.name,\n-//           likes: 0,\n-//           time: new Date().toLocaleString(),\n-//         });\n-//         localStorage.setItem(\"posts\", JSON.stringify(posts));\n-//         fileInput.value = \"\";\n-//         document.getElementById(\"caption\").value = \"\";\n-//         renderPosts(\"gallery\");\n-//         renderPosts(\"userGallery\", true);\n-//         alert(\"Image uploaded!\");\n-//       };\n-//       reader.readAsDataURL(file);\n-//     } else {\n-//       // For videos: use object URL\n-//       const videoURL = URL.createObjectURL(file);\n-//       posts.unshift({\n-//         src: videoURL, // Blob URL\n-//         type,\n-//         caption,\n-//         user: user.name,\n-//         likes: 0,\n-//         time: new Date().toLocaleString(),\n-//         isVideoBlob: true, // mark as temporary video\n-//       });\n-//       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-//       fileInput.value = \"\";\n-//       document.getElementById(\"caption\").value = \"\";\n-//       renderPosts(\"gallery\");\n-//       renderPosts(\"userGallery\", true);\n-//       alert(\"Video uploaded! Note: Videos won't persist after reload.\");\n-//     }\n-//   });\n-// }\n-\n // ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n   const el = document.getElementById(targetId);\n   if (!el) return;\n \n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  if (onlyUser && user) posts = posts.filter(p => p.user === user.name);\n+  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n \n   if (posts.length === 0) {\n     el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n     return;\n   }\n \n-  el.innerHTML = posts.map((p, i) => {\n-    if(p.type === \"image\") {\n-      return `\n-      <div class=\"card\">\n-        <img src=\"${p.src}\" alt=\"post\" />\n-        <div class=\"post-info\">\n-          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-          <small>${p.time}</small>\n-        </div>\n-        <div class=\"actions\">\n-          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-          <button onclick=\"sharePost(${i})\">üîó Share</button>\n-        </div>\n-      </div>`;\n-    } else if(p.type === \"video\") {\n-      return `\n-      <div class=\"card\">\n-        <video controls src=\"${p.src}\" type=\"video/mp4\"></video>\n-        <div class=\"post-info\">\n-          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-          <small>${p.time}</small>\n-        </div>\n-        <div class=\"actions\">\n-          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-          <button onclick=\"sharePost(${i})\">üîó Share</button>\n-        </div>\n-      </div>`;\n-    }\n-  }).join(\"\");\n+  el.innerHTML = posts\n+    .map(\n+      (p, i) => `\n+    <div class=\"card\">\n+      ${\n+        p.type.startsWith(\"image\")\n+          ? `<img src=\"${p.src}\" alt=\"post\" />`\n+          : `<video controls src=\"${p.src}\"></video>`\n+      }\n+      <div class=\"post-info\">\n+        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+        <small>${p.time}</small>\n+      </div>\n+      <div class=\"actions\">\n+        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+        <button onclick=\"sharePost(${i})\">üîó Share</button>\n+      </div>\n+    </div>\n+  `\n+    )\n+    .join(\"\");\n }\n \n+// LIKE\n+function likePost(i) {\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  posts[i].likes = (posts[i].likes || 0) + 1;\n+  localStorage.setItem(\"posts\", JSON.stringify(posts));\n+  renderPosts(\"gallery\");\n+  renderPosts(\"userGallery\", true);\n+}\n \n-// // ==========================\n-// // RENDER POSTS\n-// // ==========================\n-// function renderPosts(targetId, onlyUser = false) {\n-//   const el = document.getElementById(targetId);\n-//   if (!el) return;\n+// SHARE\n+function sharePost(i) {\n+  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  navigator.clipboard.writeText(posts[i].src);\n+  alert(\"Post link copied!\");\n+}\n \n-//   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-//   if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n+// Initial Renders\n+renderPosts(\"gallery\");\n+renderPosts(\"userGallery\", true);\n \n-//   if (posts.length === 0) {\n-//     el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n-//     return;\n-//   }\n-\n-//   el.innerHTML = posts\n-//     .map(\n-//       (p, i) => `\n-//     <div class=\"card\">\n-//       ${\n-//         p.type.startsWith(\"image\")\n-//           ? `<img src=\"${p.src}\" alt=\"post\" />`\n-//           : `<video controls src=\"${p.src}\"></video>`\n-//       }\n-//       <div class=\"post-info\">\n-//         <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-//         <small>${p.time}</small>\n-//       </div>\n-//       <div class=\"actions\">\n-//         <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-//         <button onclick=\"sharePost(${i})\">üîó Share</button>\n-//       </div>\n-//     </div>\n-//   `\n-//     )\n-//     .join(\"\");\n-// }\n-\n-// // LIKE\n-// function likePost(i) {\n-//   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-//   posts[i].likes = (posts[i].likes || 0) + 1;\n-//   localStorage.setItem(\"posts\", JSON.stringify(posts));\n-//   renderPosts(\"gallery\");\n-//   renderPosts(\"userGallery\", true);\n-// }\n-\n-// // SHARE\n-// function sharePost(i) {\n-//   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-//   navigator.clipboard.writeText(posts[i].src);\n-//   alert(\"Post link copied!\");\n-// }\n-\n-// // Initial Renders\n-// renderPosts(\"gallery\");\n-// renderPosts(\"userGallery\", true);\n-\n // ==========================\n // DARK MODE\n // ==========================\n const toggleBtn = document.getElementById(\"modeToggle\");\n"
                },
                {
                    "date": 1763063651101,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,16 +78,19 @@\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n+\n // ==========================\n-// UPLOAD POST (fixed for videos & images)\n+// UPLOAD POST\n // ==========================\n+// ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n \n+    // Always fetch current user\n     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n     if (!user) return alert(\"Please login first!\");\n \n     const fileInput = document.getElementById(\"fileInput\");\n@@ -95,116 +98,49 @@\n     const caption = document.getElementById(\"caption\").value.trim();\n \n     if (!file) return alert(\"Please select a file!\");\n \n-    let type = file.type.startsWith(\"image\") ? \"image\"\n-             : file.type.startsWith(\"video\") ? \"video\" : null;\n+    const reader = new FileReader();\n+    reader.onload = function() {\n+      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n \n-    if (!type) {\n-      const ext = file.name.split(\".\").pop().toLowerCase();\n-      const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-      const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-      if (imgExts.includes(ext)) type = \"image\";\n-      else if (vidExts.includes(ext)) type = \"video\";\n-      else return alert(\"Unsupported file type!\");\n-    }\n+      // Detect type properly\n+      let type = file.type.startsWith(\"image\") ? \"image\"\n+               : file.type.startsWith(\"video\") ? \"video\"\n+               : null;\n \n-    if(type === \"image\") {\n-      // Use FileReader for images\n-      const reader = new FileReader();\n-      reader.onload = () => {\n-        savePost(reader.result, type, caption, user.name);\n-      };\n-      reader.readAsDataURL(file);\n-    } else {\n-      // Use Blob URL for videos\n-      const videoURL = URL.createObjectURL(file);\n-      savePost(videoURL, type, caption, user.name);\n-    }\n+      if (!type) {\n+        const ext = file.name.split(\".\").pop().toLowerCase();\n+        const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+        const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+        if (imgExts.includes(ext)) type = \"image\";\n+        else if (vidExts.includes(ext)) type = \"video\";\n+        else return alert(\"Unsupported file type!\");\n+      }\n \n-    fileInput.value = \"\";\n-    document.getElementById(\"caption\").value = \"\";\n-  });\n-}\n+      posts.unshift({\n+        src: reader.result,\n+        type,\n+        caption,\n+        user: user.name,\n+        likes: 0,\n+        time: new Date().toLocaleString(),\n+      });\n \n-// Save post helper function\n-function savePost(src, type, caption, username) {\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  posts.unshift({\n-    src,\n-    type,\n-    caption,\n-    user: username,\n-    likes: 0,\n-    time: new Date().toLocaleString(),\n+      localStorage.setItem(\"posts\", JSON.stringify(posts));\n+\n+      // Only redirect **after** FileReader finishes\n+      alert(\"Post uploaded successfully!\");\n+      fileInput.value = \"\";\n+      document.getElementById(\"caption\").value = \"\";\n+      window.location.reload(); // safer than location.href\n+    };\n+\n+    reader.readAsDataURL(file);\n   });\n-  localStorage.setItem(\"posts\", JSON.stringify(posts));\n-  alert(\"Post uploaded successfully!\");\n-  renderPosts(\"gallery\");\n-  renderPosts(\"userGallery\", true);\n }\n \n \n-// // ==========================\n-// // UPLOAD POST\n-// // ==========================\n-// // ==========================\n-// const uploadForm = document.getElementById(\"uploadForm\");\n-// if (uploadForm) {\n-//   uploadForm.addEventListener(\"submit\", (e) => {\n-//     e.preventDefault();\n-\n-//     // Always fetch current user\n-//     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n-//     if (!user) return alert(\"Please login first!\");\n-\n-//     const fileInput = document.getElementById(\"fileInput\");\n-//     const file = fileInput.files[0];\n-//     const caption = document.getElementById(\"caption\").value.trim();\n-\n-//     if (!file) return alert(\"Please select a file!\");\n-\n-//     const reader = new FileReader();\n-//     reader.onload = function() {\n-//       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-\n-//       // Detect type properly\n-//       let type = file.type.startsWith(\"image\") ? \"image\"\n-//                : file.type.startsWith(\"video\") ? \"video\"\n-//                : null;\n-\n-//       if (!type) {\n-//         const ext = file.name.split(\".\").pop().toLowerCase();\n-//         const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-//         const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-//         if (imgExts.includes(ext)) type = \"image\";\n-//         else if (vidExts.includes(ext)) type = \"video\";\n-//         else return alert(\"Unsupported file type!\");\n-//       }\n-\n-//       posts.unshift({\n-//         src: reader.result,\n-//         type,\n-//         caption,\n-//         user: user.name,\n-//         likes: 0,\n-//         time: new Date().toLocaleString(),\n-//       });\n-\n-//       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-\n-//       // Only redirect **after** FileReader finishes\n-//       alert(\"Post uploaded successfully!\");\n-//       fileInput.value = \"\";\n-//       document.getElementById(\"caption\").value = \"\";\n-//       window.location.reload(); // safer than location.href\n-//     };\n-\n-//     reader.readAsDataURL(file);\n-//   });\n-// }\n-\n-\n // ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n"
                },
                {
                    "date": 1763063935423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,68 +79,69 @@\n     location.href = \"index.html\";\n   });\n }\n \n-// ==========================\n-// UPLOAD POST\n-// ==========================\n-// ==========================\n-const uploadForm = document.getElementById(\"uploadForm\");\n-if (uploadForm) {\n-  uploadForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n \n-    // Always fetch current user\n-    const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n-    if (!user) return alert(\"Please login first!\");\n+// // ==========================\n+// // UPLOAD POST\n+// // ==========================\n+// // ==========================\n+// const uploadForm = document.getElementById(\"uploadForm\");\n+// if (uploadForm) {\n+//   uploadForm.addEventListener(\"submit\", (e) => {\n+//     e.preventDefault();\n \n-    const fileInput = document.getElementById(\"fileInput\");\n-    const file = fileInput.files[0];\n-    const caption = document.getElementById(\"caption\").value.trim();\n+//     // Always fetch current user\n+//     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n+//     if (!user) return alert(\"Please login first!\");\n \n-    if (!file) return alert(\"Please select a file!\");\n+//     const fileInput = document.getElementById(\"fileInput\");\n+//     const file = fileInput.files[0];\n+//     const caption = document.getElementById(\"caption\").value.trim();\n \n-    const reader = new FileReader();\n-    reader.onload = function() {\n-      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+//     if (!file) return alert(\"Please select a file!\");\n \n-      // Detect type properly\n-      let type = file.type.startsWith(\"image\") ? \"image\"\n-               : file.type.startsWith(\"video\") ? \"video\"\n-               : null;\n+//     const reader = new FileReader();\n+//     reader.onload = function() {\n+//       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n \n-      if (!type) {\n-        const ext = file.name.split(\".\").pop().toLowerCase();\n-        const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-        const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-        if (imgExts.includes(ext)) type = \"image\";\n-        else if (vidExts.includes(ext)) type = \"video\";\n-        else return alert(\"Unsupported file type!\");\n-      }\n+//       // Detect type properly\n+//       let type = file.type.startsWith(\"image\") ? \"image\"\n+//                : file.type.startsWith(\"video\") ? \"video\"\n+//                : null;\n \n-      posts.unshift({\n-        src: reader.result,\n-        type,\n-        caption,\n-        user: user.name,\n-        likes: 0,\n-        time: new Date().toLocaleString(),\n-      });\n+//       if (!type) {\n+//         const ext = file.name.split(\".\").pop().toLowerCase();\n+//         const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+//         const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+//         if (imgExts.includes(ext)) type = \"image\";\n+//         else if (vidExts.includes(ext)) type = \"video\";\n+//         else return alert(\"Unsupported file type!\");\n+//       }\n \n-      localStorage.setItem(\"posts\", JSON.stringify(posts));\n+//       posts.unshift({\n+//         src: reader.result,\n+//         type,\n+//         caption,\n+//         user: user.name,\n+//         likes: 0,\n+//         time: new Date().toLocaleString(),\n+//       });\n \n-      // Only redirect **after** FileReader finishes\n-      alert(\"Post uploaded successfully!\");\n-      fileInput.value = \"\";\n-      document.getElementById(\"caption\").value = \"\";\n-      window.location.reload(); // safer than location.href\n-    };\n+//       localStorage.setItem(\"posts\", JSON.stringify(posts));\n \n-    reader.readAsDataURL(file);\n-  });\n-}\n+//       // Only redirect **after** FileReader finishes\n+//       alert(\"Post uploaded successfully!\");\n+//       fileInput.value = \"\";\n+//       document.getElementById(\"caption\").value = \"\";\n+//       window.location.reload(); // safer than location.href\n+//     };\n \n+//     reader.readAsDataURL(file);\n+//   });\n+// }\n \n+\n // ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n"
                },
                {
                    "date": 1763063943783,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,10 +78,73 @@\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n+// ==========================\n+// UPLOAD POST (fixed for videos & images)\n+// ==========================\n+const uploadForm = document.getElementById(\"uploadForm\");\n+if (uploadForm) {\n+  uploadForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n \n+    const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n+    if (!user) return alert(\"Please login first!\");\n \n+    const fileInput = document.getElementById(\"fileInput\");\n+    const file = fileInput.files[0];\n+    const caption = document.getElementById(\"caption\").value.trim();\n+\n+    if (!file) return alert(\"Please select a file!\");\n+\n+    let type = file.type.startsWith(\"image\") ? \"image\"\n+             : file.type.startsWith(\"video\") ? \"video\" : null;\n+\n+    if (!type) {\n+      const ext = file.name.split(\".\").pop().toLowerCase();\n+      const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+      const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+      if (imgExts.includes(ext)) type = \"image\";\n+      else if (vidExts.includes(ext)) type = \"video\";\n+      else return alert(\"Unsupported file type!\");\n+    }\n+\n+    if(type === \"image\") {\n+      // Use FileReader for images\n+      const reader = new FileReader();\n+      reader.onload = () => {\n+        savePost(reader.result, type, caption, user.name);\n+      };\n+      reader.readAsDataURL(file);\n+    } else {\n+      // Use Blob URL for videos\n+      const videoURL = URL.createObjectURL(file);\n+      savePost(videoURL, type, caption, user.name);\n+    }\n+\n+    fileInput.value = \"\";\n+    document.getElementById(\"caption\").value = \"\";\n+  });\n+}\n+\n+// Save post helper function\n+function savePost(src, type, caption, username) {\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  posts.unshift({\n+    src,\n+    type,\n+    caption,\n+    user: username,\n+    likes: 0,\n+    time: new Date().toLocaleString(),\n+  });\n+  localStorage.setItem(\"posts\", JSON.stringify(posts));\n+  alert(\"Post uploaded successfully!\");\n+  renderPosts(\"gallery\");\n+  renderPosts(\"userGallery\", true);\n+}\n+\n+\n // // ==========================\n // // UPLOAD POST\n // // ==========================\n // // ==========================\n"
                },
                {
                    "date": 1763064041507,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,16 +78,19 @@\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n+\n // ==========================\n-// UPLOAD POST (fixed for videos & images)\n+// UPLOAD POST\n // ==========================\n+// ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n \n+    // Always fetch current user\n     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n     if (!user) return alert(\"Please login first!\");\n \n     const fileInput = document.getElementById(\"fileInput\");\n@@ -95,116 +98,49 @@\n     const caption = document.getElementById(\"caption\").value.trim();\n \n     if (!file) return alert(\"Please select a file!\");\n \n-    let type = file.type.startsWith(\"image\") ? \"image\"\n-             : file.type.startsWith(\"video\") ? \"video\" : null;\n+    const reader = new FileReader();\n+    reader.onload = function() {\n+      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n \n-    if (!type) {\n-      const ext = file.name.split(\".\").pop().toLowerCase();\n-      const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-      const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-      if (imgExts.includes(ext)) type = \"image\";\n-      else if (vidExts.includes(ext)) type = \"video\";\n-      else return alert(\"Unsupported file type!\");\n-    }\n+      // Detect type properly\n+      let type = file.type.startsWith(\"image\") ? \"image\"\n+               : file.type.startsWith(\"video\") ? \"video\"\n+               : null;\n \n-    if(type === \"image\") {\n-      // Use FileReader for images\n-      const reader = new FileReader();\n-      reader.onload = () => {\n-        savePost(reader.result, type, caption, user.name);\n-      };\n-      reader.readAsDataURL(file);\n-    } else {\n-      // Use Blob URL for videos\n-      const videoURL = URL.createObjectURL(file);\n-      savePost(videoURL, type, caption, user.name);\n-    }\n+      if (!type) {\n+        const ext = file.name.split(\".\").pop().toLowerCase();\n+        const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+        const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+        if (imgExts.includes(ext)) type = \"image\";\n+        else if (vidExts.includes(ext)) type = \"video\";\n+        else return alert(\"Unsupported file type!\");\n+      }\n \n-    fileInput.value = \"\";\n-    document.getElementById(\"caption\").value = \"\";\n-  });\n-}\n+      posts.unshift({\n+        src: reader.result,\n+        type,\n+        caption,\n+        user: user.name,\n+        likes: 0,\n+        time: new Date().toLocaleString(),\n+      });\n \n-// Save post helper function\n-function savePost(src, type, caption, username) {\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  posts.unshift({\n-    src,\n-    type,\n-    caption,\n-    user: username,\n-    likes: 0,\n-    time: new Date().toLocaleString(),\n+      localStorage.setItem(\"posts\", JSON.stringify(posts));\n+\n+      // Only redirect **after** FileReader finishes\n+      alert(\"Post uploaded successfully!\");\n+      fileInput.value = \"\";\n+      document.getElementById(\"caption\").value = \"\";\n+      window.location.reload(); // safer than location.href\n+    };\n+\n+    reader.readAsDataURL(file);\n   });\n-  localStorage.setItem(\"posts\", JSON.stringify(posts));\n-  alert(\"Post uploaded successfully!\");\n-  renderPosts(\"gallery\");\n-  renderPosts(\"userGallery\", true);\n }\n \n \n-// // ==========================\n-// // UPLOAD POST\n-// // ==========================\n-// // ==========================\n-// const uploadForm = document.getElementById(\"uploadForm\");\n-// if (uploadForm) {\n-//   uploadForm.addEventListener(\"submit\", (e) => {\n-//     e.preventDefault();\n-\n-//     // Always fetch current user\n-//     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n-//     if (!user) return alert(\"Please login first!\");\n-\n-//     const fileInput = document.getElementById(\"fileInput\");\n-//     const file = fileInput.files[0];\n-//     const caption = document.getElementById(\"caption\").value.trim();\n-\n-//     if (!file) return alert(\"Please select a file!\");\n-\n-//     const reader = new FileReader();\n-//     reader.onload = function() {\n-//       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-\n-//       // Detect type properly\n-//       let type = file.type.startsWith(\"image\") ? \"image\"\n-//                : file.type.startsWith(\"video\") ? \"video\"\n-//                : null;\n-\n-//       if (!type) {\n-//         const ext = file.name.split(\".\").pop().toLowerCase();\n-//         const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-//         const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-//         if (imgExts.includes(ext)) type = \"image\";\n-//         else if (vidExts.includes(ext)) type = \"video\";\n-//         else return alert(\"Unsupported file type!\");\n-//       }\n-\n-//       posts.unshift({\n-//         src: reader.result,\n-//         type,\n-//         caption,\n-//         user: user.name,\n-//         likes: 0,\n-//         time: new Date().toLocaleString(),\n-//       });\n-\n-//       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-\n-//       // Only redirect **after** FileReader finishes\n-//       alert(\"Post uploaded successfully!\");\n-//       fileInput.value = \"\";\n-//       document.getElementById(\"caption\").value = \"\";\n-//       window.location.reload(); // safer than location.href\n-//     };\n-\n-//     reader.readAsDataURL(file);\n-//   });\n-// }\n-\n-\n // ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n"
                },
                {
                    "date": 1763064129615,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,19 +78,16 @@\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n-\n // ==========================\n-// UPLOAD POST\n+// UPLOAD POST (fixed for videos & images)\n // ==========================\n-// ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n \n-    // Always fetch current user\n     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n     if (!user) return alert(\"Please login first!\");\n \n     const fileInput = document.getElementById(\"fileInput\");\n@@ -98,49 +95,116 @@\n     const caption = document.getElementById(\"caption\").value.trim();\n \n     if (!file) return alert(\"Please select a file!\");\n \n-    const reader = new FileReader();\n-    reader.onload = function() {\n-      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+    let type = file.type.startsWith(\"image\") ? \"image\"\n+             : file.type.startsWith(\"video\") ? \"video\" : null;\n \n-      // Detect type properly\n-      let type = file.type.startsWith(\"image\") ? \"image\"\n-               : file.type.startsWith(\"video\") ? \"video\"\n-               : null;\n+    if (!type) {\n+      const ext = file.name.split(\".\").pop().toLowerCase();\n+      const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+      const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+      if (imgExts.includes(ext)) type = \"image\";\n+      else if (vidExts.includes(ext)) type = \"video\";\n+      else return alert(\"Unsupported file type!\");\n+    }\n \n-      if (!type) {\n-        const ext = file.name.split(\".\").pop().toLowerCase();\n-        const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-        const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-        if (imgExts.includes(ext)) type = \"image\";\n-        else if (vidExts.includes(ext)) type = \"video\";\n-        else return alert(\"Unsupported file type!\");\n-      }\n+    if(type === \"image\") {\n+      // Use FileReader for images\n+      const reader = new FileReader();\n+      reader.onload = () => {\n+        savePost(reader.result, type, caption, user.name);\n+      };\n+      reader.readAsDataURL(file);\n+    } else {\n+      // Use Blob URL for videos\n+      const videoURL = URL.createObjectURL(file);\n+      savePost(videoURL, type, caption, user.name);\n+    }\n \n-      posts.unshift({\n-        src: reader.result,\n-        type,\n-        caption,\n-        user: user.name,\n-        likes: 0,\n-        time: new Date().toLocaleString(),\n-      });\n+    fileInput.value = \"\";\n+    document.getElementById(\"caption\").value = \"\";\n+  });\n+}\n \n-      localStorage.setItem(\"posts\", JSON.stringify(posts));\n-\n-      // Only redirect **after** FileReader finishes\n-      alert(\"Post uploaded successfully!\");\n-      fileInput.value = \"\";\n-      document.getElementById(\"caption\").value = \"\";\n-      window.location.reload(); // safer than location.href\n-    };\n-\n-    reader.readAsDataURL(file);\n+// Save post helper function\n+function savePost(src, type, caption, username) {\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  posts.unshift({\n+    src,\n+    type,\n+    caption,\n+    user: username,\n+    likes: 0,\n+    time: new Date().toLocaleString(),\n   });\n+  localStorage.setItem(\"posts\", JSON.stringify(posts));\n+  alert(\"Post uploaded successfully!\");\n+  renderPosts(\"gallery\");\n+  renderPosts(\"userGallery\", true);\n }\n \n \n+// // ==========================\n+// // UPLOAD POST\n+// // ==========================\n+// // ==========================\n+// const uploadForm = document.getElementById(\"uploadForm\");\n+// if (uploadForm) {\n+//   uploadForm.addEventListener(\"submit\", (e) => {\n+//     e.preventDefault();\n+\n+//     // Always fetch current user\n+//     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n+//     if (!user) return alert(\"Please login first!\");\n+\n+//     const fileInput = document.getElementById(\"fileInput\");\n+//     const file = fileInput.files[0];\n+//     const caption = document.getElementById(\"caption\").value.trim();\n+\n+//     if (!file) return alert(\"Please select a file!\");\n+\n+//     const reader = new FileReader();\n+//     reader.onload = function() {\n+//       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+\n+//       // Detect type properly\n+//       let type = file.type.startsWith(\"image\") ? \"image\"\n+//                : file.type.startsWith(\"video\") ? \"video\"\n+//                : null;\n+\n+//       if (!type) {\n+//         const ext = file.name.split(\".\").pop().toLowerCase();\n+//         const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+//         const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+//         if (imgExts.includes(ext)) type = \"image\";\n+//         else if (vidExts.includes(ext)) type = \"video\";\n+//         else return alert(\"Unsupported file type!\");\n+//       }\n+\n+//       posts.unshift({\n+//         src: reader.result,\n+//         type,\n+//         caption,\n+//         user: user.name,\n+//         likes: 0,\n+//         time: new Date().toLocaleString(),\n+//       });\n+\n+//       localStorage.setItem(\"posts\", JSON.stringify(posts));\n+\n+//       // Only redirect **after** FileReader finishes\n+//       alert(\"Post uploaded successfully!\");\n+//       fileInput.value = \"\";\n+//       document.getElementById(\"caption\").value = \"\";\n+//       window.location.reload(); // safer than location.href\n+//     };\n+\n+//     reader.readAsDataURL(file);\n+//   });\n+// }\n+\n+\n // ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n"
                },
                {
                    "date": 1763064173676,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,16 +78,19 @@\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n+\n // ==========================\n-// UPLOAD POST (fixed for videos & images)\n+// UPLOAD POST\n // ==========================\n+// ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n \n+    // Always fetch current user\n     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n     if (!user) return alert(\"Please login first!\");\n \n     const fileInput = document.getElementById(\"fileInput\");\n@@ -95,116 +98,49 @@\n     const caption = document.getElementById(\"caption\").value.trim();\n \n     if (!file) return alert(\"Please select a file!\");\n \n-    let type = file.type.startsWith(\"image\") ? \"image\"\n-             : file.type.startsWith(\"video\") ? \"video\" : null;\n+    const reader = new FileReader();\n+    reader.onload = function() {\n+      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n \n-    if (!type) {\n-      const ext = file.name.split(\".\").pop().toLowerCase();\n-      const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-      const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-      if (imgExts.includes(ext)) type = \"image\";\n-      else if (vidExts.includes(ext)) type = \"video\";\n-      else return alert(\"Unsupported file type!\");\n-    }\n+      // Detect type properly\n+      let type = file.type.startsWith(\"image\") ? \"image\"\n+               : file.type.startsWith(\"video\") ? \"video\"\n+               : null;\n \n-    if(type === \"image\") {\n-      // Use FileReader for images\n-      const reader = new FileReader();\n-      reader.onload = () => {\n-        savePost(reader.result, type, caption, user.name);\n-      };\n-      reader.readAsDataURL(file);\n-    } else {\n-      // Use Blob URL for videos\n-      const videoURL = URL.createObjectURL(file);\n-      savePost(videoURL, type, caption, user.name);\n-    }\n+      if (!type) {\n+        const ext = file.name.split(\".\").pop().toLowerCase();\n+        const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+        const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+        if (imgExts.includes(ext)) type = \"image\";\n+        else if (vidExts.includes(ext)) type = \"video\";\n+        else return alert(\"Unsupported file type!\");\n+      }\n \n-    fileInput.value = \"\";\n-    document.getElementById(\"caption\").value = \"\";\n-  });\n-}\n+      posts.unshift({\n+        src: reader.result,\n+        type,\n+        caption,\n+        user: user.name,\n+        likes: 0,\n+        time: new Date().toLocaleString(),\n+      });\n \n-// Save post helper function\n-function savePost(src, type, caption, username) {\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  posts.unshift({\n-    src,\n-    type,\n-    caption,\n-    user: username,\n-    likes: 0,\n-    time: new Date().toLocaleString(),\n+      localStorage.setItem(\"posts\", JSON.stringify(posts));\n+\n+      // Only redirect **after** FileReader finishes\n+      alert(\"Post uploaded successfully!\");\n+      fileInput.value = \"\";\n+      document.getElementById(\"caption\").value = \"\";\n+      window.location.reload(); // safer than location.href\n+    };\n+\n+    reader.readAsDataURL(file);\n   });\n-  localStorage.setItem(\"posts\", JSON.stringify(posts));\n-  alert(\"Post uploaded successfully!\");\n-  renderPosts(\"gallery\");\n-  renderPosts(\"userGallery\", true);\n }\n \n \n-// // ==========================\n-// // UPLOAD POST\n-// // ==========================\n-// // ==========================\n-// const uploadForm = document.getElementById(\"uploadForm\");\n-// if (uploadForm) {\n-//   uploadForm.addEventListener(\"submit\", (e) => {\n-//     e.preventDefault();\n-\n-//     // Always fetch current user\n-//     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n-//     if (!user) return alert(\"Please login first!\");\n-\n-//     const fileInput = document.getElementById(\"fileInput\");\n-//     const file = fileInput.files[0];\n-//     const caption = document.getElementById(\"caption\").value.trim();\n-\n-//     if (!file) return alert(\"Please select a file!\");\n-\n-//     const reader = new FileReader();\n-//     reader.onload = function() {\n-//       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-\n-//       // Detect type properly\n-//       let type = file.type.startsWith(\"image\") ? \"image\"\n-//                : file.type.startsWith(\"video\") ? \"video\"\n-//                : null;\n-\n-//       if (!type) {\n-//         const ext = file.name.split(\".\").pop().toLowerCase();\n-//         const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-//         const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-//         if (imgExts.includes(ext)) type = \"image\";\n-//         else if (vidExts.includes(ext)) type = \"video\";\n-//         else return alert(\"Unsupported file type!\");\n-//       }\n-\n-//       posts.unshift({\n-//         src: reader.result,\n-//         type,\n-//         caption,\n-//         user: user.name,\n-//         likes: 0,\n-//         time: new Date().toLocaleString(),\n-//       });\n-\n-//       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-\n-//       // Only redirect **after** FileReader finishes\n-//       alert(\"Post uploaded successfully!\");\n-//       fileInput.value = \"\";\n-//       document.getElementById(\"caption\").value = \"\";\n-//       window.location.reload(); // safer than location.href\n-//     };\n-\n-//     reader.readAsDataURL(file);\n-//   });\n-// }\n-\n-\n // ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n"
                },
                {
                    "date": 1763064329162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,13 +78,11 @@\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n-\n // ==========================\n // UPLOAD POST\n // ==========================\n-// ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n@@ -98,49 +96,127 @@\n     const caption = document.getElementById(\"caption\").value.trim();\n \n     if (!file) return alert(\"Please select a file!\");\n \n-    const reader = new FileReader();\n-    reader.onload = function() {\n-      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+    // Check file type properly\n+    let type = file.type.startsWith(\"image\") ? \"image\"\n+             : file.type.startsWith(\"video\") ? \"video\"\n+             : null;\n \n-      // Detect type properly\n-      let type = file.type.startsWith(\"image\") ? \"image\"\n-               : file.type.startsWith(\"video\") ? \"video\"\n-               : null;\n+    if (!type) {\n+      const ext = file.name.split(\".\").pop().toLowerCase();\n+      const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+      const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+      if (imgExts.includes(ext)) type = \"image\";\n+      else if (vidExts.includes(ext)) type = \"video\";\n+      else return alert(\"Unsupported file type!\");\n+    }\n \n-      if (!type) {\n-        const ext = file.name.split(\".\").pop().toLowerCase();\n-        const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-        const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-        if (imgExts.includes(ext)) type = \"image\";\n-        else if (vidExts.includes(ext)) type = \"video\";\n-        else return alert(\"Unsupported file type!\");\n-      }\n+    // Optional: Max size 50MB\n+    const maxSizeMB = 50;\n+    if (file.size / (1024 * 1024) > maxSizeMB) {\n+      return alert(\"File too large! Max 50MB allowed.\");\n+    }\n \n+    let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+\n+    if (type === \"image\") {\n+      const reader = new FileReader();\n+      reader.onload = function() {\n+        posts.unshift({\n+          src: reader.result,\n+          type,\n+          caption,\n+          user: user.name,\n+          likes: 0,\n+          time: new Date().toLocaleString(),\n+        });\n+        localStorage.setItem(\"posts\", JSON.stringify(posts));\n+        alert(\"Post uploaded successfully!\");\n+        fileInput.value = \"\";\n+        document.getElementById(\"caption\").value = \"\";\n+        window.location.reload();\n+      };\n+      reader.readAsDataURL(file);\n+    } else if (type === \"video\") {\n+      // Use URL.createObjectURL for videos\n       posts.unshift({\n-        src: reader.result,\n+        src: URL.createObjectURL(file),\n         type,\n         caption,\n         user: user.name,\n         likes: 0,\n         time: new Date().toLocaleString(),\n       });\n-\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-\n-      // Only redirect **after** FileReader finishes\n       alert(\"Post uploaded successfully!\");\n       fileInput.value = \"\";\n       document.getElementById(\"caption\").value = \"\";\n-      window.location.reload(); // safer than location.href\n-    };\n-\n-    reader.readAsDataURL(file);\n+      window.location.reload();\n+    }\n   });\n }\n \n+// // ==========================\n+// // UPLOAD POST\n+// // ==========================\n+// // ==========================\n+// const uploadForm = document.getElementById(\"uploadForm\");\n+// if (uploadForm) {\n+//   uploadForm.addEventListener(\"submit\", (e) => {\n+//     e.preventDefault();\n \n+//     // Always fetch current user\n+//     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n+//     if (!user) return alert(\"Please login first!\");\n+\n+//     const fileInput = document.getElementById(\"fileInput\");\n+//     const file = fileInput.files[0];\n+//     const caption = document.getElementById(\"caption\").value.trim();\n+\n+//     if (!file) return alert(\"Please select a file!\");\n+\n+//     const reader = new FileReader();\n+//     reader.onload = function() {\n+//       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+\n+//       // Detect type properly\n+//       let type = file.type.startsWith(\"image\") ? \"image\"\n+//                : file.type.startsWith(\"video\") ? \"video\"\n+//                : null;\n+\n+//       if (!type) {\n+//         const ext = file.name.split(\".\").pop().toLowerCase();\n+//         const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+//         const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+//         if (imgExts.includes(ext)) type = \"image\";\n+//         else if (vidExts.includes(ext)) type = \"video\";\n+//         else return alert(\"Unsupported file type!\");\n+//       }\n+\n+//       posts.unshift({\n+//         src: reader.result,\n+//         type,\n+//         caption,\n+//         user: user.name,\n+//         likes: 0,\n+//         time: new Date().toLocaleString(),\n+//       });\n+\n+//       localStorage.setItem(\"posts\", JSON.stringify(posts));\n+\n+//       // Only redirect **after** FileReader finishes\n+//       alert(\"Post uploaded successfully!\");\n+//       fileInput.value = \"\";\n+//       document.getElementById(\"caption\").value = \"\";\n+//       window.location.reload(); // safer than location.href\n+//     };\n+\n+//     reader.readAsDataURL(file);\n+//   });\n+// }\n+\n+\n // ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n"
                },
                {
                    "date": 1763064736424,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -155,8 +155,9 @@\n     }\n   });\n }\n \n+\n // // ==========================\n // // UPLOAD POST\n // // ==========================\n // // ==========================\n"
                },
                {
                    "date": 1763064885915,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,13 +82,13 @@\n // ==========================\n // UPLOAD POST\n // ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n+\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n \n-    // Always fetch current user\n     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n     if (!user) return alert(\"Please login first!\");\n \n     const fileInput = document.getElementById(\"fileInput\");\n@@ -96,9 +96,9 @@\n     const caption = document.getElementById(\"caption\").value.trim();\n \n     if (!file) return alert(\"Please select a file!\");\n \n-    // Check file type properly\n+    // Detect file type\n     let type = file.type.startsWith(\"image\") ? \"image\"\n              : file.type.startsWith(\"video\") ? \"video\"\n              : null;\n \n@@ -110,54 +110,41 @@\n       else if (vidExts.includes(ext)) type = \"video\";\n       else return alert(\"Unsupported file type!\");\n     }\n \n-    // Optional: Max size 50MB\n+    // Optional: max size 50MB\n     const maxSizeMB = 50;\n     if (file.size / (1024 * 1024) > maxSizeMB) {\n       return alert(\"File too large! Max 50MB allowed.\");\n     }\n \n-    let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+    const reader = new FileReader();\n+    reader.onload = function() {\n+      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n \n-    if (type === \"image\") {\n-      const reader = new FileReader();\n-      reader.onload = function() {\n-        posts.unshift({\n-          src: reader.result,\n-          type,\n-          caption,\n-          user: user.name,\n-          likes: 0,\n-          time: new Date().toLocaleString(),\n-        });\n-        localStorage.setItem(\"posts\", JSON.stringify(posts));\n-        alert(\"Post uploaded successfully!\");\n-        fileInput.value = \"\";\n-        document.getElementById(\"caption\").value = \"\";\n-        window.location.reload();\n-      };\n-      reader.readAsDataURL(file);\n-    } else if (type === \"video\") {\n-      // Use URL.createObjectURL for videos\n       posts.unshift({\n-        src: URL.createObjectURL(file),\n+        src: reader.result, // base64 for both images and videos\n         type,\n         caption,\n         user: user.name,\n         likes: 0,\n         time: new Date().toLocaleString(),\n       });\n+\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n+\n       alert(\"Post uploaded successfully!\");\n       fileInput.value = \"\";\n       document.getElementById(\"caption\").value = \"\";\n       window.location.reload();\n-    }\n+    };\n+\n+    reader.readAsDataURL(file); // works for images & videos\n   });\n }\n \n \n+\n // // ==========================\n // // UPLOAD POST\n // // ==========================\n // // ==========================\n"
                },
                {
                    "date": 1763064949656,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,295 @@\n+// ==========================\n+// Global Script: global.js\n+// ==========================\n+\n+// Auth Area Setup\n+const authArea = document.getElementById(\"authArea\");\n+let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n+\n+// Render Authentication Area\n+function renderAuth() {\n+  if (!authArea) return;\n+\n+  if (user) {\n+    authArea.innerHTML = `\n+      <span class=\"username\">üë§ ${user.name}</span>\n+      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n+    `;\n+  } else {\n+    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n+  }\n+}\n+\n+// Logout Function\n+function logout() {\n+  localStorage.removeItem(\"currentUser\");\n+  location.href = \"signin.html\";\n+}\n+\n+renderAuth();\n+\n+// ==========================\n+// SIGN UP\n+// ==========================\n+const signupForm = document.getElementById(\"signupForm\");\n+if (signupForm) {\n+  signupForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+\n+    const name = document.getElementById(\"suName\").value.trim();\n+    const email = document.getElementById(\"suEmail\").value.trim();\n+    const pass = document.getElementById(\"suPass\").value.trim();\n+\n+    if (!name || !email || !pass) return alert(\"All fields are required!\");\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+\n+    if (users.find((u) => u.email === email))\n+      return alert(\"Email already exists!\");\n+\n+    const newUser = { name, email, pass };\n+    users.push(newUser);\n+\n+    localStorage.setItem(\"users\", JSON.stringify(users));\n+    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n+\n+    alert(\"Signup successful!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+\n+// ==========================\n+// SIGN IN\n+// ==========================\n+const signinForm = document.getElementById(\"signinForm\");\n+if (signinForm) {\n+  signinForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+\n+    const email = document.getElementById(\"siEmail\").value.trim();\n+    const pass = document.getElementById(\"siPass\").value.trim();\n+\n+    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    const found = users.find((u) => u.email === email && u.pass === pass);\n+\n+    if (!found) return alert(\"Invalid login credentials!\");\n+\n+    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n+    alert(\"Welcome back!\");\n+    location.href = \"index.html\";\n+  });\n+}\n+// ==========================\n+// UPLOAD POST\n+// ==========================\n+const uploadForm = document.getElementById(\"uploadForm\");\n+if (uploadForm) {\n+  uploadForm.addEventListener(\"submit\", (e) => {\n+    e.preventDefault();\n+\n+    // Always fetch current user\n+    const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n+    if (!user) return alert(\"Please login first!\");\n+\n+    const fileInput = document.getElementById(\"fileInput\");\n+    const file = fileInput.files[0];\n+    const caption = document.getElementById(\"caption\").value.trim();\n+\n+    if (!file) return alert(\"Please select a file!\");\n+\n+    // Check file type properly\n+    let type = file.type.startsWith(\"image\") ? \"image\"\n+             : file.type.startsWith(\"video\") ? \"video\"\n+             : null;\n+\n+    if (!type) {\n+      const ext = file.name.split(\".\").pop().toLowerCase();\n+      const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+      const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+      if (imgExts.includes(ext)) type = \"image\";\n+      else if (vidExts.includes(ext)) type = \"video\";\n+      else return alert(\"Unsupported file type!\");\n+    }\n+\n+    // Optional: Max size 50MB\n+    const maxSizeMB = 50;\n+    if (file.size / (1024 * 1024) > maxSizeMB) {\n+      return alert(\"File too large! Max 50MB allowed.\");\n+    }\n+\n+    let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+\n+    if (type === \"image\") {\n+      const reader = new FileReader();\n+      reader.onload = function() {\n+        posts.unshift({\n+          src: reader.result,\n+          type,\n+          caption,\n+          user: user.name,\n+          likes: 0,\n+          time: new Date().toLocaleString(),\n+        });\n+        localStorage.setItem(\"posts\", JSON.stringify(posts));\n+        alert(\"Post uploaded successfully!\");\n+        fileInput.value = \"\";\n+        document.getElementById(\"caption\").value = \"\";\n+        window.location.reload();\n+      };\n+      reader.readAsDataURL(file);\n+    } else if (type === \"video\") {\n+      // Use URL.createObjectURL for videos\n+      posts.unshift({\n+        src: URL.createObjectURL(file),\n+        type,\n+        caption,\n+        user: user.name,\n+        likes: 0,\n+        time: new Date().toLocaleString(),\n+      });\n+      localStorage.setItem(\"posts\", JSON.stringify(posts));\n+      alert(\"Post uploaded successfully!\");\n+      fileInput.value = \"\";\n+      document.getElementById(\"caption\").value = \"\";\n+      window.location.reload();\n+    }\n+  });\n+}\n+\n+\n+// // ==========================\n+// // UPLOAD POST\n+// // ==========================\n+// // ==========================\n+// const uploadForm = document.getElementById(\"uploadForm\");\n+// if (uploadForm) {\n+//   uploadForm.addEventListener(\"submit\", (e) => {\n+//     e.preventDefault();\n+\n+//     // Always fetch current user\n+//     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n+//     if (!user) return alert(\"Please login first!\");\n+\n+//     const fileInput = document.getElementById(\"fileInput\");\n+//     const file = fileInput.files[0];\n+//     const caption = document.getElementById(\"caption\").value.trim();\n+\n+//     if (!file) return alert(\"Please select a file!\");\n+\n+//     const reader = new FileReader();\n+//     reader.onload = function() {\n+//       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+\n+//       // Detect type properly\n+//       let type = file.type.startsWith(\"image\") ? \"image\"\n+//                : file.type.startsWith(\"video\") ? \"video\"\n+//                : null;\n+\n+//       if (!type) {\n+//         const ext = file.name.split(\".\").pop().toLowerCase();\n+//         const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+//         const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+//         if (imgExts.includes(ext)) type = \"image\";\n+//         else if (vidExts.includes(ext)) type = \"video\";\n+//         else return alert(\"Unsupported file type!\");\n+//       }\n+\n+//       posts.unshift({\n+//         src: reader.result,\n+//         type,\n+//         caption,\n+//         user: user.name,\n+//         likes: 0,\n+//         time: new Date().toLocaleString(),\n+//       });\n+\n+//       localStorage.setItem(\"posts\", JSON.stringify(posts));\n+\n+//       // Only redirect **after** FileReader finishes\n+//       alert(\"Post uploaded successfully!\");\n+//       fileInput.value = \"\";\n+//       document.getElementById(\"caption\").value = \"\";\n+//       window.location.reload(); // safer than location.href\n+//     };\n+\n+//     reader.readAsDataURL(file);\n+//   });\n+// }\n+\n+\n+// ==========================\n+// RENDER POSTS\n+// ==========================\n+function renderPosts(targetId, onlyUser = false) {\n+  const el = document.getElementById(targetId);\n+  if (!el) return;\n+\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n+\n+  if (posts.length === 0) {\n+    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n+    return;\n+  }\n+\n+  el.innerHTML = posts\n+    .map(\n+      (p, i) => `\n+    <div class=\"card\">\n+      ${\n+        p.type.startsWith(\"image\")\n+          ? `<img src=\"${p.src}\" alt=\"post\" />`\n+          : `<video controls src=\"${p.src}\"></video>`\n+      }\n+      <div class=\"post-info\">\n+        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+        <small>${p.time}</small>\n+      </div>\n+      <div class=\"actions\">\n+        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+        <button onclick=\"sharePost(${i})\">üîó Share</button>\n+      </div>\n+    </div>\n+  `\n+    )\n+    .join(\"\");\n+}\n+\n+// LIKE\n+function likePost(i) {\n+  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  posts[i].likes = (posts[i].likes || 0) + 1;\n+  localStorage.setItem(\"posts\", JSON.stringify(posts));\n+  renderPosts(\"gallery\");\n+  renderPosts(\"userGallery\", true);\n+}\n+\n+// SHARE\n+function sharePost(i) {\n+  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+  navigator.clipboard.writeText(posts[i].src);\n+  alert(\"Post link copied!\");\n+}\n+\n+// Initial Renders\n+renderPosts(\"gallery\");\n+renderPosts(\"userGallery\", true);\n+\n+// ==========================\n+// DARK MODE\n+// ==========================\n+const toggleBtn = document.getElementById(\"modeToggle\");\n+if (toggleBtn) {\n+  const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n+  if (darkEnabled) {\n+    document.body.classList.add(\"dark\");\n+    toggleBtn.textContent = \"‚òÄÔ∏è\";\n+  }\n+\n+  toggleBtn.addEventListener(\"click\", () => {\n+    document.body.classList.toggle(\"dark\");\n+    const isDark = document.body.classList.contains(\"dark\");\n+    localStorage.setItem(\"dark\", isDark);\n+    toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n+  });\n+}\n"
                },
                {
                    "date": 1763065046127,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,68 +156,9 @@\n   });\n }\n \n \n-// // ==========================\n-// // UPLOAD POST\n-// // ==========================\n-// // ==========================\n-// const uploadForm = document.getElementById(\"uploadForm\");\n-// if (uploadForm) {\n-//   uploadForm.addEventListener(\"submit\", (e) => {\n-//     e.preventDefault();\n \n-//     // Always fetch current user\n-//     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n-//     if (!user) return alert(\"Please login first!\");\n-\n-//     const fileInput = document.getElementById(\"fileInput\");\n-//     const file = fileInput.files[0];\n-//     const caption = document.getElementById(\"caption\").value.trim();\n-\n-//     if (!file) return alert(\"Please select a file!\");\n-\n-//     const reader = new FileReader();\n-//     reader.onload = function() {\n-//       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-\n-//       // Detect type properly\n-//       let type = file.type.startsWith(\"image\") ? \"image\"\n-//                : file.type.startsWith(\"video\") ? \"video\"\n-//                : null;\n-\n-//       if (!type) {\n-//         const ext = file.name.split(\".\").pop().toLowerCase();\n-//         const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-//         const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-//         if (imgExts.includes(ext)) type = \"image\";\n-//         else if (vidExts.includes(ext)) type = \"video\";\n-//         else return alert(\"Unsupported file type!\");\n-//       }\n-\n-//       posts.unshift({\n-//         src: reader.result,\n-//         type,\n-//         caption,\n-//         user: user.name,\n-//         likes: 0,\n-//         time: new Date().toLocaleString(),\n-//       });\n-\n-//       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-\n-//       // Only redirect **after** FileReader finishes\n-//       alert(\"Post uploaded successfully!\");\n-//       fileInput.value = \"\";\n-//       document.getElementById(\"caption\").value = \"\";\n-//       window.location.reload(); // safer than location.href\n-//     };\n-\n-//     reader.readAsDataURL(file);\n-//   });\n-// }\n-\n-\n // ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n@@ -292,286 +233,4 @@\n     localStorage.setItem(\"dark\", isDark);\n     toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n   });\n }\n-// ==========================\n-// Global Script: global.js\n-// ==========================\n-\n-// Auth Area Setup\n-const authArea = document.getElementById(\"authArea\");\n-let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n-\n-// Render Authentication Area\n-function renderAuth() {\n-  if (!authArea) return;\n-\n-  if (user) {\n-    authArea.innerHTML = `\n-      <span class=\"username\">üë§ ${user.name}</span>\n-      <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n-    `;\n-  } else {\n-    authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n-  }\n-}\n-\n-// Logout Function\n-function logout() {\n-  localStorage.removeItem(\"currentUser\");\n-  location.href = \"signin.html\";\n-}\n-\n-renderAuth();\n-\n-// ==========================\n-// SIGN UP\n-// ==========================\n-const signupForm = document.getElementById(\"signupForm\");\n-if (signupForm) {\n-  signupForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-\n-    const name = document.getElementById(\"suName\").value.trim();\n-    const email = document.getElementById(\"suEmail\").value.trim();\n-    const pass = document.getElementById(\"suPass\").value.trim();\n-\n-    if (!name || !email || !pass) return alert(\"All fields are required!\");\n-\n-    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-\n-    if (users.find((u) => u.email === email))\n-      return alert(\"Email already exists!\");\n-\n-    const newUser = { name, email, pass };\n-    users.push(newUser);\n-\n-    localStorage.setItem(\"users\", JSON.stringify(users));\n-    localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n-\n-    alert(\"Signup successful!\");\n-    location.href = \"index.html\";\n-  });\n-}\n-\n-// ==========================\n-// SIGN IN\n-// ==========================\n-const signinForm = document.getElementById(\"signinForm\");\n-if (signinForm) {\n-  signinForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-\n-    const email = document.getElementById(\"siEmail\").value.trim();\n-    const pass = document.getElementById(\"siPass\").value.trim();\n-\n-    let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-    const found = users.find((u) => u.email === email && u.pass === pass);\n-\n-    if (!found) return alert(\"Invalid login credentials!\");\n-\n-    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n-    alert(\"Welcome back!\");\n-    location.href = \"index.html\";\n-  });\n-}\n-// ==========================\n-// UPLOAD POST\n-// ==========================\n-const uploadForm = document.getElementById(\"uploadForm\");\n-\n-if (uploadForm) {\n-  uploadForm.addEventListener(\"submit\", (e) => {\n-    e.preventDefault();\n-\n-    const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n-    if (!user) return alert(\"Please login first!\");\n-\n-    const fileInput = document.getElementById(\"fileInput\");\n-    const file = fileInput.files[0];\n-    const caption = document.getElementById(\"caption\").value.trim();\n-\n-    if (!file) return alert(\"Please select a file!\");\n-\n-    // Detect file type\n-    let type = file.type.startsWith(\"image\") ? \"image\"\n-             : file.type.startsWith(\"video\") ? \"video\"\n-             : null;\n-\n-    if (!type) {\n-      const ext = file.name.split(\".\").pop().toLowerCase();\n-      const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-      const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-      if (imgExts.includes(ext)) type = \"image\";\n-      else if (vidExts.includes(ext)) type = \"video\";\n-      else return alert(\"Unsupported file type!\");\n-    }\n-\n-    // Optional: max size 50MB\n-    const maxSizeMB = 50;\n-    if (file.size / (1024 * 1024) > maxSizeMB) {\n-      return alert(\"File too large! Max 50MB allowed.\");\n-    }\n-\n-    const reader = new FileReader();\n-    reader.onload = function() {\n-      let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-\n-      posts.unshift({\n-        src: reader.result, // base64 for both images and videos\n-        type,\n-        caption,\n-        user: user.name,\n-        likes: 0,\n-        time: new Date().toLocaleString(),\n-      });\n-\n-      localStorage.setItem(\"posts\", JSON.stringify(posts));\n-\n-      alert(\"Post uploaded successfully!\");\n-      fileInput.value = \"\";\n-      document.getElementById(\"caption\").value = \"\";\n-      window.location.reload();\n-    };\n-\n-    reader.readAsDataURL(file); // works for images & videos\n-  });\n-}\n-\n-\n-\n-// // ==========================\n-// // UPLOAD POST\n-// // ==========================\n-// // ==========================\n-// const uploadForm = document.getElementById(\"uploadForm\");\n-// if (uploadForm) {\n-//   uploadForm.addEventListener(\"submit\", (e) => {\n-//     e.preventDefault();\n-\n-//     // Always fetch current user\n-//     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n-//     if (!user) return alert(\"Please login first!\");\n-\n-//     const fileInput = document.getElementById(\"fileInput\");\n-//     const file = fileInput.files[0];\n-//     const caption = document.getElementById(\"caption\").value.trim();\n-\n-//     if (!file) return alert(\"Please select a file!\");\n-\n-//     const reader = new FileReader();\n-//     reader.onload = function() {\n-//       let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-\n-//       // Detect type properly\n-//       let type = file.type.startsWith(\"image\") ? \"image\"\n-//                : file.type.startsWith(\"video\") ? \"video\"\n-//                : null;\n-\n-//       if (!type) {\n-//         const ext = file.name.split(\".\").pop().toLowerCase();\n-//         const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-//         const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-//         if (imgExts.includes(ext)) type = \"image\";\n-//         else if (vidExts.includes(ext)) type = \"video\";\n-//         else return alert(\"Unsupported file type!\");\n-//       }\n-\n-//       posts.unshift({\n-//         src: reader.result,\n-//         type,\n-//         caption,\n-//         user: user.name,\n-//         likes: 0,\n-//         time: new Date().toLocaleString(),\n-//       });\n-\n-//       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-\n-//       // Only redirect **after** FileReader finishes\n-//       alert(\"Post uploaded successfully!\");\n-//       fileInput.value = \"\";\n-//       document.getElementById(\"caption\").value = \"\";\n-//       window.location.reload(); // safer than location.href\n-//     };\n-\n-//     reader.readAsDataURL(file);\n-//   });\n-// }\n-\n-\n-// ==========================\n-// RENDER POSTS\n-// ==========================\n-function renderPosts(targetId, onlyUser = false) {\n-  const el = document.getElementById(targetId);\n-  if (!el) return;\n-\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n-\n-  if (posts.length === 0) {\n-    el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n-    return;\n-  }\n-\n-  el.innerHTML = posts\n-    .map(\n-      (p, i) => `\n-    <div class=\"card\">\n-      ${\n-        p.type.startsWith(\"image\")\n-          ? `<img src=\"${p.src}\" alt=\"post\" />`\n-          : `<video controls src=\"${p.src}\"></video>`\n-      }\n-      <div class=\"post-info\">\n-        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-        <small>${p.time}</small>\n-      </div>\n-      <div class=\"actions\">\n-        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-        <button onclick=\"sharePost(${i})\">üîó Share</button>\n-      </div>\n-    </div>\n-  `\n-    )\n-    .join(\"\");\n-}\n-\n-// LIKE\n-function likePost(i) {\n-  let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  posts[i].likes = (posts[i].likes || 0) + 1;\n-  localStorage.setItem(\"posts\", JSON.stringify(posts));\n-  renderPosts(\"gallery\");\n-  renderPosts(\"userGallery\", true);\n-}\n-\n-// SHARE\n-function sharePost(i) {\n-  const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-  navigator.clipboard.writeText(posts[i].src);\n-  alert(\"Post link copied!\");\n-}\n-\n-// Initial Renders\n-renderPosts(\"gallery\");\n-renderPosts(\"userGallery\", true);\n-\n-// ==========================\n-// DARK MODE\n-// ==========================\n-const toggleBtn = document.getElementById(\"modeToggle\");\n-if (toggleBtn) {\n-  const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n-  if (darkEnabled) {\n-    document.body.classList.add(\"dark\");\n-    toggleBtn.textContent = \"‚òÄÔ∏è\";\n-  }\n-\n-  toggleBtn.addEventListener(\"click\", () => {\n-    document.body.classList.toggle(\"dark\");\n-    const isDark = document.body.classList.contains(\"dark\");\n-    localStorage.setItem(\"dark\", isDark);\n-    toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n-  });\n-}\n"
                },
                {
                    "date": 1763065142883,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,14 @@\n // ==========================\n // Global Script: global.js\n // ==========================\n \n-// Auth Area Setup\n+// --------------------------\n+// AUTH AREA\n+// --------------------------\n const authArea = document.getElementById(\"authArea\");\n let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n \n-// Render Authentication Area\n function renderAuth() {\n   if (!authArea) return;\n \n   if (user) {\n@@ -19,9 +20,8 @@\n     authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n   }\n }\n \n-// Logout Function\n function logout() {\n   localStorage.removeItem(\"currentUser\");\n   location.href = \"signin.html\";\n }\n@@ -34,20 +34,16 @@\n const signupForm = document.getElementById(\"signupForm\");\n if (signupForm) {\n   signupForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n-\n     const name = document.getElementById(\"suName\").value.trim();\n     const email = document.getElementById(\"suEmail\").value.trim();\n     const pass = document.getElementById(\"suPass\").value.trim();\n-\n     if (!name || !email || !pass) return alert(\"All fields are required!\");\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+    if (users.find((u) => u.email === email)) return alert(\"Email already exists!\");\n \n-    if (users.find((u) => u.email === email))\n-      return alert(\"Email already exists!\");\n-\n     const newUser = { name, email, pass };\n     users.push(newUser);\n \n     localStorage.setItem(\"users\", JSON.stringify(users));\n@@ -64,45 +60,42 @@\n const signinForm = document.getElementById(\"signinForm\");\n if (signinForm) {\n   signinForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n-\n     const email = document.getElementById(\"siEmail\").value.trim();\n     const pass = document.getElementById(\"siPass\").value.trim();\n \n     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n     const found = users.find((u) => u.email === email && u.pass === pass);\n \n     if (!found) return alert(\"Invalid login credentials!\");\n+    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n \n-    localStorage.setItem(\"currentUser\", JSON.stringify(found));\n     alert(\"Welcome back!\");\n     location.href = \"index.html\";\n   });\n }\n+\n // ==========================\n // UPLOAD POST\n // ==========================\n const uploadForm = document.getElementById(\"uploadForm\");\n if (uploadForm) {\n   uploadForm.addEventListener(\"submit\", (e) => {\n     e.preventDefault();\n \n-    // Always fetch current user\n     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n     if (!user) return alert(\"Please login first!\");\n \n     const fileInput = document.getElementById(\"fileInput\");\n     const file = fileInput.files[0];\n     const caption = document.getElementById(\"caption\").value.trim();\n-\n     if (!file) return alert(\"Please select a file!\");\n \n-    // Check file type properly\n+    // Detect file type\n     let type = file.type.startsWith(\"image\") ? \"image\"\n              : file.type.startsWith(\"video\") ? \"video\"\n              : null;\n-\n     if (!type) {\n       const ext = file.name.split(\".\").pop().toLowerCase();\n       const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n       const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n@@ -110,13 +103,10 @@\n       else if (vidExts.includes(ext)) type = \"video\";\n       else return alert(\"Unsupported file type!\");\n     }\n \n-    // Optional: Max size 50MB\n     const maxSizeMB = 50;\n-    if (file.size / (1024 * 1024) > maxSizeMB) {\n-      return alert(\"File too large! Max 50MB allowed.\");\n-    }\n+    if (file.size / (1024 * 1024) > maxSizeMB) return alert(\"File too large! Max 50MB allowed.\");\n \n     let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n \n     if (type === \"image\") {\n@@ -130,35 +120,35 @@\n           likes: 0,\n           time: new Date().toLocaleString(),\n         });\n         localStorage.setItem(\"posts\", JSON.stringify(posts));\n-        alert(\"Post uploaded successfully!\");\n+        alert(\"Image uploaded successfully!\");\n         fileInput.value = \"\";\n         document.getElementById(\"caption\").value = \"\";\n-        window.location.reload();\n+        renderPosts(\"gallery\");\n+        renderPosts(\"userGallery\", true);\n       };\n       reader.readAsDataURL(file);\n     } else if (type === \"video\") {\n-      // Use URL.createObjectURL for videos\n+      const videoURL = URL.createObjectURL(file);\n       posts.unshift({\n-        src: URL.createObjectURL(file),\n+        src: videoURL,\n         type,\n         caption,\n         user: user.name,\n         likes: 0,\n         time: new Date().toLocaleString(),\n       });\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Post uploaded successfully!\");\n+      alert(\"Video uploaded successfully!\");\n       fileInput.value = \"\";\n       document.getElementById(\"caption\").value = \"\";\n-      window.location.reload();\n+      renderPosts(\"gallery\");\n+      renderPosts(\"userGallery\", true);\n     }\n   });\n }\n \n-\n-\n // ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n@@ -175,50 +165,47 @@\n \n   el.innerHTML = posts\n     .map(\n       (p, i) => `\n-    <div class=\"card\">\n-      ${\n-        p.type.startsWith(\"image\")\n-          ? `<img src=\"${p.src}\" alt=\"post\" />`\n-          : `<video controls src=\"${p.src}\"></video>`\n-      }\n-      <div class=\"post-info\">\n-        <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-        <small>${p.time}</small>\n+      <div class=\"card\">\n+        ${\n+          p.type === \"image\"\n+            ? `<img src=\"${p.src}\" alt=\"post\" />`\n+            : `<video controls src=\"${p.src}\"></video>`\n+        }\n+        <div class=\"post-info\">\n+          <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+          <small>${p.time}</small>\n+        </div>\n+        <div class=\"actions\">\n+          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+          <button onclick=\"sharePost(${i})\">üîó Share</button>\n+        </div>\n       </div>\n-      <div class=\"actions\">\n-        <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-        <button onclick=\"sharePost(${i})\">üîó Share</button>\n-      </div>\n-    </div>\n-  `\n+    `\n     )\n     .join(\"\");\n }\n \n-// LIKE\n+// ==========================\n+// LIKE / SHARE\n+// ==========================\n function likePost(i) {\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   posts[i].likes = (posts[i].likes || 0) + 1;\n   localStorage.setItem(\"posts\", JSON.stringify(posts));\n   renderPosts(\"gallery\");\n   renderPosts(\"userGallery\", true);\n }\n \n-// SHARE\n function sharePost(i) {\n   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n   navigator.clipboard.writeText(posts[i].src);\n   alert(\"Post link copied!\");\n }\n \n-// Initial Renders\n-renderPosts(\"gallery\");\n-renderPosts(\"userGallery\", true);\n-\n // ==========================\n-// DARK MODE\n+// DARK MODE TOGGLE\n // ==========================\n const toggleBtn = document.getElementById(\"modeToggle\");\n if (toggleBtn) {\n   const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n@@ -233,4 +220,248 @@\n     localStorage.setItem(\"dark\", isDark);\n     toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n   });\n }\n+\n+// ==========================\n+// INITIAL RENDER\n+// ==========================\n+renderPosts(\"gallery\");\n+renderPosts(\"userGallery\", true);\n+\n+\n+// // ==========================\n+// // Global Script: global.js\n+// // ==========================\n+\n+// // Auth Area Setup\n+// const authArea = document.getElementById(\"authArea\");\n+// let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n+\n+// // Render Authentication Area\n+// function renderAuth() {\n+//   if (!authArea) return;\n+\n+//   if (user) {\n+//     authArea.innerHTML = `\n+//       <span class=\"username\">üë§ ${user.name}</span>\n+//       <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n+//     `;\n+//   } else {\n+//     authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n+//   }\n+// }\n+\n+// // Logout Function\n+// function logout() {\n+//   localStorage.removeItem(\"currentUser\");\n+//   location.href = \"signin.html\";\n+// }\n+\n+// renderAuth();\n+\n+// // ==========================\n+// // SIGN UP\n+// // ==========================\n+// const signupForm = document.getElementById(\"signupForm\");\n+// if (signupForm) {\n+//   signupForm.addEventListener(\"submit\", (e) => {\n+//     e.preventDefault();\n+\n+//     const name = document.getElementById(\"suName\").value.trim();\n+//     const email = document.getElementById(\"suEmail\").value.trim();\n+//     const pass = document.getElementById(\"suPass\").value.trim();\n+\n+//     if (!name || !email || !pass) return alert(\"All fields are required!\");\n+\n+//     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+\n+//     if (users.find((u) => u.email === email))\n+//       return alert(\"Email already exists!\");\n+\n+//     const newUser = { name, email, pass };\n+//     users.push(newUser);\n+\n+//     localStorage.setItem(\"users\", JSON.stringify(users));\n+//     localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n+\n+//     alert(\"Signup successful!\");\n+//     location.href = \"index.html\";\n+//   });\n+// }\n+\n+// // ==========================\n+// // SIGN IN\n+// // ==========================\n+// const signinForm = document.getElementById(\"signinForm\");\n+// if (signinForm) {\n+//   signinForm.addEventListener(\"submit\", (e) => {\n+//     e.preventDefault();\n+\n+//     const email = document.getElementById(\"siEmail\").value.trim();\n+//     const pass = document.getElementById(\"siPass\").value.trim();\n+\n+//     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n+//     const found = users.find((u) => u.email === email && u.pass === pass);\n+\n+//     if (!found) return alert(\"Invalid login credentials!\");\n+\n+//     localStorage.setItem(\"currentUser\", JSON.stringify(found));\n+//     alert(\"Welcome back!\");\n+//     location.href = \"index.html\";\n+//   });\n+// }\n+// // ==========================\n+// // UPLOAD POST\n+// // ==========================\n+// const uploadForm = document.getElementById(\"uploadForm\");\n+// if (uploadForm) {\n+//   uploadForm.addEventListener(\"submit\", (e) => {\n+//     e.preventDefault();\n+\n+//     // Always fetch current user\n+//     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n+//     if (!user) return alert(\"Please login first!\");\n+\n+//     const fileInput = document.getElementById(\"fileInput\");\n+//     const file = fileInput.files[0];\n+//     const caption = document.getElementById(\"caption\").value.trim();\n+\n+//     if (!file) return alert(\"Please select a file!\");\n+\n+//     // Check file type properly\n+//     let type = file.type.startsWith(\"image\") ? \"image\"\n+//              : file.type.startsWith(\"video\") ? \"video\"\n+//              : null;\n+\n+//     if (!type) {\n+//       const ext = file.name.split(\".\").pop().toLowerCase();\n+//       const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n+//       const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n+//       if (imgExts.includes(ext)) type = \"image\";\n+//       else if (vidExts.includes(ext)) type = \"video\";\n+//       else return alert(\"Unsupported file type!\");\n+//     }\n+\n+//     // Optional: Max size 50MB\n+//     const maxSizeMB = 50;\n+//     if (file.size / (1024 * 1024) > maxSizeMB) {\n+//       return alert(\"File too large! Max 50MB allowed.\");\n+//     }\n+\n+//     let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+\n+//     if (type === \"image\") {\n+//       const reader = new FileReader();\n+//       reader.onload = function() {\n+//         posts.unshift({\n+//           src: reader.result,\n+//           type,\n+//           caption,\n+//           user: user.name,\n+//           likes: 0,\n+//           time: new Date().toLocaleString(),\n+//         });\n+//         localStorage.setItem(\"posts\", JSON.stringify(posts));\n+//         alert(\"Post uploaded successfully!\");\n+//         fileInput.value = \"\";\n+//         document.getElementById(\"caption\").value = \"\";\n+//         window.location.reload();\n+//       };\n+//       reader.readAsDataURL(file);\n+//     } else if (type === \"video\") {\n+//       // Use URL.createObjectURL for videos\n+//       posts.unshift({\n+//         src: URL.createObjectURL(file),\n+//         type,\n+//         caption,\n+//         user: user.name,\n+//         likes: 0,\n+//         time: new Date().toLocaleString(),\n+//       });\n+//       localStorage.setItem(\"posts\", JSON.stringify(posts));\n+//       alert(\"Post uploaded successfully!\");\n+//       fileInput.value = \"\";\n+//       document.getElementById(\"caption\").value = \"\";\n+//       window.location.reload();\n+//     }\n+//   });\n+// }\n+\n+\n+\n+// // ==========================\n+// // RENDER POSTS\n+// // ==========================\n+// function renderPosts(targetId, onlyUser = false) {\n+//   const el = document.getElementById(targetId);\n+//   if (!el) return;\n+\n+//   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+//   if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n+\n+//   if (posts.length === 0) {\n+//     el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n+//     return;\n+//   }\n+\n+//   el.innerHTML = posts\n+//     .map(\n+//       (p, i) => `\n+//     <div class=\"card\">\n+//       ${\n+//         p.type.startsWith(\"image\")\n+//           ? `<img src=\"${p.src}\" alt=\"post\" />`\n+//           : `<video controls src=\"${p.src}\"></video>`\n+//       }\n+//       <div class=\"post-info\">\n+//         <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n+//         <small>${p.time}</small>\n+//       </div>\n+//       <div class=\"actions\">\n+//         <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+//         <button onclick=\"sharePost(${i})\">üîó Share</button>\n+//       </div>\n+//     </div>\n+//   `\n+//     )\n+//     .join(\"\");\n+// }\n+\n+// // LIKE\n+// function likePost(i) {\n+//   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+//   posts[i].likes = (posts[i].likes || 0) + 1;\n+//   localStorage.setItem(\"posts\", JSON.stringify(posts));\n+//   renderPosts(\"gallery\");\n+//   renderPosts(\"userGallery\", true);\n+// }\n+\n+// // SHARE\n+// function sharePost(i) {\n+//   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+//   navigator.clipboard.writeText(posts[i].src);\n+//   alert(\"Post link copied!\");\n+// }\n+\n+// // Initial Renders\n+// renderPosts(\"gallery\");\n+// renderPosts(\"userGallery\", true);\n+\n+// // ==========================\n+// // DARK MODE\n+// // ==========================\n+// const toggleBtn = document.getElementById(\"modeToggle\");\n+// if (toggleBtn) {\n+//   const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n+//   if (darkEnabled) {\n+//     document.body.classList.add(\"dark\");\n+//     toggleBtn.textContent = \"‚òÄÔ∏è\";\n+//   }\n+\n+//   toggleBtn.addEventListener(\"click\", () => {\n+//     document.body.classList.toggle(\"dark\");\n+//     const isDark = document.body.classList.contains(\"dark\");\n+//     localStorage.setItem(\"dark\", isDark);\n+//     toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n+//   });\n+// }\n"
                },
                {
                    "date": 1763065697067,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -226,242 +226,4 @@\n // INITIAL RENDER\n // ==========================\n renderPosts(\"gallery\");\n renderPosts(\"userGallery\", true);\n-\n-\n-// // ==========================\n-// // Global Script: global.js\n-// // ==========================\n-\n-// // Auth Area Setup\n-// const authArea = document.getElementById(\"authArea\");\n-// let user = JSON.parse(localStorage.getItem(\"currentUser\")) || null;\n-\n-// // Render Authentication Area\n-// function renderAuth() {\n-//   if (!authArea) return;\n-\n-//   if (user) {\n-//     authArea.innerHTML = `\n-//       <span class=\"username\">üë§ ${user.name}</span>\n-//       <button onclick=\"logout()\" class=\"logout-btn\">Logout</button>\n-//     `;\n-//   } else {\n-//     authArea.innerHTML = `<a href=\"signin.html\" class=\"signin-link\">Sign In</a>`;\n-//   }\n-// }\n-\n-// // Logout Function\n-// function logout() {\n-//   localStorage.removeItem(\"currentUser\");\n-//   location.href = \"signin.html\";\n-// }\n-\n-// renderAuth();\n-\n-// // ==========================\n-// // SIGN UP\n-// // ==========================\n-// const signupForm = document.getElementById(\"signupForm\");\n-// if (signupForm) {\n-//   signupForm.addEventListener(\"submit\", (e) => {\n-//     e.preventDefault();\n-\n-//     const name = document.getElementById(\"suName\").value.trim();\n-//     const email = document.getElementById(\"suEmail\").value.trim();\n-//     const pass = document.getElementById(\"suPass\").value.trim();\n-\n-//     if (!name || !email || !pass) return alert(\"All fields are required!\");\n-\n-//     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-\n-//     if (users.find((u) => u.email === email))\n-//       return alert(\"Email already exists!\");\n-\n-//     const newUser = { name, email, pass };\n-//     users.push(newUser);\n-\n-//     localStorage.setItem(\"users\", JSON.stringify(users));\n-//     localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\n-\n-//     alert(\"Signup successful!\");\n-//     location.href = \"index.html\";\n-//   });\n-// }\n-\n-// // ==========================\n-// // SIGN IN\n-// // ==========================\n-// const signinForm = document.getElementById(\"signinForm\");\n-// if (signinForm) {\n-//   signinForm.addEventListener(\"submit\", (e) => {\n-//     e.preventDefault();\n-\n-//     const email = document.getElementById(\"siEmail\").value.trim();\n-//     const pass = document.getElementById(\"siPass\").value.trim();\n-\n-//     let users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n-//     const found = users.find((u) => u.email === email && u.pass === pass);\n-\n-//     if (!found) return alert(\"Invalid login credentials!\");\n-\n-//     localStorage.setItem(\"currentUser\", JSON.stringify(found));\n-//     alert(\"Welcome back!\");\n-//     location.href = \"index.html\";\n-//   });\n-// }\n-// // ==========================\n-// // UPLOAD POST\n-// // ==========================\n-// const uploadForm = document.getElementById(\"uploadForm\");\n-// if (uploadForm) {\n-//   uploadForm.addEventListener(\"submit\", (e) => {\n-//     e.preventDefault();\n-\n-//     // Always fetch current user\n-//     const user = JSON.parse(localStorage.getItem(\"currentUser\"));\n-//     if (!user) return alert(\"Please login first!\");\n-\n-//     const fileInput = document.getElementById(\"fileInput\");\n-//     const file = fileInput.files[0];\n-//     const caption = document.getElementById(\"caption\").value.trim();\n-\n-//     if (!file) return alert(\"Please select a file!\");\n-\n-//     // Check file type properly\n-//     let type = file.type.startsWith(\"image\") ? \"image\"\n-//              : file.type.startsWith(\"video\") ? \"video\"\n-//              : null;\n-\n-//     if (!type) {\n-//       const ext = file.name.split(\".\").pop().toLowerCase();\n-//       const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n-//       const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n-//       if (imgExts.includes(ext)) type = \"image\";\n-//       else if (vidExts.includes(ext)) type = \"video\";\n-//       else return alert(\"Unsupported file type!\");\n-//     }\n-\n-//     // Optional: Max size 50MB\n-//     const maxSizeMB = 50;\n-//     if (file.size / (1024 * 1024) > maxSizeMB) {\n-//       return alert(\"File too large! Max 50MB allowed.\");\n-//     }\n-\n-//     let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-\n-//     if (type === \"image\") {\n-//       const reader = new FileReader();\n-//       reader.onload = function() {\n-//         posts.unshift({\n-//           src: reader.result,\n-//           type,\n-//           caption,\n-//           user: user.name,\n-//           likes: 0,\n-//           time: new Date().toLocaleString(),\n-//         });\n-//         localStorage.setItem(\"posts\", JSON.stringify(posts));\n-//         alert(\"Post uploaded successfully!\");\n-//         fileInput.value = \"\";\n-//         document.getElementById(\"caption\").value = \"\";\n-//         window.location.reload();\n-//       };\n-//       reader.readAsDataURL(file);\n-//     } else if (type === \"video\") {\n-//       // Use URL.createObjectURL for videos\n-//       posts.unshift({\n-//         src: URL.createObjectURL(file),\n-//         type,\n-//         caption,\n-//         user: user.name,\n-//         likes: 0,\n-//         time: new Date().toLocaleString(),\n-//       });\n-//       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-//       alert(\"Post uploaded successfully!\");\n-//       fileInput.value = \"\";\n-//       document.getElementById(\"caption\").value = \"\";\n-//       window.location.reload();\n-//     }\n-//   });\n-// }\n-\n-\n-\n-// // ==========================\n-// // RENDER POSTS\n-// // ==========================\n-// function renderPosts(targetId, onlyUser = false) {\n-//   const el = document.getElementById(targetId);\n-//   if (!el) return;\n-\n-//   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-//   if (onlyUser && user) posts = posts.filter((p) => p.user === user.name);\n-\n-//   if (posts.length === 0) {\n-//     el.innerHTML = \"<p class='no-posts'>No posts yet!</p>\";\n-//     return;\n-//   }\n-\n-//   el.innerHTML = posts\n-//     .map(\n-//       (p, i) => `\n-//     <div class=\"card\">\n-//       ${\n-//         p.type.startsWith(\"image\")\n-//           ? `<img src=\"${p.src}\" alt=\"post\" />`\n-//           : `<video controls src=\"${p.src}\"></video>`\n-//       }\n-//       <div class=\"post-info\">\n-//         <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n-//         <small>${p.time}</small>\n-//       </div>\n-//       <div class=\"actions\">\n-//         <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n-//         <button onclick=\"sharePost(${i})\">üîó Share</button>\n-//       </div>\n-//     </div>\n-//   `\n-//     )\n-//     .join(\"\");\n-// }\n-\n-// // LIKE\n-// function likePost(i) {\n-//   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-//   posts[i].likes = (posts[i].likes || 0) + 1;\n-//   localStorage.setItem(\"posts\", JSON.stringify(posts));\n-//   renderPosts(\"gallery\");\n-//   renderPosts(\"userGallery\", true);\n-// }\n-\n-// // SHARE\n-// function sharePost(i) {\n-//   const posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n-//   navigator.clipboard.writeText(posts[i].src);\n-//   alert(\"Post link copied!\");\n-// }\n-\n-// // Initial Renders\n-// renderPosts(\"gallery\");\n-// renderPosts(\"userGallery\", true);\n-\n-// // ==========================\n-// // DARK MODE\n-// // ==========================\n-// const toggleBtn = document.getElementById(\"modeToggle\");\n-// if (toggleBtn) {\n-//   const darkEnabled = localStorage.getItem(\"dark\") === \"true\";\n-//   if (darkEnabled) {\n-//     document.body.classList.add(\"dark\");\n-//     toggleBtn.textContent = \"‚òÄÔ∏è\";\n-//   }\n-\n-//   toggleBtn.addEventListener(\"click\", () => {\n-//     document.body.classList.toggle(\"dark\");\n-//     const isDark = document.body.classList.contains(\"dark\");\n-//     localStorage.setItem(\"dark\", isDark);\n-//     toggleBtn.textContent = isDark ? \"‚òÄÔ∏è\" : \"üåô\";\n-//   });\n-// }\n"
                },
                {
                    "date": 1763065992963,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,8 +145,10 @@\n       renderPosts(\"gallery\");\n       renderPosts(\"userGallery\", true);\n     }\n   });\n+    reader.readAsDataURL(file); // works for images & videos\n+\n }\n \n // ==========================\n // RENDER POSTS\n"
                },
                {
                    "date": 1763066124768,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,12 +90,13 @@\n     const file = fileInput.files[0];\n     const caption = document.getElementById(\"caption\").value.trim();\n     if (!file) return alert(\"Please select a file!\");\n \n-    // Detect file type\n+    // Detect type\n     let type = file.type.startsWith(\"image\") ? \"image\"\n              : file.type.startsWith(\"video\") ? \"video\"\n              : null;\n+\n     if (!type) {\n       const ext = file.name.split(\".\").pop().toLowerCase();\n       const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n       const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n@@ -108,47 +109,28 @@\n     if (file.size / (1024 * 1024) > maxSizeMB) return alert(\"File too large! Max 50MB allowed.\");\n \n     let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n \n-    if (type === \"image\") {\n-      const reader = new FileReader();\n-      reader.onload = function() {\n-        posts.unshift({\n-          src: reader.result,\n-          type,\n-          caption,\n-          user: user.name,\n-          likes: 0,\n-          time: new Date().toLocaleString(),\n-        });\n-        localStorage.setItem(\"posts\", JSON.stringify(posts));\n-        alert(\"Image uploaded successfully!\");\n-        fileInput.value = \"\";\n-        document.getElementById(\"caption\").value = \"\";\n-        renderPosts(\"gallery\");\n-        renderPosts(\"userGallery\", true);\n-      };\n-      reader.readAsDataURL(file);\n-    } else if (type === \"video\") {\n-      const videoURL = URL.createObjectURL(file);\n+    // Use FileReader for BOTH images & videos\n+    const reader = new FileReader();\n+    reader.onload = function() {\n       posts.unshift({\n-        src: videoURL,\n+        src: reader.result, // base64\n         type,\n         caption,\n         user: user.name,\n         likes: 0,\n         time: new Date().toLocaleString(),\n       });\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(\"Video uploaded successfully!\");\n+      alert(`${type === \"image\" ? \"Image\" : \"Video\"} uploaded successfully!`);\n       fileInput.value = \"\";\n       document.getElementById(\"caption\").value = \"\";\n       renderPosts(\"gallery\");\n       renderPosts(\"userGallery\", true);\n-    }\n+    };\n+    reader.readAsDataURL(file);\n   });\n-    reader.readAsDataURL(file); // works for images & videos\n-\n }\n \n // ==========================\n // RENDER POSTS\n"
                },
                {
                    "date": 1763066179026,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,13 +90,12 @@\n     const file = fileInput.files[0];\n     const caption = document.getElementById(\"caption\").value.trim();\n     if (!file) return alert(\"Please select a file!\");\n \n-    // Detect type\n+    // Detect file type\n     let type = file.type.startsWith(\"image\") ? \"image\"\n              : file.type.startsWith(\"video\") ? \"video\"\n              : null;\n-\n     if (!type) {\n       const ext = file.name.split(\".\").pop().toLowerCase();\n       const imgExts = [\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\"];\n       const vidExts = [\"mp4\",\"mov\",\"webm\",\"ogg\"];\n@@ -109,28 +108,46 @@\n     if (file.size / (1024 * 1024) > maxSizeMB) return alert(\"File too large! Max 50MB allowed.\");\n \n     let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n \n-    // Use FileReader for BOTH images & videos\n-    const reader = new FileReader();\n-    reader.onload = function() {\n+    if (type === \"image\") {\n+      const reader = new FileReader();\n+      reader.onload = function() {\n+        posts.unshift({\n+          src: reader.result,\n+          type,\n+          caption,\n+          user: user.name,\n+          likes: 0,\n+          time: new Date().toLocaleString(),\n+        });\n+        localStorage.setItem(\"posts\", JSON.stringify(posts));\n+        alert(\"Image uploaded successfully!\");\n+        fileInput.value = \"\";\n+        document.getElementById(\"caption\").value = \"\";\n+        renderPosts(\"gallery\");\n+        renderPosts(\"userGallery\", true);\n+      };\n+      reader.readAsDataURL(file);\n+    } else if (type === \"video\") {\n+      const videoURL = URL.createObjectURL(file);\n       posts.unshift({\n-        src: reader.result, // base64\n+        src: videoURL,\n         type,\n         caption,\n         user: user.name,\n         likes: 0,\n         time: new Date().toLocaleString(),\n       });\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n-      alert(`${type === \"image\" ? \"Image\" : \"Video\"} uploaded successfully!`);\n+      alert(\"Video uploaded successfully!\");\n       fileInput.value = \"\";\n       document.getElementById(\"caption\").value = \"\";\n       renderPosts(\"gallery\");\n       renderPosts(\"userGallery\", true);\n-    };\n-    reader.readAsDataURL(file);\n+    }\n   });\n+  \n }\n \n // ==========================\n // RENDER POSTS\n"
                },
                {
                    "date": 1763066370864,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,12 +145,22 @@\n       renderPosts(\"gallery\");\n       renderPosts(\"userGallery\", true);\n     }\n   });\n-  \n }\n \n // ==========================\n+// HELPER: VIDEO MIME TYPE\n+// ==========================\n+function getVideoType(url) {\n+  const ext = url.split('.').pop().toLowerCase();\n+  if (ext.includes('mp4')) return 'mp4';\n+  if (ext.includes('webm')) return 'webm';\n+  if (ext.includes('ogg')) return 'ogg';\n+  return 'mp4'; // fallback\n+}\n+\n+// ==========================\n // RENDER POSTS\n // ==========================\n function renderPosts(targetId, onlyUser = false) {\n   const el = document.getElementById(targetId);\n@@ -164,15 +174,17 @@\n     return;\n   }\n \n   el.innerHTML = posts\n-    .map(\n-      (p, i) => `\n+    .map((p, i) => `\n       <div class=\"card\">\n         ${\n           p.type === \"image\"\n             ? `<img src=\"${p.src}\" alt=\"post\" />`\n-            : `<video controls src=\"${p.src}\"></video>`\n+            : `<video controls>\n+                 <source src=\"${p.src}\" type=\"video/${getVideoType(p.src)}\">\n+                 Your browser does not support the video tag.\n+               </video>`\n         }\n         <div class=\"post-info\">\n           <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n           <small>${p.time}</small>\n@@ -181,11 +193,9 @@\n           <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n           <button onclick=\"sharePost(${i})\">üîó Share</button>\n         </div>\n       </div>\n-    `\n-    )\n-    .join(\"\");\n+    `).join('');\n }\n \n // ==========================\n // LIKE / SHARE\n"
                },
                {
                    "date": 1763416449437,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -117,8 +117,9 @@\n           type,\n           caption,\n           user: user.name,\n           likes: 0,\n+          likedBy: [],\n           time: new Date().toLocaleString(),\n         });\n         localStorage.setItem(\"posts\", JSON.stringify(posts));\n         alert(\"Image uploaded successfully!\");\n@@ -135,8 +136,9 @@\n         type,\n         caption,\n         user: user.name,\n         likes: 0,\n+        likedBy: [],\n         time: new Date().toLocaleString(),\n       });\n       localStorage.setItem(\"posts\", JSON.stringify(posts));\n       alert(\"Video uploaded successfully!\");\n@@ -174,9 +176,11 @@\n     return;\n   }\n \n   el.innerHTML = posts\n-    .map((p, i) => `\n+    .map((p, i) => {\n+      const alreadyLiked = user && p.likedBy && p.likedBy.includes(user.name);\n+      return `\n       <div class=\"card\">\n         ${\n           p.type === \"image\"\n             ? `<img src=\"${p.src}\" alt=\"post\" />`\n@@ -189,21 +193,34 @@\n           <p><b>${p.user}</b> ‚Äî ${p.caption || \"\"}</p>\n           <small>${p.time}</small>\n         </div>\n         <div class=\"actions\">\n-          <button onclick=\"likePost(${i})\">‚ù§Ô∏è ${p.likes || 0}</button>\n+          <button onclick=\"likePost(${i})\" ${alreadyLiked ? \"disabled\" : \"\"}>‚ù§Ô∏è ${p.likes || 0}</button>\n           <button onclick=\"sharePost(${i})\">üîó Share</button>\n         </div>\n       </div>\n-    `).join('');\n+      `;\n+    }).join('');\n }\n \n // ==========================\n // LIKE / SHARE\n // ==========================\n function likePost(i) {\n+  const currentUser = JSON.parse(localStorage.getItem(\"currentUser\"));\n+  if (!currentUser) return alert(\"Please login first!\");\n+\n   let posts = JSON.parse(localStorage.getItem(\"posts\") || \"[]\");\n+\n+  if (!posts[i].likedBy) posts[i].likedBy = [];\n+\n+  if (posts[i].likedBy.includes(currentUser.name)) {\n+    return alert(\"You can only like this post once!\");\n+  }\n+\n+  posts[i].likedBy.push(currentUser.name);\n   posts[i].likes = (posts[i].likes || 0) + 1;\n+\n   localStorage.setItem(\"posts\", JSON.stringify(posts));\n   renderPosts(\"gallery\");\n   renderPosts(\"userGallery\", true);\n }\n"
                }
            ],
            "date": 1763060335402,
            "name": "Commit-0",
            "content": "// ========== AUTH + POSTS + DARK MODE ==========\nconst authArea = document.getElementById('authArea');\nconst user = JSON.parse(localStorage.getItem('currentUser'));\n\n// Render Auth UI\nfunction renderAuth(){\n  if(!authArea) return;\n  if(user){\n    authArea.innerHTML = `<span>${user.name}</span> <button onclick=\"logout()\">Logout</button>`;\n  } else {\n    authArea.innerHTML = `<a href='signin.html'>Sign In</a>`;\n  }\n}\nfunction logout(){\n  localStorage.removeItem('currentUser');\n  location.href='signin.html';\n}\nrenderAuth();\n\n// ========== SIGNUP ==========\nconst signupForm = document.getElementById('signupForm');\nif(signupForm){\n  signupForm.addEventListener('submit', e=>{\n    e.preventDefault();\n    const name = document.getElementById('suName').value;\n    const email = document.getElementById('suEmail').value;\n    const pass = document.getElementById('suPass').value;\n\n    let users = JSON.parse(localStorage.getItem('users') || '[]');\n    if(users.find(u=>u.email === email)) return alert('Email already exists');\n\n    const newUser = {name,email,pass};\n    users.push(newUser);\n    localStorage.setItem('users', JSON.stringify(users));\n    localStorage.setItem('currentUser', JSON.stringify(newUser));\n    location.href = 'index.html';\n  });\n}\n\n// ========== SIGNIN ==========\nconst signinForm = document.getElementById('signinForm');\nif(signinForm){\n  signinForm.addEventListener('submit', e=>{\n    e.preventDefault();\n    const email = document.getElementById('siEmail').value;\n    const pass = document.getElementById('siPass').value;\n\n    let users = JSON.parse(localStorage.getItem('users') || '[]');\n    const found = users.find(u=>u.email === email && u.pass === pass);\n    if(!found) return alert('Invalid credentials');\n\n    localStorage.setItem('currentUser', JSON.stringify(found));\n    location.href = 'index.html';\n  });\n}\n\n// ========== UPLOAD ==========\nconst uploadForm = document.getElementById('uploadForm');\nif(uploadForm){\n  uploadForm.addEventListener('submit', e=>{\n    e.preventDefault();\n    if(!user) return alert('Login required to upload.');\n\n    const file = document.getElementById('fileInput').files[0];\n    const caption = document.getElementById('caption').value.trim();\n\n    if(!file) return alert('Please select a file.');\n    const reader = new FileReader();\n    reader.onload = ()=>{\n      let posts = JSON.parse(localStorage.getItem('posts') || '[]');\n      const newPost = {\n        src: reader.result,\n        type: file.type,\n        caption,\n        user: user.name,\n        likes: 0,\n        date: new Date().toLocaleString()\n      };\n      posts.unshift(newPost);\n      localStorage.setItem('posts', JSON.stringify(posts));\n      alert('Upload successful!');\n      location.href='index.html';\n    };\n    reader.readAsDataURL(file);\n  });\n}\n\n// ========== RENDER POSTS ==========\nfunction renderPosts(targetId, onlyUser=false){\n  const el = document.getElementById(targetId);\n  if(!el) return;\n  let posts = JSON.parse(localStorage.getItem('posts') || '[]');\n  if(onlyUser && user){ posts = posts.filter(p => p.user === user.name); }\n\n  el.innerHTML = posts.length === 0 ? \n    \"<p style='text-align:center;opacity:0.6;'>No posts yet.</p>\" :\n    posts.map((p,i)=>`\n      <div class='card'>\n        ${p.type.startsWith('image') \n          ? `<img src='${p.src}' alt='post'/>`\n          : `<video controls src='${p.src}'></video>`}\n        <p><b>${p.user}</b> ‚Äî ${p.caption || ''}</p>\n        <small style=\"color:#777; padding:0 1rem;\">${p.date}</small>\n        <div class='actions'>\n          <button onclick='likePost(${i})'>‚ù§Ô∏è ${p.likes || 0}</button>\n          <button onclick='sharePost(${i})'>üîó Share</button>\n        </div>\n      </div>`).join('');\n}\n\n// Like Post\nfunction likePost(i){\n  let posts = JSON.parse(localStorage.getItem('posts') || '[]');\n  posts[i].likes = (posts[i].likes || 0) + 1;\n  localStorage.setItem('posts', JSON.stringify(posts));\n  renderPosts('gallery');\n  renderPosts('userGallery', true);\n}\n\n// Share Post\nfunction sharePost(i){\n  const posts = JSON.parse(localStorage.getItem('posts') || '[]');\n  navigator.clipboard.writeText(posts[i].src);\n  alert('Post link copied!');\n}\n\n// Initialize render on page load\nrenderPosts('gallery');\nrenderPosts('userGallery', true);\n\n// ========== DARK MODE ==========\nconst toggleBtn = document.getElementById('modeToggle');\nif(toggleBtn){\n  if(localStorage.getItem('dark') === 'true'){\n    document.body.classList.add('dark');\n    toggleBtn.textContent = '‚òÄÔ∏è';\n  }\n  toggleBtn.addEventListener('click', ()=>{\n    document.body.classList.toggle('dark');\n    localStorage.setItem('dark', document.body.classList.contains('dark'));\n    toggleBtn.textContent = document.body.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';\n  });\n}\n"
        }
    ]
}